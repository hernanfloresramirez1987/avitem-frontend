import{a as Ee}from"./chunk-YY67MLHQ.js";import{a as Se}from"./chunk-2Y7DYTT5.js";import{a as we}from"./chunk-KKCKPGXG.js";import{a as _e}from"./chunk-QVEUTXNH.js";import{a as xe,b as be}from"./chunk-OMPISH23.js";import{j as de,k as ce,l as ue,q as fe,r as ve,s as ge,t as Ce}from"./chunk-XRQKEXJE.js";import{a as me,b as se}from"./chunk-MDO2553C.js";import{a as H}from"./chunk-ON7IMD56.js";import{Aa as te,Ba as ie,Ca as le,Da as re,Ea as ne,Ma as oe,Na as ae,Oa as pe,b as $,c as W,ca as J,e as z,pa as K,qa as u,sa as Q,ta as X,va as Y,xa as Z,ya as ee}from"./chunk-6KC5HOCA.js";import{k as A,x as U}from"./chunk-QL2AGUDK.js";import"./chunk-F2X3VGZZ.js";import{$ as P,Aa as e,Fa as x,Lb as p,Ma as q,Mb as c,Nb as g,Sa as f,Tb as O,_ as k,ac as o,bc as a,cb as m,fb as j,ib as _,jb as R,lb as D,mb as G,nb as n,ob as t,pb as d,tb as L,x as V,xb as S,yb as w}from"./chunk-5DVEH5ZE.js";import"./chunk-C6Q5SG76.js";var ye=()=>({width:"100%"});function Ie(i,l){i&1&&(n(0,"small",8),p(1,"Error en el CI."),t())}function he(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.ciExpedit"),"."))}function Fe(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.name"),"."))}function Be(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.app"),"."))}function Te(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.apm"),"."))}function Ne(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.direccion"),"."))}function ke(i,l){if(i&1&&(d(0,"p-radioButton",35),n(1,"label",36),p(2),t()),i&2){let s=l.$implicit;m("inputId",s.key)("value",s)("formControlName","sexo"),e(),m("for",s.key),e(),c(s.name)}}function Pe(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.fnaci"),"."))}function Me(i,l){i&1&&(n(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.email"),"."))}function Ve(i,l){i&1&&(n(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.empresa"),"."))}function qe(i,l){i&1&&(n(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.nit"),"."))}function je(i,l){i&1&&(n(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.pr_direccionEmpresa"),"."))}function Re(i,l){if(i&1){let s=L();n(0,"div",37)(1,"p-button",38),o(2,"translate"),S("click",function(){k(s);let v=w();return P(v.cancel())}),t(),n(3,"p-button",39),o(4,"translate"),S("click",function(){k(s);let v=w();return P(v.cleanAll())}),t(),n(5,"p-button",40),o(6,"translate"),S("click",function(){k(s);let v=w();return P(v.save())}),t()()}if(i&2){let s=w();e(),m("label",a(2,4,"labels.cancel")),e(2),m("label",a(4,6,"labels.clean")),e(2),m("label",a(6,8,"labels.save"))("disabled",!s.registroForm.valid)}}var M=class i{constructor(l,s,r,v,b,E){this.proveedorServ=l;this.usersServ=s;this.translate=r;this.translateLanService=v;this.fb=b;this.router=E;this.translateLanService.changeLanguage$.subscribe(C=>this.translate.use(C)),this.usersServ.getExpedidoOptions().subscribe(C=>this.expedidoOptions=C),this.usersServ.getSexo().subscribe(C=>this.sexo=C),this.registroForm=this.fb.group({ci:["",[u.required,u.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[u.required]],ciComplement:[""],nombre:["",u.required],app:["",u.required],apm:[""],sexo:["",u.required],fnaci:[null,u.required],direccion:["",u.required],telefono:["",[]],email:["",[u.required,u.email]],empresa:["",u.required],nit:[""],telefonoEmpresa:["",u.required],direccionEmpresa:["",u.required]})}registroForm;expedidoOptions;sexo;checkComplementCI=!0;proveedorRegister;ngOnInit(){this.registroForm.valueChanges.pipe(V(5e3)).subscribe(l=>{console.log(`Formulario : 
`,l),console.log("Errores:",l.errors);for(let s in this.registroForm.controls)console.log(`${s}:`,this.registroForm.get(s)?.errors)})}save=()=>this.saveProveedor();saveProveedor(){console.log(this.asignarValores()),this.proveedorServ.postSaveProveedor(this.asignarValores()).subscribe(l=>{l.CodigoEstado==="201"&&this.router.navigate(["users/proveedores"])})}asignarValores(){let l=this.registroForm.value,r=new Date(l.fnaci).toISOString().split("T")[0];return this.proveedorRegister={p_ci:l.ci,p_ciExpedit:l.ciExpedit.code,p_ciComplement:l.ciComplement,p_nombre:l.nombre,p_app:l.app,p_apm:l.apm,p_sexo:l.sexo.key,p_fnaci:r,p_direccion:l.direccion,p_telefono:l.telefono,p_email:l.email,pr_empresa:l.empresa,pr_nit:l.nit,pr_telefonoEmpresa:l.telefonoEmpresa,pr_direccionEmpresa:l.direccionEmpresa}}cleanAll(){confirm("\xBFEst\xE1s seguro de querer limpiar el formulario?")&&this.registroForm.reset()}cancel(){confirm("\xBFEst\xE1s seguro de querer cancelar el registro y salir del formulario?")&&this.router.navigate(["users/proveedores"])}static \u0275fac=function(s){return new(s||i)(x(we),x(Se),x($),x(z),x(te),x(U))};static \u0275cmp=q({type:i,selectors:[["app-supplier-create"]],decls:105,vars:83,consts:[[3,"formGroup"],[3,"header","subheader"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","w-full","basis-[60%]"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","p-2","lg:w-full","md:w-full","w-full"],["for","ci",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName","fluid"],[2,"color","red"],["for","ServiceName",1,"w-15rem"],["type","text","pInputText","","placeholder","complemento",1,"w-full",3,"disabled","fluid"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click"],["for","expedition",1,"w-15rem"],["optionLabel","name","styleClass","w-full","placeholder","Select a Extension",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","flex-wrap","justify-content-left","align-items-center","pb-4","lg:w-full","md:w-full","w-full","p-2"],["for","name",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full","p-2"],["for","PublicPhone",1,"w-15rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["for","apm",1,"w-15rem"],["for","Web",1,"w-15rem"],["pInputText","","type","direccion",1,"w-full",3,"formControlName"],[1,"flex","md:flex-row","flex-row"],[1,"flex","justify-content-left","w-full","p-2"],["formControlName","fnaci","styleClass","w-full",1,"w-full","lg:w-full"],["pInputText","","type","tel","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-row","md:flex-row"],["pInputText","","type","email",1,"w-full",3,"formControlName"],[1,"col-12","md:col-6","lg:col-5","p-2","w-full","basis-[40%]"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full"],["for","empresa",1,"w-15rem"],["for","nit",1,"w-15rem"],["for","telefonoEmpresa",1,"w-15rem"],["pInputText","","type","tel",1,"w-full",3,"formControlName"],["pTemplate","footer"],["styleClass","w-full",1,"w-full","lg:w-full",3,"inputId","value","formControlName"],[1,"ml-2","justify-content-center",3,"for"],[1,"flex","gap-3","mt-1"],["severity","danger","styleClass","w-full",1,"w-full",3,"click","label"],["severity","secondary","styleClass","w-full",1,"w-full",3,"click","label"],["styleClass","w-full",1,"w-full",3,"click","label","disabled"]],template:function(s,r){if(s&1&&(n(0,"form",0)(1,"p-card",1),o(2,"translate"),o(3,"uppercase"),o(4,"translate"),n(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),p(10),o(11,"translate"),t(),d(12,"input",7),f(13,Ie,2,0,"small",8),t(),n(14,"div",5)(15,"label",9),p(16),o(17,"translate"),t(),n(18,"p-inputGroup"),d(19,"input",10),n(20,"button",11),S("click",function(){return r.checkComplementCI=!r.checkComplementCI}),t()()(),n(21,"div",5)(22,"label",12),p(23),o(24,"translate"),t(),d(25,"p-select",13),f(26,he,3,3,"small",8),t()(),n(27,"div",4)(28,"div",14)(29,"label",15),p(30),o(31,"translate"),t(),d(32,"input",7),f(33,Fe,3,3,"small",8),t()(),n(34,"div",4)(35,"div",16)(36,"label",17),p(37),o(38,"translate"),t(),d(39,"input",18),f(40,Be,3,3,"small",8),t(),n(41,"div",16)(42,"label",19),p(43),o(44,"translate"),t(),d(45,"input",18),f(46,Te,3,3,"small",8),t()(),n(47,"div",4)(48,"div",16)(49,"label",20),p(50),o(51,"translate"),t(),d(52,"input",21),f(53,Ne,3,3,"small",8),t()(),n(54,"div",22)(55,"div",23),D(56,ke,3,5,null,null,R),t(),n(58,"div",16)(59,"label",20),p(60),o(61,"translate"),t(),d(62,"p-datepicker",24),f(63,Pe,3,3,"small",8),t(),n(64,"div",16)(65,"label",20),p(66),o(67,"translate"),t(),d(68,"input",25),t()(),n(69,"div",26)(70,"div",16)(71,"label",20),p(72),o(73,"translate"),t(),d(74,"input",27),f(75,Me,3,3,"small",8),t()()(),n(76,"div",28)(77,"div",5)(78,"div",4)(79,"div",29)(80,"label",30),p(81),o(82,"translate"),t(),d(83,"input",18),f(84,Ve,3,3,"span"),t()(),n(85,"div",4)(86,"div",16)(87,"label",31),p(88),o(89,"translate"),t(),d(90,"input",18),f(91,qe,3,3,"span"),t(),n(92,"div",16)(93,"label",32),p(94),o(95,"translate"),t(),d(96,"input",33),t()(),n(97,"div",4)(98,"div",29)(99,"label",30),p(100),o(101,"translate"),t(),d(102,"input",18),f(103,je,3,3,"span"),t()()()()(),f(104,Re,7,10,"ng-template",34),t()()),s&2){let v,b,E,C,y,I,h,F,B,T,N;m("formGroup",r.registroForm),e(),m("header",a(3,50,a(2,48,"labels.register_supplier")))("subheader",a(4,52,"labels.form_suppliers")),e(9),c(a(11,54,"labels.ci")),e(2),m("formControlName","ci")("fluid",!0),e(),_((v=r.registroForm.get("ci"))!=null&&v.invalid&&((v=r.registroForm.get("ci"))!=null&&v.touched)?13:-1),e(3),c(a(17,56,"labels.ciComplement")),e(3),m("disabled",r.checkComplementCI)("fluid",!0),e(4),c(a(24,58,"labels.ciExpedit")),e(2),j(O(82,ye)),m("formControlName","ciExpedit")("options",r.expedidoOptions),e(),_((b=r.registroForm.get("ciExpedit"))!=null&&b.invalid&&((b=r.registroForm.get("ciExpedit"))!=null&&b.touched)?26:-1),e(4),c(a(31,60,"labels.name")),e(2),m("formControlName","nombre")("fluid",!0)("fluid",!0),e(),_((E=r.registroForm.get("nombre"))!=null&&E.invalid&&((E=r.registroForm.get("nombre"))!=null&&E.touched)?33:-1),e(4),c(a(38,62,"labels.app")),e(2),m("formControlName","app"),e(),_((C=r.registroForm.get("app"))!=null&&C.invalid&&((C=r.registroForm.get("app"))!=null&&C.touched)?40:-1),e(3),c(a(44,64,"labels.apm")),e(2),m("formControlName","apm"),e(),_((y=r.registroForm.get("apm"))!=null&&y.invalid&&((y=r.registroForm.get("apm"))!=null&&y.touched)?46:-1),e(4),c(a(51,66,"labels.direccion")),e(2),m("formControlName","direccion"),e(),_((I=r.registroForm.get("direccion"))!=null&&I.invalid&&((I=r.registroForm.get("direccion"))!=null&&I.touched)?53:-1),e(3),G(r.sexo),e(4),c(a(61,68,"labels.fnaci")),e(3),_((h=r.registroForm.get("fnaci"))!=null&&h.invalid&&((h=r.registroForm.get("fnaci"))!=null&&h.touched)?63:-1),e(3),c(a(67,70,"labels.telefono")),e(2),m("formControlName","telefono"),e(4),c(a(73,72,"labels.email")),e(2),m("formControlName","email"),e(),_((F=r.registroForm.get("email"))!=null&&F.invalid&&((F=r.registroForm.get("email"))!=null&&F.touched)?75:-1),e(6),c(a(82,74,"labels.enterprise")),e(2),m("formControlName","empresa"),e(),_((B=r.registroForm.get("empresa"))!=null&&B.invalid&&((B=r.registroForm.get("empresa"))!=null&&B.touched)?84:-1),e(4),c(a(89,76,"labels.nit")),e(2),m("formControlName","nit"),e(),_((T=r.registroForm.get("nit"))!=null&&T.invalid&&((T=r.registroForm.get("nit"))!=null&&T.touched)?91:-1),e(3),c(a(95,78,"labels.telefonoEmpresa")),e(2),m("formControlName","telefonoEmpresa"),e(4),c(a(101,80,"labels.direccionEmpresa")),e(2),m("formControlName","direccionEmpresa"),e(),_((N=r.registroForm.get("pr_direccionEmpresa"))!=null&&N.invalid&&((N=r.registroForm.get("pr_direccionEmpresa"))!=null&&N.touched)?103:-1)}},dependencies:[Ce,ge,J,le,Y,K,Q,X,Z,ee,ue,ce,ie,ne,re,se,me,ve,fe,pe,oe,ae,_e,de,be,xe,Ee,H,W,A],encapsulation:2})};export{M as default};
