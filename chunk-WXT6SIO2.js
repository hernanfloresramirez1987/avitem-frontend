import{a as Se}from"./chunk-KZPYSA73.js";import{a as Ee}from"./chunk-MNYFTS7H.js";import{a as we}from"./chunk-JNB2I2HX.js";import{b as fe}from"./chunk-IZGIIBK5.js";import{a as _e}from"./chunk-GKRCAYHA.js";import{a as Ce,b as be}from"./chunk-3A2ES3G4.js";import{a as ce,b as ue}from"./chunk-6JGNIX7Q.js";import{j as me,k as se,l as de,q as ve,r as ge,s as xe}from"./chunk-57TFHGI3.js";import"./chunk-5ETL6J2F.js";import{a as ae,b as pe}from"./chunk-WFOMRWAE.js";import{Ha as ie,Ia as le,Ja as re,Oa as ne,Pa as oe,Z as $,ka as W,la as u,na as z,oa as H,qa as J,sa as K,ta as Q,va as X,wa as Y,xa as Z,ya as ee,za as te}from"./chunk-TBXDAASS.js";import{k as A,x as U}from"./chunk-SWNQVGCQ.js";import"./chunk-F2X3VGZZ.js";import{$a as m,A as V,Ca as e,Gb as p,Ha as C,Hb as d,Ib as g,Na as q,Ob as O,Ta as f,Xb as o,Yb as a,aa as k,ba as P,cb as j,fb as _,gb as R,ib as D,jb as G,kb as r,lb as t,mb as c,qb as L,ub as S,vb as w}from"./chunk-4PTIY3UM.js";var Ie=()=>({width:"100%"});function ye(i,l){i&1&&(r(0,"small",8),p(1,"Error en el CI."),t())}function he(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.ciExpedit"),"."))}function Fe(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.name"),"."))}function Be(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.app"),"."))}function Te(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.apm"),"."))}function Ne(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.direccion"),"."))}function ke(i,l){if(i&1&&(c(0,"p-radioButton",36),r(1,"label",37),p(2),t()),i&2){let s=l.$implicit;m("inputId",s.key)("value",s)("formControlName","sexo"),e(),m("for",s.key),e(),d(s.name)}}function Pe(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.fnaci"),"."))}function Me(i,l){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.email"),"."))}function Ve(i,l){i&1&&(r(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.empresa"),"."))}function qe(i,l){i&1&&(r(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.nit"),"."))}function je(i,l){i&1&&(r(0,"span"),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"labels.pr_direccionEmpresa"),"."))}function Re(i,l){if(i&1){let s=L();r(0,"div",38)(1,"p-button",39),o(2,"translate"),S("click",function(){k(s);let v=w();return P(v.cancel())}),t(),r(3,"p-button",40),o(4,"translate"),S("click",function(){k(s);let v=w();return P(v.cleanAll())}),t(),r(5,"p-button",41),o(6,"translate"),S("click",function(){k(s);let v=w();return P(v.save())}),t()()}if(i&2){let s=w();e(),m("label",a(2,4,"labels.cancel")),e(2),m("label",a(4,6,"labels.clean")),e(2),m("label",a(6,8,"labels.save"))("disabled",!s.registroForm.valid)}}var M=class i{constructor(l,s,n,v,b,E){this.proveedorServ=l;this.usersServ=s;this.translate=n;this.translateLanService=v;this.fb=b;this.router=E;this.translateLanService.changeLanguage$.subscribe(x=>this.translate.use(x)),this.usersServ.getExpedidoOptions().subscribe(x=>this.expedidoOptions=x),this.usersServ.getSexo().subscribe(x=>this.sexo=x),this.registroForm=this.fb.group({ci:["",[u.required,u.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[u.required]],ciComplement:[""],nombre:["",u.required],app:["",u.required],apm:[""],sexo:["",u.required],fnaci:[null,u.required],direccion:["",u.required],telefono:["",[]],email:["",[u.required,u.email]],empresa:["",u.required],nit:[""],telefonoEmpresa:["",u.required],direccionEmpresa:["",u.required]})}registroForm;expedidoOptions;sexo;checkComplementCI=!0;proveedorRegister;ngOnInit(){this.registroForm.valueChanges.pipe(V(5e3)).subscribe(l=>{console.log(`Formulario : 
`,l),console.log("Errores:",l.errors);for(let s in this.registroForm.controls)console.log(`${s}:`,this.registroForm.get(s)?.errors)})}save=()=>this.saveProveedor();saveProveedor(){console.log(this.asignarValores()),this.proveedorServ.postSaveProveedor(this.asignarValores()).subscribe(l=>{l.CodigoEstado==="201"&&this.router.navigate(["users/proveedores"])})}asignarValores(){let l=this.registroForm.value,n=new Date(l.fnaci).toISOString().split("T")[0];return this.proveedorRegister={p_ci:l.ci,p_ciExpedit:l.ciExpedit.code,p_ciComplement:l.ciComplement,p_nombre:l.nombre,p_app:l.app,p_apm:l.apm,p_sexo:l.sexo.key,p_fnaci:n,p_direccion:l.direccion,p_telefono:l.telefono,p_email:l.email,pr_empresa:l.empresa,pr_nit:l.nit,pr_telefonoEmpresa:l.telefonoEmpresa,pr_direccionEmpresa:l.direccionEmpresa}}cleanAll(){confirm("\xBFEst\xE1s seguro de querer limpiar el formulario?")&&this.registroForm.reset()}cancel(){confirm("\xBFEst\xE1s seguro de querer cancelar el registro y salir del formulario?")&&this.router.navigate(["users/proveedores"])}static \u0275fac=function(s){return new(s||i)(C(we),C(Se),C(ne),C(ve),C(X),C(U))};static \u0275cmp=q({type:i,selectors:[["app-supplier-create"]],decls:112,vars:90,consts:[[3,"formGroup"],[3,"header"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","p-2","w-full","basis-[60%]"],[1,"flex","md:flex-row","flex-row","w-full","p-2"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","p-2","lg:w-full","md:w-full","w-full"],["for","ci",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName","fluid"],[2,"color","red"],["for","ServiceName",1,"w-15rem"],["type","text","pInputText","","placeholder","complemento",1,"w-full",3,"disabled","fluid"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click"],["for","expedition",1,"w-15rem"],["optionLabel","name","styleClass","w-full","placeholder","Select a Extension",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","pb-4","lg:w-full","md:w-full","w-full","p-2"],["for","name",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full","p-2"],["for","PublicPhone",1,"w-15rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["for","apm",1,"w-15rem"],["for","Web",1,"w-15rem"],["pInputText","","type","direccion",1,"w-full",3,"formControlName"],[1,"flex","md:flex-row","flex-row"],[1,"flex","justify-content-left","w-full","p-2"],["formControlName","fnaci","styleClass","w-full",1,"w-full","lg:w-full"],["pInputText","","type","tel","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-row","md:flex-row"],["pInputText","","type","email",1,"w-full",3,"formControlName"],[1,"col-12","md:col-6","lg:col-5","p-2","w-full","basis-[40%]"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full"],["for","empresa",1,"w-15rem"],["for","nit",1,"w-15rem"],["for","telefonoEmpresa",1,"w-15rem"],["pInputText","","type","tel",1,"w-full",3,"formControlName"],["pTemplate","footer"],["styleClass","w-full",1,"w-full","lg:w-full",3,"inputId","value","formControlName"],[1,"ml-2","justify-content-center",3,"for"],[1,"flex","gap-3","mt-1"],["severity","danger","styleClass","w-full",1,"w-full",3,"click","label"],["severity","secondary","styleClass","w-full",1,"w-full",3,"click","label"],["styleClass","w-full",1,"w-full",3,"click","label","disabled"]],template:function(s,n){if(s&1&&(r(0,"form",0)(1,"p-card",1),o(2,"translate"),o(3,"uppercase"),r(4,"div",2)(5,"div",3)(6,"h6"),p(7),o(8,"translate"),o(9,"uppercase"),t(),r(10,"div",4)(11,"div",5)(12,"label",6),p(13),o(14,"translate"),t(),c(15,"input",7),f(16,ye,2,0,"small",8),t(),r(17,"div",5)(18,"label",9),p(19),o(20,"translate"),t(),r(21,"p-inputGroup"),c(22,"input",10),r(23,"button",11),S("click",function(){return n.checkComplementCI=!n.checkComplementCI}),t()()(),r(24,"div",5)(25,"label",12),p(26),o(27,"translate"),t(),c(28,"p-select",13),f(29,he,3,3,"small",8),t()(),r(30,"div",14)(31,"div",15)(32,"label",16),p(33),o(34,"translate"),t(),c(35,"input",7),f(36,Fe,3,3,"small",8),t()(),r(37,"div",14)(38,"div",17)(39,"label",18),p(40),o(41,"translate"),t(),c(42,"input",19),f(43,Be,3,3,"small",8),t(),r(44,"div",17)(45,"label",20),p(46),o(47,"translate"),t(),c(48,"input",19),f(49,Te,3,3,"small",8),t()(),r(50,"div",14)(51,"div",17)(52,"label",21),p(53),o(54,"translate"),t(),c(55,"input",22),f(56,Ne,3,3,"small",8),t()(),r(57,"div",23)(58,"div",24),D(59,ke,3,5,null,null,R),t(),r(61,"div",17)(62,"label",21),p(63),o(64,"translate"),t(),c(65,"p-datepicker",25),f(66,Pe,3,3,"small",8),t(),r(67,"div",17)(68,"label",21),p(69),o(70,"translate"),t(),c(71,"input",26),t()(),r(72,"div",27)(73,"div",17)(74,"label",21),p(75),o(76,"translate"),t(),c(77,"input",28),f(78,Me,3,3,"small",8),t()()(),r(79,"div",29)(80,"div",5)(81,"h6"),p(82),o(83,"translate"),o(84,"uppercase"),t(),r(85,"div",14)(86,"div",30)(87,"label",31),p(88),o(89,"translate"),t(),c(90,"input",19),f(91,Ve,3,3,"span"),t()(),r(92,"div",14)(93,"div",17)(94,"label",32),p(95),o(96,"translate"),t(),c(97,"input",19),f(98,qe,3,3,"span"),t(),r(99,"div",17)(100,"label",33),p(101),o(102,"translate"),t(),c(103,"input",34),t()(),r(104,"div",14)(105,"div",30)(106,"label",31),p(107),o(108,"translate"),t(),c(109,"input",19),f(110,je,3,3,"span"),t()()()()(),f(111,Re,7,10,"ng-template",35),t()()),s&2){let v,b,E,x,I,y,h,F,B,T,N;m("formGroup",n.registroForm),e(),m("header",a(3,51,a(2,49,"labels.register_supplier"))),e(6),d(a(9,55,a(8,53,"labels.detail_people"))),e(6),d(a(14,57,"labels.ci")),e(2),m("formControlName","ci")("fluid",!0),e(),_((v=n.registroForm.get("ci"))!=null&&v.invalid&&((v=n.registroForm.get("ci"))!=null&&v.touched)?16:-1),e(3),d(a(20,59,"labels.ciComplement")),e(3),m("disabled",n.checkComplementCI)("fluid",!0),e(4),d(a(27,61,"labels.ciExpedit")),e(2),j(O(89,Ie)),m("formControlName","ciExpedit")("options",n.expedidoOptions),e(),_((b=n.registroForm.get("ciExpedit"))!=null&&b.invalid&&((b=n.registroForm.get("ciExpedit"))!=null&&b.touched)?29:-1),e(4),d(a(34,63,"labels.name")),e(2),m("formControlName","nombre")("fluid",!0)("fluid",!0),e(),_((E=n.registroForm.get("nombre"))!=null&&E.invalid&&((E=n.registroForm.get("nombre"))!=null&&E.touched)?36:-1),e(4),d(a(41,65,"labels.app")),e(2),m("formControlName","app"),e(),_((x=n.registroForm.get("app"))!=null&&x.invalid&&((x=n.registroForm.get("app"))!=null&&x.touched)?43:-1),e(3),d(a(47,67,"labels.apm")),e(2),m("formControlName","apm"),e(),_((I=n.registroForm.get("apm"))!=null&&I.invalid&&((I=n.registroForm.get("apm"))!=null&&I.touched)?49:-1),e(4),d(a(54,69,"labels.direccion")),e(2),m("formControlName","direccion"),e(),_((y=n.registroForm.get("direccion"))!=null&&y.invalid&&((y=n.registroForm.get("direccion"))!=null&&y.touched)?56:-1),e(3),G(n.sexo),e(4),d(a(64,71,"labels.fnaci")),e(3),_((h=n.registroForm.get("fnaci"))!=null&&h.invalid&&((h=n.registroForm.get("fnaci"))!=null&&h.touched)?66:-1),e(3),d(a(70,73,"labels.telefono")),e(2),m("formControlName","telefono"),e(4),d(a(76,75,"labels.email")),e(2),m("formControlName","email"),e(),_((F=n.registroForm.get("email"))!=null&&F.invalid&&((F=n.registroForm.get("email"))!=null&&F.touched)?78:-1),e(4),d(a(84,79,a(83,77,"labels.detail_supplier"))),e(6),d(a(89,81,"labels.enterprise")),e(2),m("formControlName","empresa"),e(),_((B=n.registroForm.get("empresa"))!=null&&B.invalid&&((B=n.registroForm.get("empresa"))!=null&&B.touched)?91:-1),e(4),d(a(96,83,"labels.nit")),e(2),m("formControlName","nit"),e(),_((T=n.registroForm.get("nit"))!=null&&T.invalid&&((T=n.registroForm.get("nit"))!=null&&T.touched)?98:-1),e(3),d(a(102,85,"labels.telefonoEmpresa")),e(2),m("formControlName","telefonoEmpresa"),e(4),d(a(108,87,"labels.direccionEmpresa")),e(2),m("formControlName","direccionEmpresa"),e(),_((N=n.registroForm.get("pr_direccionEmpresa"))!=null&&N.invalid&&((N=n.registroForm.get("pr_direccionEmpresa"))!=null&&N.touched)?110:-1)}},dependencies:[xe,ge,$,Z,J,W,z,H,K,Q,de,se,Y,te,ee,pe,ae,ue,ce,re,ie,le,fe,me,be,Ce,Ee,_e,oe,A],encapsulation:2})};export{M as default};
