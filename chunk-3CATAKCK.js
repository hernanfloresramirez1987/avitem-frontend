import{a as _e}from"./chunk-DKBSZUNB.js";import{a as ce}from"./chunk-UGFRYHF3.js";import{a as ve}from"./chunk-5D63LE4M.js";import{a as ue,b as fe}from"./chunk-7F3ROMIE.js";import{a as ge}from"./chunk-YNIAV7RY.js";import{a as le,b as de,c as T}from"./chunk-XRCNOI5B.js";import{b as me}from"./chunk-AEP33MGT.js";import{G as ie,J as re,K as oe,X as ne,Y as ae,b as H,c as O,e as z,ea as pe,fa as se,g as J,h as C,j as K,k as Q,m as W,o as X,p as Y,q as Z,r as ee,s as te}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import{a as B,i as G,j as $}from"./chunk-NM3HJ4DI.js";import{s as U,t as N}from"./chunk-JAFPLUWG.js";import{Cb as k,Db as M,Mb as l,Nb as g,Ob as h,Sa as t,Ta as m,Tb as A,Ub as q,V as E,Wb as R,_ as F,dc as d,ea as V,ec as p,hb as u,jb as s,oa as j,ob as v,pa as L,tb as n,ub as i,vb as f,zb as D}from"./chunk-PQPLRZS3.js";var he=(()=>{class e{#e;constructor(r){this.http=r,this.#e=T.URL_API,this.getAllCategolias=()=>this.http.get(`${this.#e}categorias`)}static{this.\u0275fac=function(c){return new(c||e)(F(B))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var be=(()=>{class e{#e;constructor(r){this.http=r,this.#e=T.URL_API,this.getAllColores=()=>this.http.get(`${this.#e}colores`)}static{this.\u0275fac=function(c){return new(c||e)(F(B))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Se=()=>["/inventory/products"];function Ie(e,_){e&1&&(n(0,"span",7),l(1,"Error en el Nombre."),i())}function Pe(e,_){e&1&&(n(0,"span",7),l(1,"Error en el Nombre."),i())}function Ee(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.fechaIngreso"),"."))}function Fe(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.unidadMedida"),"."))}function Me(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.id_color"),"."))}function Ne(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.codigoProducto"),"."))}function Be(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.id_proveedor"),"."))}function Te(e,_){e&1&&(n(0,"span",7),l(1),d(2,"translate"),i()),e&2&&(t(),h("Error en el ",p(2,1,"inventory.id_categoria"),"."))}function je(e,_){if(e&1){let r=D();n(0,"div",25),f(1,"p-button",26),n(2,"p-button",27),k("click",function(){j(r);let o=M();return L(o.cleanAll())}),i(),n(3,"p-button",28),k("click",function(){j(r);let o=M();return L(o.saveProcto())}),i()()}if(e&2){let r=M();t(),s("routerLink",R(2,Se)),t(2),s("disabled",!r.registroForm.valid)}}var at=(()=>{class e{constructor(r,c,o,b,w,x,y,S,I){this.categoriasServ=r,this.coloresServi=c,this.proveedoresServ=o,this.productosServ=b,this.translate=w,this.translateLanService=x,this.fb=y,this.router=S,this.datePipe=I,this.translateLanService.changeLanguage$.subscribe(a=>this.translate.use(a));let P=this.datePipe.transform(new Date,"dd/MM/yyyy");this.registroForm=this.fb.group({nombre:["",[C.required]],descripcion:[""],fechaIngreso:[P,C.required],unidadMedida:["",C.required],codigoProducto:["",C.required],id_color:["",C.required],id_proveedor:["",C.required],id_categoria:["",C.required]}),this.productosServ.getUnidsMedida().subscribe(a=>this.unidades=a),this.proveedoresServ.postProveedoresSearch(this.proveedorDto).subscribe({next:a=>this.proveedores=a,error:a=>console.error("Error al obtener proveedores:",a)}),this.categoriasServ.getAllCategolias().subscribe({next:a=>this.categorias=a,error:a=>console.error("Error al obtener categorias:",a)}),this.coloresServi.getAllColores().subscribe({next:a=>{this.colores=a,console.log(this.colores)},error:a=>console.error("Error al obtener proveedores:",a)}),console.log(this.colores)}getColorBackground(r){switch(r){case"Nat":return"gray";case"Cha":return"#FBE7C6";case"Neg":return"#000000";case"Mad":return"#8B4513";default:return"#FFFFFF"}}saveProcto(){console.log(this.asignarValores()),this.productosServ.postProduct(this.asignarValores()).subscribe(r=>{r.CodigoEstado==="201"&&this.router.navigate(["inventory/products"])})}asignarValores(){let r=this.registroForm.value;return this.productoRegister={p_nombre:r.nombre,p_descripcion:r.descripcion,p_cantidadStock:0,p_fechaIngreso:r.fechaIngreso,p_unidadMedida:r.unidadMedida.medida,p_codigoProducto:r.codigoProducto,p_idProveedor:Number(r.id_proveedor.id),p_idCategoria:Number(r.id_color.id),p_idColor:Number(r.id_categoria.id),p_state:1}}cleanAll(){this.registroForm.patchValue({total:"",nombre:"",descripcion:"",fechaIngreso:new Date,unidadMedida:"",codigoProducto:"",id_color:"",id_proveedor:"",id_categoria:""},{emitEvent:!1})}static{this.\u0275fac=function(c){return new(c||e)(m(he),m(be),m(ge),m(_e),m(H),m(z),m(Z),m(G),m(N))}}static{this.\u0275cmp=V({type:e,selectors:[["app-product-create"]],standalone:!0,features:[A([N]),q],decls:56,vars:52,consts:[[3,"formGroup"],[3,"header"],[1,"align-items-left","justify-content-top","pr-2"],[1,"flex","flex-column","md:flex-row","flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-8","md:w-6"],["for","nombre",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],[2,"color","red"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","px-2"],["for","description",1,"w-20rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-4","md:w-5"],["for","fechaIngreso",1,"w-15rem"],["styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-column","flex-row","md:flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full"],["for","unidadMedida",1,"w-15rem"],["optionLabel","medida","styleClass","w-full","placeholder","Seleccionar una Unidad",1,"w-full","lg:w-full",3,"options","formControlName"],["for","color",1,"w-15rem"],["optionLabel","color","styleClass","w-full","placeholder","Seleccionar un Color",1,"w-full","lg:w-full",3,"options","formControlName"],["for","codigoProducto",1,"w-15rem"],["for","proveedor",1,"w-15rem"],["optionLabel","empresa","styleClass","w-full","placeholder","Select un Proveedor",1,"w-full","lg:w-full",3,"formControlName","options","editable"],["for","LastName",1,"w-15rem"],["optionLabel","nombre","styleClass","w-full","placeholder","Select una Categoria",1,"w-full","lg:w-full",3,"formControlName","options","editable"],["pTemplate","footer"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","danger","styleClass","w-full",1,"w-full",3,"routerLink"],["label","Limpiar","severity","secondary","styleClass","w-full",1,"w-full",3,"click"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"]],template:function(c,o){if(c&1&&(n(0,"form",0)(1,"p-card",1),d(2,"translate"),d(3,"uppercase"),n(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),l(8),d(9,"translate"),i(),f(10,"input",6),u(11,Ie,2,0,"span",7),i(),n(12,"div",8)(13,"label",9),l(14),d(15,"translate"),i(),f(16,"input",6),u(17,Pe,2,0,"span",7),i(),n(18,"div",10)(19,"label",11),l(20),d(21,"translate"),i(),f(22,"p-calendar",12),u(23,Ee,3,3,"span",7),i()(),n(24,"div",13)(25,"div",14)(26,"label",15),l(27),d(28,"translate"),i(),f(29,"p-dropdown",16),u(30,Fe,3,3,"span",7),i(),n(31,"div",8)(32,"label",17),l(33),d(34,"translate"),i(),f(35,"p-dropdown",18),u(36,Me,3,3,"span",7),i(),n(37,"div",8)(38,"label",19),l(39),d(40,"translate"),i(),f(41,"input",6),u(42,Ne,3,3,"span",7),i(),n(43,"div",8)(44,"label",20),l(45),d(46,"translate"),i(),f(47,"p-dropdown",21),u(48,Be,3,3,"span",7),i(),n(49,"div",14)(50,"label",22),l(51),d(52,"translate"),i(),f(53,"p-dropdown",23),u(54,Te,3,3,"span",7),i()()(),u(55,je,4,3,"ng-template",24),i()()),c&2){let b,w,x,y,S,I,P,a;s("formGroup",o.registroForm),t(),s("header",p(3,34,p(2,32,"labels.register_product"))),t(7),g(p(9,36,"inventory.nombre")),t(2),s("formControlName","nombre"),t(),v(11,(b=o.registroForm.get("nombre"))!=null&&b.invalid&&((b=o.registroForm.get("nombre"))!=null&&b.touched)?11:-1),t(3),g(p(15,38,"inventory.description")),t(2),s("formControlName","descripcion"),t(),v(17,(w=o.registroForm.get("description"))!=null&&w.invalid&&((w=o.registroForm.get("description"))!=null&&w.touched)?17:-1),t(3),g(p(21,40,"inventory.fechaIngreso")),t(2),s("formControlName","fechaIngreso"),t(),v(23,(x=o.registroForm.get("fechaIngreso"))!=null&&x.invalid&&((x=o.registroForm.get("fechaIngreso"))!=null&&x.touched)?23:-1),t(4),g(p(28,42,"inventory.unidadMedida")),t(2),s("options",o.unidades)("formControlName","unidadMedida"),t(),v(30,(y=o.registroForm.get("unidadMedida"))!=null&&y.invalid&&((y=o.registroForm.get("unidadMedida"))!=null&&y.touched)?30:-1),t(3),g(p(34,44,"inventory.color")),t(2),s("options",o.colores)("formControlName","id_color"),t(),v(36,(S=o.registroForm.get("id_color"))!=null&&S.invalid&&((S=o.registroForm.get("id_color"))!=null&&S.touched)?36:-1),t(3),g(p(40,46,"inventory.codigoProducto")),t(2),s("formControlName","codigoProducto"),t(),v(42,(I=o.registroForm.get("codigoProducto"))!=null&&I.invalid&&((I=o.registroForm.get("codigoProducto"))!=null&&I.touched)?42:-1),t(3),g(p(46,48,"inventory.id_proveedor")),t(2),s("formControlName","id_proveedor")("options",o.proveedores)("editable",!0),t(),v(48,(P=o.registroForm.get("id_proveedor"))!=null&&P.invalid&&((P=o.registroForm.get("id_proveedor"))!=null&&P.touched)?48:-1),t(3),g(p(52,50,"inventory.id_categoria")),t(2),s("formControlName","id_categoria")("options",o.categorias)("editable",!0),t(),v(54,(a=o.registroForm.get("id_categoria"))!=null&&a.invalid&&((a=o.registroForm.get("id_categoria"))!=null&&a.touched)?54:-1)}},dependencies:[fe,ue,ie,te,W,J,K,Q,X,Y,oe,re,se,pe,ae,ne,de,le,ve,me,O,U,ce,ee,$],styles:[".color-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 10px;color:#fff;border-radius:4px}"]})}}return e})();export{at as default};
