import{a as Te}from"./chunk-I2342VKF.js";import{a as he}from"./chunk-34R2RR7Q.js";import{a as be}from"./chunk-NINX4UDH.js";import{a as ue,d as fe,e as Ce,f as Se,g as ge,h as ye}from"./chunk-N674FEQB.js";import"./chunk-JTXMDS4E.js";import"./chunk-2TFTJWQW.js";import"./chunk-GLG5OO3S.js";import{b as ae,c as pe,d as se,e as me,f as ce,g as de,i as _e}from"./chunk-NHAPQC3W.js";import"./chunk-KFFE56HM.js";import{a as xe,b as ve}from"./chunk-QLWCHRGM.js";import"./chunk-G255QGHI.js";import"./chunk-NUGAOAR2.js";import{b as G,c as J,d as K,e as W}from"./chunk-6HYSLB2P.js";import{i as le,j as re}from"./chunk-LC6JGRRQ.js";import"./chunk-2WKEWB2B.js";import{E as te,F as ie,G as ne,H as oe,j as Y,l as Z,s as ee}from"./chunk-3T4WVZA5.js";import"./chunk-F2X3VGZZ.js";import{j as U}from"./chunk-THLIJB7Y.js";import{ea as X}from"./chunk-AAQOC4TC.js";import{o as Q,r as H}from"./chunk-F7YKD2CL.js";import{$ as v,Aa as o,Cb as S,Fa as C,Fb as R,Gb as $,Hb as V,Lb as O,Ma as D,Mb as m,Ob as d,Pb as z,Sa as y,Wb as N,_ as x,cb as c,cc as a,dc as p,fc as b,hb as j,ib as I,kb as w,lb as E,ma as T,mb as F,n as k,nb as s,ob as r,pb as u,sc as M,tb as B,tc as q,yb as h,zb as l}from"./chunk-J6TCZN46.js";import{a as P}from"./chunk-C6Q5SG76.js";var Ie=["dt1"],we=["filter"],Ee=t=>({color:t,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function Fe(t,i){if(t&1){let e=B();s(0,"div",9)(1,"p-iconfield",10)(2,"p-inputgroup")(3,"p-button",11),a(4,"translate"),h("click",function(){x(e);let _=l(),g=O(5);return v(_.clear(g))}),r(),s(5,"p-button",12),h("click",function(){x(e);let _=l();return v(_.add())}),r(),u(6,"p-button",13),r()()()}t&2&&(o(3),c("label",p(4,4,"labels.clear"))("outlined",!0),o(2),c("outlined",!0),o(),c("outlined",!0))}function Be(t,i){t&1&&(s(0,"th",18)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2&&(c("pSortableColumn","id"),o(2),d("",p(4,5,p(3,3,"labels.id"))," "),o(3),c("field","id"))}function Me(t,i){if(t&1&&(s(0,"th",19)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;c("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.ci"))," "),o(3),c("field",e.field)}}function Pe(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.nombre"))," "),o(3),c("field",e.field)}}function Re(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.app"))," "),o(3),c("field",e.field)}}function $e(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.apm"))," "),o(3),c("field",e.field)}}function Ve(t,i){t&1&&(s(0,"th",21),m(1),a(2,"translate"),a(3,"uppercase"),r()),t&2&&(o(),d("",p(3,3,p(2,1,"labels.telefono"))," "))}function Le(t,i){if(t&1&&(s(0,"th",22)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.sexo"))," "),o(3),c("field",e.field)}}function Ae(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.fnaci"))," "),o(3),c("field",e.field)}}function ke(t,i){if(t&1&&(s(0,"th",23)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels.email"))," "),o(3),c("field",e.field)}}function De(t,i){t&1&&(s(0,"th",21),m(1),a(2,"translate"),a(3,"uppercase"),r()),t&2&&(o(),d("",p(3,3,p(2,1,"labels.telefono"))," "))}function je(t,i){if(t&1&&(s(0,"th",24)(1,"div",25),m(2),a(3,"translate"),a(4,"uppercase"),u(5,"p-sortIcon",26),r()()),t&2){let e=l().$implicit;S("pSortableColumn",e.field),o(2),d("",p(4,5,p(3,3,"labels."+e.field))," "),o(3),c("field",e.field)}}function Oe(t,i){if(t&1&&y(0,Be,6,7,"th",18)(1,Me,6,7,"th",19)(2,Pe,6,7,"th",20)(3,Re,6,7,"th",20)(4,$e,6,7,"th",20)(5,Ve,4,5,"th",21)(6,Le,6,7,"th",22)(7,Ae,6,7,"th",20)(8,ke,6,7,"th",23)(9,De,4,5,"th",21)(10,je,6,7,"th",24),t&2){let e,n=i.$implicit;I((e=n.field)==="id"?0:e==="ci"?1:e==="nombre"?2:e==="app"?3:e==="apm"?4:e==="telefono"?5:e==="sexo"?6:e==="fnaci"?7:e==="email"?8:e==="telefono"?9:10)}}function ze(t,i){t&1&&u(0,"appcommon-filter-input",27)}function Ne(t,i){t&1&&u(0,"appcommon-filter-input",28)}function qe(t,i){}function Qe(t,i){if(t&1&&u(0,"appcommon-filter-input",29),t&2){let e=l().$implicit;c("field",e.field)}}function He(t,i){if(t&1&&(s(0,"th",16),y(1,ze,1,0,"appcommon-filter-input",27)(2,Ne,1,0,"appcommon-filter-input",28)(3,qe,0,0)(4,Qe,1,1,"appcommon-filter-input",29),r()),t&2){let e,n=i.$implicit;o(),I((e=n.field)==="bin_qty_max"?1:e==="bin_qty_min"?2:e==="image"?3:4)}}function Ue(t,i){t&1&&(s(0,"th",17),m(1,"cargando"),r())}function Ge(t,i){if(t&1&&(s(0,"tr")(1,"th",14),u(2,"p-tableHeaderCheckbox",15),r(),E(3,Oe,11,1,null,null,w),r(),s(5,"tr"),E(6,He,5,1,"th",16,w,!1,Ue,2,0,"th",17),r()),t&2){let e=i.$implicit;o(3),F(e),o(3),F(e)}}function Je(t,i){if(t&1&&m(0),t&2){let e=l(2).$implicit;d(" ",e.id," ")}}function Ke(t,i){if(t&1&&m(0),t&2){let e=l(2).$implicit;z(" ",e.ci," ",e.ciExpedit," ")}}function We(t,i){if(t&1&&m(0),t&2){let e=l().$implicit,n=l().$implicit;d(" ",n[e.field]," ")}}function Xe(t,i){if(t&1&&m(0),t&2){let e=l().$implicit,n=l().$implicit;d(" ",n[e.field]," ")}}function Ye(t,i){if(t&1&&m(0),t&2){let e=l().$implicit,n=l().$implicit;d(" ",n[e.field]," ")}}function Ze(t,i){if(t&1&&(u(0,"i",32),m(1)),t&2){let e=l().$implicit,n=l().$implicit,_=l();j("pi ",n[e.field]==="V"?"pi-mars":"pi-venus",""),c("ngStyle",N(5,Ee,n[e.field]==="V"?"blue":"red")),o(),d(" ",_.getSexo(n[e.field])," ")}}function et(t,i){if(t&1&&m(0),t&2){let e=l().$implicit,n=l().$implicit;d(" ",n[e.field]," ")}}function tt(t,i){if(t&1&&(s(0,"td"),y(1,Je,1,1)(2,Ke,1,2)(3,We,1,1)(4,Xe,1,1)(5,Ye,1,1)(6,Ze,2,7)(7,et,1,1),r()),t&2){let e,n=i.$implicit;o(),I((e=n.field)==="id"?1:e==="ci"?2:e==="nombre"?3:e==="app"?4:e==="apm"?5:e==="sexo"?6:7)}}function it(t,i){if(t&1&&(s(0,"tr")(1,"td",30),u(2,"p-tableCheckbox",31),r(),E(3,tt,8,1,"td",null,w),r()),t&2){let e=i.$implicit,n=i.columns;o(2),c("value",e),o(),F(n)}}function nt(t,i){if(t&1){let e=B();s(0,"div",33)(1,"p-multiSelect",34),h("onChange",function(_){x(e);let g=l();return v(g.cargaColumnas(_))})("onSelectAllChange",function(_){x(e);let g=l();return v(g.selectAll(_))}),r()()}if(t&2){let e=l();o(),c("options",e.colsOptionsSelect)("ngModel",e.columnsSelectSignal())}}function ot(t,i){t&1&&(s(0,"tr")(1,"td",35),m(2,"No order found."),r()())}function lt(t,i){t&1&&(s(0,"tr")(1,"td",35),m(2,"Loading orders data. Please wait."),r()())}var L=class t{constructor(i,e,n,_,g,A,rt){this.employeeServ=i;this.filterservice=e;this.translate=n;this.translateLanService=_;this.personasService=g;this.router=A;this.arrayurilservice=rt;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),q(()=>{this.employeeServ.postProveedores(this.employeedto()).pipe(k(f=>(console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log(P({},this.employeedto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})})}table;filter;stateValues=T({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=T([]);employeedto=T({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=ue.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","empresa","nit","direccion","telefono","email"];columns=this.allowedColumns;columnsSelectSignal=M(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));colsOptionsSelect=this.allowedColumns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)}));keylocalColumn="proveedors_cols";clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(e=>e.field):[],rows:Number(i.rows)},filter:P({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}getSexo=i=>this.personasService.getSexo(i);add=()=>this.router.navigate(["/users/proveedores/create"]);cargaColumnas(i){let e=this.arrayurilservice.selectOrderedArray(this.colsOptionsSelect,i.value);this.columnsSelectSignal=M(()=>e),localStorage.setItem(this.keylocalColumn,JSON.stringify(this.columnsSelectSignal()))}selectAll(i){let e=[];i.checked&&(e=this.allowedColumns),this.columnsSelectSignal=M(()=>e),localStorage.setItem(this.keylocalColumn,JSON.stringify(e))}static \u0275fac=function(e){return new(e||t)(C(Te),C(ye),C(G),C(W),C(he),C(U),C(be))};static \u0275cmp=D({type:t,selectors:[["app-suppliers"]],viewQuery:function(e,n){if(e&1&&(R(Ie,5),R(we,5)),e&2){let _;$(_=V())&&(n.table=_.first),$(_=V())&&(n.filter=_.first)}},decls:16,vars:22,consts:[["dt1",""],["caption",""],["paginatorleft",""],["emptymessage",""],["loadingbody",""],[3,"header","subheader"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","53vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end"],["iconPosition","left"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-user-plus","severity","primary",3,"click","outlined"],["pRipple","","icon","pi pi-ellipsis-v","severity","secondary",3,"outlined"],["rowspan","2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","bin_qty_max"],["field","bin_qty_min"],["type","text",3,"field"],[1,"flex","py-4"],[1,"p-2",3,"value"],[3,"ngStyle"],[1,"flex","align-items-center","justify-content-center"],["inputId","float-label","optionLabel","header","selectedItemsLabel","{0} columns selected","size","small","placeholder","Choose Columns",1,"p-input-icon-left",3,"onChange","onSelectAllChange","options","ngModel"],["colspan","8"]],template:function(e,n){if(e&1){let _=B();s(0,"p-card",5),a(1,"translate"),a(2,"uppercase"),a(3,"translate"),s(4,"p-table",6,0),h("onLazyLoad",function(A){return x(_),v(n.getDataPaged(A))}),y(6,Fe,7,6,"ng-template",null,1,b)(8,Ge,9,1,"ng-template",7)(9,it,5,1,"ng-template",8)(10,nt,2,2,"ng-template",null,2,b)(12,ot,3,0,"ng-template",null,3,b)(14,lt,3,0,"ng-template",null,4,b),r()()}e&2&&(c("header",p(2,18,p(1,16,"pages.suppliers")))("subheader",p(3,20,"labels.admin_suppliers")),o(4),c("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[K,J,re,le,X,H,_e,ae,pe,me,se,ce,de,ie,te,ge,Se,oe,ne,Q,ve,xe,Ce,fe,ee,Y,Z],encapsulation:2})};export{L as default};
