import{a as ae,b as le,c as pe}from"./chunk-66VDLTXG.js";import{a as de}from"./chunk-F37XBFDU.js";import{a as te,b as ie,c as N}from"./chunk-B5EANN4G.js";import{C as W,F as X,G as Y,T as Z,U as ee,aa as oe,b as A,ba as re,c as R,da as ne,e as G,g as $,h,j as U,k as H,m as J,n as z,o as K,p as O,r as Q}from"./chunk-IE3H7VCA.js";import{a as F,i as q}from"./chunk-CIYWZG3H.js";import"./chunk-NMGI7OHJ.js";import{s as k}from"./chunk-DQQKSOUK.js";import{Ab as V,Bb as M,Kb as l,Lb as g,Mb as y,Sa as t,Sb as D,Ta as f,V as P,_ as E,bc as p,cc as d,ea as T,hb as c,jb as m,oa as j,ob as v,pa as B,tb as n,ub as i,vb as u,zb as L}from"./chunk-2SHBWNGG.js";var me=(()=>{class e{#e;constructor(o){this.http=o,this.#e=N.URL_API,this.getAll=()=>this.http.get(`${this.#e}categorias`)}static{this.\u0275fac=function(a){return new(a||e)(E(F))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ce=(()=>{class e{#e;constructor(o){this.http=o,this.#e=N.URL_API,this.postProducts=a=>this.http.post(`${this.#e}productos/list`,a),this.postProduct=a=>this.http.post(`${this.#e}productos/register`,a)}static{this.\u0275fac=function(a){return new(a||e)(E(F))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ge(e,_){e&1&&(n(0,"span"),l(1,"Error en el Nombre."),i())}function _e(e,_){e&1&&(n(0,"span"),l(1,"Error en el Nombre."),i())}function he(e,_){e&1&&(n(0,"span"),l(1),p(2,"translate"),i()),e&2&&(t(),y("Error en el ",d(2,1,"inventory.fechaIngreso"),"."))}function Ce(e,_){e&1&&(n(0,"span"),l(1),p(2,"translate"),i()),e&2&&(t(),y("Error en el ",d(2,1,"inventory.unidadMedida"),"."))}function be(e,_){e&1&&(n(0,"span"),l(1),p(2,"translate"),i()),e&2&&(t(),y("Error en el ",d(2,1,"inventory.codigoProducto"),"."))}function xe(e,_){e&1&&(n(0,"span"),l(1),p(2,"translate"),i()),e&2&&(t(),y("Error en el ",d(2,1,"inventory.id_proveedor"),"."))}function we(e,_){e&1&&(n(0,"span"),l(1),p(2,"translate"),i()),e&2&&(t(),y("Error en el ",d(2,1,"inventory.id_categoria"),"."))}function ye(e,_){if(e&1){let o=L();n(0,"div",21),u(1,"p-button",22),n(2,"p-button",23),V("click",function(){j(o);let r=M();return B(r.saveProcto())}),i()()}if(e&2){let o=M();t(2),m("disabled",!o.registroForm.valid)}}var Ke=(()=>{class e{constructor(o,a,r,C,b,x,w){this.categoriasServ=o,this.proveedoresServ=a,this.productosServ=r,this.translate=C,this.translateLanService=b,this.fb=x,this.router=w,this.translateLanService.changeLanguage$.subscribe(s=>this.translate.use(s)),this.registroForm=this.fb.group({nombre:["",[h.required]],descripcion:[""],fechaIngreso:[new Date,h.required],unidadMedida:["",h.required],codigoProducto:["",h.required],id_proveedor:["",h.required],id_categoria:["",h.required]}),this.proveedoresServ.postProveedoresSearch(this.proveedorDto).subscribe({next:s=>{console.log(s),this.proveedores=s,console.log(this.proveedores)},error:s=>console.error("Error al obtener proveedores:",s)}),this.categoriasServ.getAll().subscribe(s=>{this.categorias=s})}saveProcto(){console.log(this.asignarValores()),this.productosServ.postProduct(this.asignarValores()).subscribe(o=>{o.CodigoEstado==="201"&&this.router.navigate(["inventory/products"])})}asignarValores(){let o=this.registroForm.value;return this.productoRegister={p_nombre:o.nombre,p_descripcion:o.descripcion,p_cantidadStock:0,p_fechaIngreso:o.fechaIngreso,p_unidadMedida:o.unidadMedida,p_codigoProducto:o.codigoProducto,p_idProveedor:Number(o.id_proveedor.id),p_idCategoria:Number(o.id_categoria.id),p_state:1}}static{this.\u0275fac=function(a){return new(a||e)(f(me),f(de),f(ce),f(A),f(G),f(O),f(q))}}static{this.\u0275cmp=T({type:e,selectors:[["app-product-create"]],standalone:!0,features:[D],decls:50,vars:44,consts:[[3,"formGroup"],[3,"header"],[1,"align-items-left","justify-content-top","pr-2"],[1,"flex","flex-column","md:flex-row","flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-8","md:w-6"],["for","nombre",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","px-2"],["for","description",1,"w-20rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-4","md:w-5"],["for","fechaIngreso",1,"w-15rem"],["styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-column","flex-row","md:flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full"],["for","unidadMedida",1,"w-15rem"],["for","codigoProducto",1,"w-15rem"],["for","proveedor",1,"w-15rem"],["optionLabel","empresa","styleClass","w-full","placeholder","Select un Proveedor",1,"w-full","lg:w-full",3,"options","formControlName","editable"],["for","LastName",1,"w-15rem"],["optionLabel","nombre","styleClass","w-full","placeholder","Select una Categoria",1,"w-full","lg:w-full",3,"formControlName","options"],["pTemplate","footer"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","secondary","styleClass","w-full",1,"w-full"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"]],template:function(a,r){if(a&1&&(n(0,"form",0)(1,"p-card",1),p(2,"translate"),p(3,"uppercase"),n(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),l(8),p(9,"translate"),i(),u(10,"input",6),c(11,ge,2,0,"span"),i(),n(12,"div",7)(13,"label",8),l(14),p(15,"translate"),i(),u(16,"input",6),c(17,_e,2,0,"span"),i(),n(18,"div",9)(19,"label",10),l(20),p(21,"translate"),i(),u(22,"p-calendar",11),c(23,he,3,3,"span"),i()(),n(24,"div",12)(25,"div",13)(26,"label",14),l(27),p(28,"translate"),i(),u(29,"input",6),c(30,Ce,3,3,"span"),i(),n(31,"div",7)(32,"label",15),l(33),p(34,"translate"),i(),u(35,"input",6),c(36,be,3,3,"span"),i(),n(37,"div",7)(38,"label",16),l(39),p(40,"translate"),i(),u(41,"p-dropdown",17),c(42,xe,3,3,"span"),i(),n(43,"div",13)(44,"label",18),l(45),p(46,"translate"),i(),u(47,"p-dropdown",19),c(48,we,3,3,"span"),i()()(),c(49,ye,3,1,"ng-template",20),i()()),a&2){let C,b,x,w,s,I,S;m("formGroup",r.registroForm),t(),m("header",d(3,28,d(2,26,"labels.register_product"))),t(7),g(d(9,30,"inventory.nombre")),t(2),m("formControlName","nombre"),t(),v(11,(C=r.registroForm.get("nombre"))!=null&&C.invalid&&((C=r.registroForm.get("nombre"))!=null&&C.touched)?11:-1),t(3),g(d(15,32,"inventory.description")),t(2),m("formControlName","descripcion"),t(),v(17,(b=r.registroForm.get("description"))!=null&&b.invalid&&((b=r.registroForm.get("description"))!=null&&b.touched)?17:-1),t(3),g(d(21,34,"inventory.fechaIngreso")),t(2),m("formControlName","fechaIngreso"),t(),v(23,(x=r.registroForm.get("fechaIngreso"))!=null&&x.invalid&&((x=r.registroForm.get("fechaIngreso"))!=null&&x.touched)?23:-1),t(4),g(d(28,36,"inventory.unidadMedida")),t(2),m("formControlName","unidadMedida"),t(),v(30,(w=r.registroForm.get("unidadMedida"))!=null&&w.invalid&&((w=r.registroForm.get("unidadMedida"))!=null&&w.touched)?30:-1),t(3),g(d(34,38,"inventory.codigoProducto")),t(2),m("formControlName","codigoProducto"),t(),v(36,(s=r.registroForm.get("codigoProducto"))!=null&&s.invalid&&((s=r.registroForm.get("codigoProducto"))!=null&&s.touched)?36:-1),t(3),g(d(40,40,"inventory.id_proveedor")),t(2),m("options",r.proveedores)("formControlName","id_proveedor")("editable",!0),t(),v(42,(I=r.registroForm.get("id_proveedor"))!=null&&I.invalid&&((I=r.registroForm.get("id_proveedor"))!=null&&I.touched)?42:-1),t(3),g(d(46,42,"inventory.id_categoria")),t(2),m("formControlName","id_categoria")("options",r.categorias),t(),v(48,(S=r.registroForm.get("id_categoria"))!=null&&S.invalid&&((S=r.registroForm.get("id_categoria"))!=null&&S.touched)?48:-1)}},dependencies:[le,ae,W,Q,J,$,U,H,z,K,Y,X,re,oe,ee,Z,ie,te,pe,ne,R,k]})}}return e})();export{Ke as default};
