import{a as ye}from"./chunk-C4HHESA5.js";import{a as be}from"./chunk-ZJIBHYZL.js";import{a as _e,f as fe,g as ue,h as ge}from"./chunk-7S3CTMJ4.js";import"./chunk-FUFXIFYC.js";import"./chunk-2IF7ZH3D.js";import{b as ae,c as le,d as pe,e as se,f as me,g as ce,i as de}from"./chunk-MWQF4XXQ.js";import"./chunk-4LF5IOFW.js";import"./chunk-HIW4BMWQ.js";import{a as xe,b as Ce}from"./chunk-LZJM6ABZ.js";import"./chunk-G255QGHI.js";import"./chunk-UYIDI6XF.js";import{b as J,c as K,d as W,e as X}from"./chunk-IJWSAIOW.js";import{i as oe,j as re}from"./chunk-QXMRRD5J.js";import"./chunk-L5WP44S2.js";import{D as Z,E as ee,F as te,G as ie,H as ne}from"./chunk-TLDPOR5N.js";import{j as G}from"./chunk-NU7MKXHP.js";import"./chunk-F2X3VGZZ.js";import{ea as Y}from"./chunk-S5MQWB2L.js";import{o as N,r as O}from"./chunk-OF6IZINW.js";import{$ as v,Aa as o,Cb as x,Fa as y,Fb as $,Gb as R,Hb as M,Lb as j,Ma as P,Mb as c,Nb as u,Ob as C,Pb as z,Sa as g,Wb as A,_ as b,cb as m,cc as a,dc as l,fc as q,hb as k,ib as S,kb as T,lb as I,ma as h,mb as w,n as D,nb as s,ob as p,pb as d,rc as Q,sc as H,tb as B,yb as E,zb as r}from"./chunk-H3HIGMDG.js";import{a as U}from"./chunk-C6Q5SG76.js";var ve=["dt1"],he=["filter"],Se=t=>({color:t,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function Te(t,i){if(t&1){let e=B();s(0,"div",6)(1,"p-iconfield",7)(2,"p-inputgroup")(3,"p-button",8),a(4,"translate"),E("click",function(){b(e);let _=r(),F=j(5);return v(_.clear(F))}),p(),s(5,"p-button",9),E("click",function(){b(e);let _=r();return v(_.add())}),p(),d(6,"p-button",10),p()()()}t&2&&(o(3),m("label",l(4,4,"labels.clear"))("outlined",!0),o(2),m("outlined",!0),o(),m("outlined",!0))}function Ie(t,i){if(t&1&&(s(0,"th",15)(1,"div",22)(2,"div",23)(3,"div"),c(4),a(5,"translate"),a(6,"uppercase"),p()(),s(7,"div",23),d(8,"p-sortIcon",24),p()()()),t&2){let e=r().$implicit;m("pSortableColumn","id"),o(4),u(l(6,5,l(5,3,"labels."+e.field))),o(4),m("field",e.field)}}function we(t,i){if(t&1&&(s(0,"th",16)(1,"div",22)(2,"div",23)(3,"div"),c(4),a(5,"translate"),a(6,"uppercase"),p()(),s(7,"div",23),d(8,"p-sortIcon",24),p()()()),t&2){let e=r().$implicit;m("pSortableColumn",e.field),o(4),u(l(6,5,l(5,3,"labels."+e.field))),o(4),m("field",e.field)}}function Ee(t,i){if(t&1&&(s(0,"th",17)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.name"))),o(3),m("field",e.field)}}function Fe(t,i){if(t&1&&(s(0,"th",17)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.app"))),o(3),m("field",e.field)}}function Ue(t,i){if(t&1&&(s(0,"th",17)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.apm"))),o(3),m("field",e.field)}}function Be(t,i){t&1&&(s(0,"th",18),c(1),a(2,"translate"),a(3,"uppercase"),p()),t&2&&(o(),u(l(3,3,l(2,1,"labels.telefono"))))}function $e(t,i){if(t&1&&(s(0,"th",19)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.sexo"))),o(3),m("field",e.field)}}function Re(t,i){if(t&1&&(s(0,"th",17)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.fnaci"))),o(3),m("field",e.field)}}function Me(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels.email"))),o(3),m("field",e.field)}}function Ve(t,i){if(t&1&&(s(0,"th",18)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;o(2),u(l(4,4,l(3,2,"labels.telefono"))),o(3),m("field",e.field)}}function Le(t,i){if(t&1&&(s(0,"th",21)(1,"div",25),c(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",24),p()()),t&2){let e=r().$implicit;x("pSortableColumn",e.field),o(2),u(l(4,5,l(3,3,"labels."+e.field))),o(3),m("field",e.field)}}function De(t,i){if(t&1&&g(0,Ie,9,7,"th",15)(1,we,9,7,"th",16)(2,Ee,6,7,"th",17)(3,Fe,6,7,"th",17)(4,Ue,6,7,"th",17)(5,Be,4,5,"th",18)(6,$e,6,7,"th",19)(7,Re,6,7,"th",17)(8,Me,6,7,"th",20)(9,Ve,6,6,"th",18)(10,Le,6,7,"th",21),t&2){let e,n=i.$implicit;S((e=n.field)==="id"?0:e==="ci"?1:e==="nombre"?2:e==="app"?3:e==="apm"?4:e==="telefono"?5:e==="sexo"?6:e==="fnaci"?7:e==="email"?8:e==="telefono"?9:10)}}function Pe(t,i){t&1&&d(0,"appcommon-filter-input",26)}function ke(t,i){t&1&&d(0,"appcommon-filter-input",27)}function je(t,i){}function ze(t,i){if(t&1&&d(0,"appcommon-filter-input",28),t&2){let e=r().$implicit;m("field",e.field)}}function Ae(t,i){if(t&1&&(s(0,"th",13),g(1,Pe,1,0,"appcommon-filter-input",26)(2,ke,1,0,"appcommon-filter-input",27)(3,je,0,0)(4,ze,1,1,"appcommon-filter-input",28),p()),t&2){let e,n=i.$implicit;o(),S((e=n.field)==="bin_qty_max"?1:e==="bin_qty_min"?2:e==="image"?3:4)}}function qe(t,i){t&1&&(s(0,"th",14),c(1,"cargando"),p())}function Qe(t,i){if(t&1&&(s(0,"tr")(1,"th",11),d(2,"p-tableHeaderCheckbox",12),p(),I(3,De,11,1,null,null,T),p(),s(5,"tr"),I(6,Ae,5,1,"th",13,T,!1,qe,2,0,"th",14),p()),t&2){let e=i.$implicit;o(3),w(e),o(3),w(e)}}function He(t,i){if(t&1&&c(0),t&2){let e=r(2).$implicit;C(" ",e.id," ")}}function Ne(t,i){if(t&1&&c(0),t&2){let e=r(2).$implicit;z(" ",e.ci," ",e.ciExpedit," ")}}function Oe(t,i){if(t&1&&c(0),t&2){let e=r().$implicit,n=r().$implicit;C(" ",n[e.field]," ")}}function Ge(t,i){if(t&1&&c(0),t&2){let e=r().$implicit,n=r().$implicit;C(" ",n[e.field]," ")}}function Je(t,i){if(t&1&&c(0),t&2){let e=r().$implicit,n=r().$implicit;C(" ",n[e.field]," ")}}function Ke(t,i){if(t&1&&(d(0,"i",32),c(1)),t&2){let e=r().$implicit,n=r().$implicit,_=r();k("pi ",n[e.field]==="V"?"pi-mars":"pi-venus",""),m("ngStyle",A(5,Se,n[e.field]==="V"?"slate-500":"red-500")),o(),C(" ",_.getSexo(n[e.field])," ")}}function We(t,i){if(t&1&&c(0),t&2){let e=r().$implicit,n=r().$implicit;C(" ",n[e.field]," ")}}function Xe(t,i){if(t&1&&c(0),t&2){let e=r().$implicit,n=r().$implicit;C(" ",n[e.field]," ")}}function Ye(t,i){if(t&1&&(s(0,"td"),g(1,He,1,1)(2,Ne,1,2)(3,Oe,1,1)(4,Ge,1,1)(5,Je,1,1)(6,Ke,2,7)(7,We,1,1)(8,Xe,1,1),p()),t&2){let e,n=i.$implicit;o(),S((e=n.field)==="id"?1:e==="ci"?2:e==="nombre"?3:e==="app"?4:e==="apm"?5:e==="sexo"?6:e==="fnaci"?7:8)}}function Ze(t,i){if(t&1&&(s(0,"tr")(1,"td",29),d(2,"button",30)(3,"p-tableCheckbox",31),p(),I(4,Ye,9,1,"td",null,T),p()),t&2){let e=i.$implicit,n=i.columns;o(3),m("value",e),o(),w(n)}}var V=class t{constructor(i,e,n,_,F,L){this.employeeServ=i;this.filterservice=e;this.translate=n;this.translateLanService=_;this.router=F;this.personasService=L;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),H(()=>{this.employeeServ.postEmployees(this.employeedto()).pipe(D(f=>(console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log(U({},this.employeedto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})})}table;filter;stateValues=h({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=h([]);employeedto=h({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=_e.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","idcargo","salario","direccion","telefono","email"];columns=this.allowedColumns;columnsSelectSignal=Q(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(e=>e.field):[],rows:Number(i.rows)},filter:U({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}add=()=>this.router.navigate(["/users/empleados/create"]);getSexo=i=>this.personasService.getSexo(i);static \u0275fac=function(e){return new(e||t)(y(ye),y(ge),y(J),y(X),y(G),y(be))};static \u0275cmp=P({type:t,selectors:[["app-users"]],viewQuery:function(e,n){if(e&1&&($(ve,5),$(he,5)),e&2){let _;R(_=M())&&(n.table=_.first),R(_=M())&&(n.filter=_.first)}},decls:10,vars:22,consts:[["dt1",""],["caption",""],[3,"header","subheader"],["datakey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end"],["iconPosition","left"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-user-plus","severity","primary",3,"click","outlined"],["pRipple","","icon","pi pi-ellipsis-v","severity","secondary",3,"outlined"],["rowspan","2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",1,"flex","justify-content-between",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-between","w-full"],[1,"flex","items-center"],[3,"field"],[1,"flex","justify-content-between","align-items-left"],["field","bin_qty_max"],["field","bin_qty_min"],["type","text",3,"field"],[1,"flex","py-4"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text"],[1,"p-2",3,"value"],[3,"ngStyle"]],template:function(e,n){if(e&1){let _=B();s(0,"p-card",2),a(1,"translate"),a(2,"uppercase"),a(3,"translate"),s(4,"p-table",3,0),E("onLazyLoad",function(L){return b(_),v(n.getDataPaged(L))}),g(6,Te,7,6,"ng-template",null,1,q)(8,Qe,9,1,"ng-template",4)(9,Ze,6,1,"ng-template",5),p()()}e&2&&(m("header",l(2,18,l(1,16,"pages.employees")))("subheader",l(3,20,"labels.admin_employees")),o(4),m("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[W,K,re,oe,Y,O,de,ae,le,se,pe,me,ce,te,Z,ee,ue,fe,ne,ie,Ce,xe,N],encapsulation:2})};export{V as default};
