import{a as xe}from"./chunk-UMPSKKQW.js";import{a as me,f as se,g as ce,h as Ce}from"./chunk-PT4FTKDN.js";import{b as ie,c as ne,d as oe,e as re,f as pe,g as le,i as ae}from"./chunk-WB22MYLO.js";import"./chunk-5PQNPMCX.js";import"./chunk-M7UVUUMQ.js";import"./chunk-X25LBHHL.js";import{a as Se}from"./chunk-BJ6VW7JG.js";import"./chunk-KI67JIP4.js";import{a as ue,b as fe}from"./chunk-IL66U5PP.js";import{s as de,t as _e}from"./chunk-72EFRCC2.js";import"./chunk-TEPZEHNQ.js";import"./chunk-HKUDOG6E.js";import{Na as Y,Oa as Z,Pa as ee,Qa as te,b as U,c as K,ca as X,d as J,e as W}from"./chunk-EBX3HSBQ.js";import{h as N,k as O,z as G}from"./chunk-NZR6XVXW.js";import"./chunk-F2X3VGZZ.js";import{$ as v,Aa as o,Bb as C,Eb as P,Fa as x,Fb as $,Gb as R,Kb as j,Lb as s,Ma as D,Nb as d,Ob as z,Sa as S,Ub as A,_ as g,ac as r,bc as p,cb as c,dc as q,hb as k,ib as y,kb as h,lb as T,ma as b,mb as I,n as L,nb as m,ob as a,pb as _,pc as Q,qc as H,tb as E,xb as w,yb as l}from"./chunk-5DVEH5ZE.js";import{a as B}from"./chunk-C6Q5SG76.js";var ge=["dt1"],ve=["filter"],be=e=>({color:e,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function ye(e,i){if(e&1){let t=E();m(0,"div",6)(1,"p-iconfield",7)(2,"p-inputgroup")(3,"p-button",8),r(4,"translate"),w("click",function(){g(t);let u=l(),F=j(5);return v(u.clear(F))}),a(),m(5,"p-button",9),w("click",function(){g(t);let u=l();return v(u.add())}),a(),s(6,"\xA0 "),_(7,"p-button",10),a()()()}e&2&&(o(3),c("label",p(4,4,"labels.clear"))("outlined",!0),o(2),c("outlined",!0),o(2),c("outlined",!0))}function he(e,i){e&1&&(m(0,"th",15)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2&&(c("pSortableColumn","id"),o(2),d("",p(4,5,p(3,3,"labels.id"))," "),o(3),c("field","id"))}function Te(e,i){if(e&1&&(m(0,"th",16)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;c("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.ci"))," "),o(3),c("field",t.field)}}function Ie(e,i){if(e&1&&(m(0,"th",17)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.nombre"))," "),o(3),c("field",t.field)}}function we(e,i){if(e&1&&(m(0,"th",17)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.app"))," "),o(3),c("field",t.field)}}function Fe(e,i){if(e&1&&(m(0,"th",17)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.apm"))," "),o(3),c("field",t.field)}}function Be(e,i){e&1&&(m(0,"th",18),s(1),r(2,"translate"),r(3,"uppercase"),a()),e&2&&(o(),d("",p(3,3,p(2,1,"labels.telefono"))," "))}function Ee(e,i){if(e&1&&(m(0,"th",19)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.sexo"))," "),o(3),c("field",t.field)}}function Pe(e,i){if(e&1&&(m(0,"th",17)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.fnaci"))," "),o(3),c("field",t.field)}}function $e(e,i){if(e&1&&(m(0,"th",20)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels.email"))," "),o(3),c("field",t.field)}}function Re(e,i){e&1&&(m(0,"th",18),s(1),r(2,"translate"),r(3,"uppercase"),a()),e&2&&(o(),d("",p(3,3,p(2,1,"labels.telefono"))," "))}function Me(e,i){if(e&1&&(m(0,"th",21)(1,"div",22),s(2),r(3,"translate"),r(4,"uppercase"),_(5,"p-sortIcon",23),a()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),d("",p(4,5,p(3,3,"labels."+t.field))," "),o(3),c("field",t.field)}}function Ve(e,i){if(e&1&&S(0,he,6,7,"th",15)(1,Te,6,7,"th",16)(2,Ie,6,7,"th",17)(3,we,6,7,"th",17)(4,Fe,6,7,"th",17)(5,Be,4,5,"th",18)(6,Ee,6,7,"th",19)(7,Pe,6,7,"th",17)(8,$e,6,7,"th",20)(9,Re,4,5,"th",18)(10,Me,6,7,"th",21),e&2){let t,n=i.$implicit;y((t=n.field)==="id"?0:t==="ci"?1:t==="nombre"?2:t==="app"?3:t==="apm"?4:t==="telefono"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function Le(e,i){e&1&&_(0,"appcommon-filter-input",24)}function De(e,i){e&1&&_(0,"appcommon-filter-input",25)}function ke(e,i){}function je(e,i){if(e&1&&_(0,"appcommon-filter-input",26),e&2){let t=l().$implicit;c("field",t.field)}}function ze(e,i){if(e&1&&(m(0,"th",13),S(1,Le,1,0,"appcommon-filter-input",24)(2,De,1,0,"appcommon-filter-input",25)(3,ke,0,0)(4,je,1,1,"appcommon-filter-input",26),a()),e&2){let t,n=i.$implicit;o(),y((t=n.field)==="bin_qty_max"?1:t==="bin_qty_min"?2:t==="image"?3:4)}}function Ae(e,i){e&1&&(m(0,"th",14),s(1,"cargando"),a())}function qe(e,i){if(e&1&&(m(0,"tr")(1,"th",11),_(2,"p-tableHeaderCheckbox",12),a(),T(3,Ve,11,1,null,null,h),a(),m(5,"tr"),T(6,ze,5,1,"th",13,h,!1,Ae,2,0,"th",14),a()),e&2){let t=i.$implicit;o(3),I(t),o(3),I(t)}}function Qe(e,i){if(e&1&&s(0),e&2){let t=l(2).$implicit;d(" ",t.id," ")}}function He(e,i){if(e&1&&s(0),e&2){let t=l(2).$implicit;z(" ",t.ci," ",t.ciExpedit," ")}}function Ne(e,i){if(e&1&&s(0),e&2){let t=l().$implicit,n=l().$implicit;d(" ",n[t.field]," ")}}function Oe(e,i){if(e&1&&s(0),e&2){let t=l().$implicit,n=l().$implicit;d(" ",n[t.field]," ")}}function Ge(e,i){if(e&1&&s(0),e&2){let t=l().$implicit,n=l().$implicit;d(" ",n[t.field]," ")}}function Ue(e,i){if(e&1&&(_(0,"i",29),s(1)),e&2){let t=l().$implicit,n=l().$implicit,u=l();k("pi ",n[t.field]==="V"?"pi-mars":"pi-venus",""),c("ngStyle",A(5,be,n[t.field]==="V"?"blue":"red")),o(),d(" ",u.getSexo(n[t.field])," ")}}function Ke(e,i){if(e&1&&s(0),e&2){let t=l().$implicit,n=l().$implicit;d(" ",n[t.field]," ")}}function Je(e,i){if(e&1&&(m(0,"td"),S(1,Qe,1,1)(2,He,1,2)(3,Ne,1,1)(4,Oe,1,1)(5,Ge,1,1)(6,Ue,2,7)(7,Ke,1,1),a()),e&2){let t,n=i.$implicit;o(),y((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:7)}}function We(e,i){if(e&1&&(m(0,"tr")(1,"td",27),_(2,"p-tableCheckbox",28),a(),T(3,Je,8,1,"td",null,h),a()),e&2){let t=i.$implicit,n=i.columns;o(2),c("value",t),o(),I(n)}}var M=class e{constructor(i,t,n,u,F,V){this.employeeServ=i;this.filterservice=t;this.translate=n;this.translateLanService=u;this.personasService=F;this.router=V;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),H(()=>{this.employeeServ.postProveedores(this.employeedto()).pipe(L(f=>(console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log(B({},this.employeedto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})})}table;filter;stateValues=b({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=b([]);employeedto=b({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=me.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","empresa","nit","direccion","telefono","email"];columns=this.allowedColumns;columnsSelectSignal=Q(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:B({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}getSexo=i=>this.personasService.getSexo(i);add=()=>this.router.navigate(["/users/proveedores/create"]);static \u0275fac=function(t){return new(t||e)(x(Se),x(Ce),x(U),x(W),x(xe),x(G))};static \u0275cmp=D({type:e,selectors:[["app-suppliers"]],viewQuery:function(t,n){if(t&1&&(P(ge,5),P(ve,5)),t&2){let u;$(u=R())&&(n.table=u.first),$(u=R())&&(n.filter=u.first)}},decls:10,vars:22,consts:[["dt1",""],["caption",""],[3,"header","subheader"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end"],["iconPosition","left"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-user-plus","severity","primary",1,"pr-1",3,"click","outlined"],["pRipple","","icon","pi pi-ellipsis-v","severity","secondary",3,"outlined"],["rowspan","2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","bin_qty_max"],["field","bin_qty_min"],["type","text",3,"field"],[1,"flex","py-4"],[1,"p-2",3,"value"],[3,"ngStyle"]],template:function(t,n){if(t&1){let u=E();m(0,"p-card",2),r(1,"translate"),r(2,"uppercase"),r(3,"translate"),m(4,"p-table",3,0),w("onLazyLoad",function(V){return g(u),v(n.getDataPaged(V))}),S(6,ye,8,6,"ng-template",null,1,q)(8,qe,9,1,"ng-template",4)(9,We,5,1,"ng-template",5),a()()}t&2&&(c("header",p(2,18,p(1,16,"pages.suppliers")))("subheader",p(3,20,"labels.admin_suppliers")),o(4),c("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[J,K,_e,de,X,O,ae,ie,ne,re,oe,pe,le,Z,Y,ce,se,te,ee,N,fe,ue],encapsulation:2})};export{M as default};
