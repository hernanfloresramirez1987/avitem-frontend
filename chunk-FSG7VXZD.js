import{a as x}from"./chunk-E5RC2KUI.js";import{a as b,b as Q}from"./chunk-O2MY6YBL.js";import{i as C}from"./chunk-T3K4YHDA.js";import"./chunk-RCFNJJ23.js";import{b as S,e as _}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import"./chunk-DDVAZZT7.js";import"./chunk-JAFPLUWG.js";import{Bc as y,Ib as n,Jb as c,Kb as d,Mb as g,Ta as i,Ub as v,a as p,bb as l,ea as f,s as u,tb as m,ub as h,zc as w}from"./chunk-PQPLRZS3.js";var I=["dt1"],T=["filter"],E=(()=>{class s{constructor(o,t,a,r){this.comprasServ=o,this.filterservice=t,this.translate=a,this.translateLanService=r,this.stateValues=l({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null}),this.searchTxt=l([]),this.comprasdto=l({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}}),this.tablecon=b.cantidadRegistros,this.stateIni=!1,this.allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","empresa","nit","direccion","telefono","email"],this.columns=this.allowedColumns,this.columnsSelectSignal=w(()=>this.columns.map(e=>({field:e,header:e.charAt(0).toUpperCase()+e.slice(1)}))),this.clear=e=>{this.comprasdto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),e.clear()},this.translateLanService.changeLanguage$.subscribe(e=>this.translate.use(e)),y(()=>{this.comprasServ.postProductSearch(this.comprasdto()).pipe(u(e=>(console.log("console.log('', t):   ",e),{data:Array.isArray(e)?[...e]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:e=>{console.log(p({},this.comprasdto())),console.log(e),this.stateValues.set({data:e.data&&e.data.length>0?[...e.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:e=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:e})})})}static{this.\u0275fac=function(t){return new(t||s)(i(x),i(Q),i(S),i(_))}}static{this.\u0275cmp=f({type:s,selectors:[["app-purchases"]],viewQuery:function(t,a){if(t&1&&(n(I,5),n(T,5)),t&2){let r;c(r=d())&&(a.table=r.first),c(r=d())&&(a.filter=r.first)}},standalone:!0,features:[v],decls:2,vars:0,template:function(t,a){t&1&&(m(0,"p"),g(1,"purchases works!"),h())},dependencies:[C]})}}return s})();export{E as default};
