import{a as ce}from"./chunk-QBJIG32J.js";import{a as se}from"./chunk-RPZQPSGL.js";import{a as de,b as pe}from"./chunk-VMCLT6QI.js";import{a as me}from"./chunk-C47IWZ44.js";import{a as ie,b as re,c as le}from"./chunk-HBPRF3ON.js";import{b as ae}from"./chunk-L55HRLHG.js";import{F as X,I as Y,J as Z,W as ee,X as te,b as G,c as R,da as oe,e as U,ea as ne,g as $,h as C,j as H,k as J,m as z,o as K,r as O,s as Q,u as W}from"./chunk-UF65HLQ7.js";import"./chunk-NMGI7OHJ.js";import{a as q,i as A}from"./chunk-NM3HJ4DI.js";import{s as k,t as I}from"./chunk-JAFPLUWG.js";import{Cb as D,Db as E,Mb as a,Nb as g,Ob as S,Sa as t,Ta as c,Tb as V,Ub as L,V as F,_ as M,dc as l,ea as N,ec as d,hb as u,jb as s,oa as T,ob as v,pa as B,tb as n,ub as i,vb as f,zb as j}from"./chunk-PQPLRZS3.js";var ue=(()=>{class e{#e;constructor(o){this.http=o,this.#e=le.URL_API,this.getAll=()=>this.http.get(`${this.#e}categorias`)}static{this.\u0275fac=function(m){return new(m||e)(M(q))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ge(e,_){e&1&&(n(0,"span"),a(1,"Error en el Nombre."),i())}function _e(e,_){e&1&&(n(0,"span"),a(1,"Error en el Nombre."),i())}function Ce(e,_){e&1&&(n(0,"span"),a(1),l(2,"translate"),i()),e&2&&(t(),S("Error en el ",d(2,1,"inventory.fechaIngreso"),"."))}function he(e,_){e&1&&(n(0,"span"),a(1),l(2,"translate"),i()),e&2&&(t(),S("Error en el ",d(2,1,"inventory.unidadMedida"),"."))}function be(e,_){e&1&&(n(0,"span"),a(1),l(2,"translate"),i()),e&2&&(t(),S("Error en el ",d(2,1,"inventory.codigoProducto"),"."))}function xe(e,_){e&1&&(n(0,"span"),a(1),l(2,"translate"),i()),e&2&&(t(),S("Error en el ",d(2,1,"inventory.id_proveedor"),"."))}function we(e,_){e&1&&(n(0,"span"),a(1),l(2,"translate"),i()),e&2&&(t(),S("Error en el ",d(2,1,"inventory.id_categoria"),"."))}function ye(e,_){if(e&1){let o=j();n(0,"div",21),f(1,"p-button",22),n(2,"p-button",23),D("click",function(){T(o);let r=E();return B(r.saveProcto())}),i()()}if(e&2){let o=E();t(2),s("disabled",!o.registroForm.valid)}}var Qe=(()=>{class e{constructor(o,m,r,h,b,x,w,y){this.categoriasServ=o,this.proveedoresServ=m,this.productosServ=r,this.translate=h,this.translateLanService=b,this.fb=x,this.router=w,this.datePipe=y,this.translateLanService.changeLanguage$.subscribe(p=>this.translate.use(p));let P=this.datePipe.transform(new Date,"dd/MM/yyyy");this.registroForm=this.fb.group({nombre:["",[C.required]],descripcion:[""],fechaIngreso:[P,C.required],unidadMedida:["",C.required],codigoProducto:["",C.required],id_proveedor:["",C.required],id_categoria:["",C.required]}),this.proveedoresServ.postProveedoresSearch(this.proveedorDto).subscribe({next:p=>{console.log(p),this.proveedores=p,console.log(this.proveedores)},error:p=>console.error("Error al obtener proveedores:",p)}),this.categoriasServ.getAll().subscribe(p=>{this.categorias=p})}saveProcto(){console.log(this.asignarValores()),this.productosServ.postProduct(this.asignarValores()).subscribe(o=>{o.CodigoEstado==="201"&&this.router.navigate(["inventory/products"])})}asignarValores(){let o=this.registroForm.value;return this.productoRegister={p_nombre:o.nombre,p_descripcion:o.descripcion,p_cantidadStock:0,p_fechaIngreso:o.fechaIngreso,p_unidadMedida:o.unidadMedida,p_codigoProducto:o.codigoProducto,p_idProveedor:Number(o.id_proveedor.id),p_idCategoria:Number(o.id_categoria.id),p_state:1}}static{this.\u0275fac=function(m){return new(m||e)(c(ue),c(me),c(ce),c(G),c(U),c(Q),c(A),c(I))}}static{this.\u0275cmp=N({type:e,selectors:[["app-product-create"]],standalone:!0,features:[V([I]),L],decls:50,vars:44,consts:[[3,"formGroup"],[3,"header"],[1,"align-items-left","justify-content-top","pr-2"],[1,"flex","flex-column","md:flex-row","flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-8","md:w-6"],["for","nombre",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","px-2"],["for","description",1,"w-20rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-4","md:w-5"],["for","fechaIngreso",1,"w-15rem"],["styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-column","flex-row","md:flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full"],["for","unidadMedida",1,"w-15rem"],["for","codigoProducto",1,"w-15rem"],["for","proveedor",1,"w-15rem"],["optionLabel","empresa","styleClass","w-full","placeholder","Select un Proveedor",1,"w-full","lg:w-full",3,"options","formControlName","editable"],["for","LastName",1,"w-15rem"],["optionLabel","nombre","styleClass","w-full","placeholder","Select una Categoria",1,"w-full","lg:w-full",3,"formControlName","options"],["pTemplate","footer"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","secondary","styleClass","w-full",1,"w-full"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"]],template:function(m,r){if(m&1&&(n(0,"form",0)(1,"p-card",1),l(2,"translate"),l(3,"uppercase"),n(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),a(8),l(9,"translate"),i(),f(10,"input",6),u(11,ge,2,0,"span"),i(),n(12,"div",7)(13,"label",8),a(14),l(15,"translate"),i(),f(16,"input",6),u(17,_e,2,0,"span"),i(),n(18,"div",9)(19,"label",10),a(20),l(21,"translate"),i(),f(22,"p-calendar",11),u(23,Ce,3,3,"span"),i()(),n(24,"div",12)(25,"div",13)(26,"label",14),a(27),l(28,"translate"),i(),f(29,"input",6),u(30,he,3,3,"span"),i(),n(31,"div",7)(32,"label",15),a(33),l(34,"translate"),i(),f(35,"input",6),u(36,be,3,3,"span"),i(),n(37,"div",7)(38,"label",16),a(39),l(40,"translate"),i(),f(41,"p-dropdown",17),u(42,xe,3,3,"span"),i(),n(43,"div",13)(44,"label",18),a(45),l(46,"translate"),i(),f(47,"p-dropdown",19),u(48,we,3,3,"span"),i()()(),u(49,ye,3,1,"ng-template",20),i()()),m&2){let h,b,x,w,y,P,p;s("formGroup",r.registroForm),t(),s("header",d(3,28,d(2,26,"labels.register_product"))),t(7),g(d(9,30,"inventory.nombre")),t(2),s("formControlName","nombre"),t(),v(11,(h=r.registroForm.get("nombre"))!=null&&h.invalid&&((h=r.registroForm.get("nombre"))!=null&&h.touched)?11:-1),t(3),g(d(15,32,"inventory.description")),t(2),s("formControlName","descripcion"),t(),v(17,(b=r.registroForm.get("description"))!=null&&b.invalid&&((b=r.registroForm.get("description"))!=null&&b.touched)?17:-1),t(3),g(d(21,34,"inventory.fechaIngreso")),t(2),s("formControlName","fechaIngreso"),t(),v(23,(x=r.registroForm.get("fechaIngreso"))!=null&&x.invalid&&((x=r.registroForm.get("fechaIngreso"))!=null&&x.touched)?23:-1),t(4),g(d(28,36,"inventory.unidadMedida")),t(2),s("formControlName","unidadMedida"),t(),v(30,(w=r.registroForm.get("unidadMedida"))!=null&&w.invalid&&((w=r.registroForm.get("unidadMedida"))!=null&&w.touched)?30:-1),t(3),g(d(34,38,"inventory.codigoProducto")),t(2),s("formControlName","codigoProducto"),t(),v(36,(y=r.registroForm.get("codigoProducto"))!=null&&y.invalid&&((y=r.registroForm.get("codigoProducto"))!=null&&y.touched)?36:-1),t(3),g(d(40,40,"inventory.id_proveedor")),t(2),s("options",r.proveedores)("formControlName","id_proveedor")("editable",!0),t(),v(42,(P=r.registroForm.get("id_proveedor"))!=null&&P.invalid&&((P=r.registroForm.get("id_proveedor"))!=null&&P.touched)?42:-1),t(3),g(d(46,42,"inventory.id_categoria")),t(2),s("formControlName","id_categoria")("options",r.categorias),t(),v(48,(p=r.registroForm.get("id_categoria"))!=null&&p.invalid&&((p=r.registroForm.get("id_categoria"))!=null&&p.touched)?48:-1)}},dependencies:[pe,de,X,W,z,$,H,J,K,O,Z,Y,ne,oe,te,ee,re,ie,se,ae,R,k]})}}return e})();export{Qe as default};
