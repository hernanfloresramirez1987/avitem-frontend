import{a as ce}from"./chunk-T5MRVGB7.js";import{a as ae,b as le,c as pe,d as se}from"./chunk-QBIZDNUO.js";import"./chunk-UGFRYHF3.js";import{b as te,c as ie,d as oe,f as ne,j as re}from"./chunk-HBCZXPSQ.js";import"./chunk-XRCNOI5B.js";import"./chunk-AEP33MGT.js";import{G as Y,W as Z,Y as ee,b as J,c as K,d as W,e as X}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import{a as O,j as G}from"./chunk-NM3HJ4DI.js";import{s as q}from"./chunk-JAFPLUWG.js";import{$ as V,Bc as U,Cb as E,Db as c,Gb as x,Ib as $,Jb as R,Kb as k,Lb as z,Mb as d,Nb as g,Ob as _,Sa as i,Ta as h,Ub as N,V as M,Wb as A,a as P,bb as v,dc as l,ea as D,ec as p,hb as b,jb as u,kb as j,oa as T,ob as S,pa as B,qb as y,rb as F,s as L,sb as I,tb as a,ub as r,vb as f,zb as Q,zc as H}from"./chunk-PQPLRZS3.js";var de=(()=>{class t{constructor(){this.#e="http://127.0.0.1:8080/api/templates/",this.http=V(O),this.postComponentsRedirecctions=e=>this.http.post(`${this.#e}postComponentsRedirecctions`,e),this.postComponents=e=>this.http.post(`${this.#e}getcomponents`,e)}#e;static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _e=["dt1"],fe=["filter"],Ce=()=>["/inventory/products/create"];function xe(t,n){t&1&&(a(0,"th",11)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2&&(u("pSortableColumn","id"),i(2),_("",p(4,5,p(3,3,"labels.id"))," "),i(3),u("field","id"))}function ge(t,n){if(t&1&&(a(0,"th",14)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.nombre"))," "),i(3),u("field",e.field)}}function he(t,n){if(t&1&&(a(0,"th",15)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;u("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.description"))," "),i(3),u("field",e.field)}}function be(t,n){if(t&1&&(a(0,"th",16)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.cantidadStock"))," "),i(3),u("field",e.field)}}function ve(t,n){if(t&1&&(a(0,"th",17)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.fechaIngreso"))," "),i(3),u("field",e.field)}}function Se(t,n){t&1&&(a(0,"th",18),d(1),l(2,"translate"),l(3,"uppercase"),r()),t&2&&(i(),_("",p(3,3,p(2,1,"labels.unidadMedida"))," "))}function ye(t,n){if(t&1&&(a(0,"th",19)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.codigoProducto"))," "),i(3),u("field",e.field)}}function Fe(t,n){if(t&1&&(a(0,"th",17)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.state"))," "),i(3),u("field",e.field)}}function Ie(t,n){if(t&1&&(a(0,"th",14)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels.empresa"))," "),i(3),u("field",e.field)}}function we(t,n){t&1&&(a(0,"th",18),d(1),l(2,"translate"),l(3,"uppercase"),r()),t&2&&(i(),_("",p(3,3,p(2,1,"labels.categoria"))," "))}function Pe(t,n){if(t&1&&(a(0,"th",20)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),f(5,"p-sortIcon",13),r()()),t&2){let e=c().$implicit;x("pSortableColumn",e.field),i(2),_("",p(4,5,p(3,3,"labels."+e.field))," ii "),i(3),u("field",e.field)}}function Te(t,n){if(t&1&&b(0,xe,6,7)(1,ge,6,7)(2,he,6,7)(3,be,6,7)(4,ve,6,7)(5,Se,4,5)(6,ye,6,7)(7,Fe,6,7)(8,Ie,6,7)(9,we,4,5)(10,Pe,6,7),t&2){let e,o=n.$implicit;S(0,(e=o.field)==="id"?0:e==="nombre"?1:e==="descripcion"?2:e==="cantidadStock"?3:e==="fechaIngreso"?4:e==="unidadMedida"?5:e==="codigoProducto"?6:e==="state"?7:e==="empresa"?8:e==="categoria"?9:10)}}function Be(t,n){if(t&1&&f(0,"shipedge-filter-input",21),t&2){let e=c().$implicit;u("field",e.field)}}function Ee(t,n){t&1&&(a(0,"th",9),b(1,Be,1,1),r()),t&2&&(i(),S(1,1))}function $e(t,n){t&1&&(a(0,"th",10),d(1,"cargando"),r())}function Re(t,n){if(t&1&&(a(0,"tr"),F(1,Te,11,1,null,null,y),r(),a(3,"tr"),F(4,Ee,2,1,"th",9,y,!1,$e,2,0,"th",10),r()),t&2){let e=n.$implicit;i(),I(e),i(3),I(e)}}function ke(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c(2).$implicit;i(),g(e.id)}}function Le(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c().$implicit,o=c().$implicit,m=c();j("background-color",m.getColorBackground(o.color))("color",m.getColor(o.color)),i(),_("",o[e.field]," ")}}function Me(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c().$implicit,o=c().$implicit;i(),g(o[e.field])}}function Ve(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c().$implicit,o=c().$implicit;i(),g(o[e.field])}}function De(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c().$implicit,o=c().$implicit;i(),g(o[e.field])}}function je(t,n){if(t&1&&(a(0,"td"),d(1),r()),t&2){let e=c().$implicit,o=c().$implicit;i(),g(o[e.field])}}function Qe(t,n){if(t&1&&b(0,ke,2,1)(1,Le,2,5)(2,Me,2,1)(3,Ve,2,1)(4,De,2,1)(5,je,2,1),t&2){let e,o=n.$implicit;S(0,(e=o.field)==="id"?0:e==="nombre"?1:e==="descripcion"?2:e==="codigoProducto"?3:e==="state"?4:5)}}function ze(t,n){if(t&1&&(a(0,"tr"),F(1,Qe,6,1,null,null,y),r()),t&2){let e=n.columns;i(),I(e)}}var ct=(()=>{class t{constructor(e,o,m,C,w){this.productsServ=e,this.filterservice=o,this.translate=m,this.translateLanService=C,this.externapiServ=w,this.stateValues=v({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null}),this.searchTxt=v([]),this.productsdto=v({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}}),this.tablecon=ae.cantidadRegistros,this.stateIni=!1,this.allowedColumns=["id","nombre","codigoProducto","empresa","descripcion","cantidadStock","fechaIngreso","unidadMedida","state","categoria"],this.columns=this.allowedColumns,this.columnsSelectSignal=H(()=>this.columns.map(s=>({field:s,header:s.charAt(0).toUpperCase()+s.slice(1)}))),this.clear=s=>{this.productsdto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),s.clear()},this.translateLanService.changeLanguage$.subscribe(s=>this.translate.use(s)),U(()=>{this.productsServ.postProductsGet().pipe(L(s=>(console.log("console.log('', t):   ",s),{data:Array.isArray(s)?[...s]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:s=>{console.log(P({},this.productsdto())),console.log(s),this.stateValues.set({data:s.data&&s.data.length>0?[...s.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:s=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:s})})})}getDataPaged(e){e.filters&&this.stateIni!==!1&&this.productsdto.update(()=>({config:{populate_data:!1,page:(e.first||0)/Number(e.rows)+1,sort_field:e.multiSortMeta?e.multiSortMeta.filter(o=>o.field):[],rows:Number(e.rows)},filter:P({},this.filterservice.applyFilterNew(e.filters,this.productsdto().filter))})),this.stateIni=!0}getColorBackground(e){switch(e){case"Natural":return"#cccccc";case"Champan":return"#FBE7C6";case"Negro":return"#000000";case"Madera":return"#8B4513";default:return"#FFFFFF"}}getColor(e){switch(e){case"Natural":return"#000000";case"Champan":return"#000000";case"Negro":return"#FFFFFF";case"Madera":return"#FFFFFF";default:return"#FFFFFF"}}static{this.\u0275fac=function(o){return new(o||t)(h(ce),h(se),h(J),h(X),h(de))}}static{this.\u0275cmp=D({type:t,selectors:[["app-products"]],viewQuery:function(o,m){if(o&1&&($(_e,5),$(fe,5)),o&2){let C;R(C=k())&&(m.table=C.first),R(C=k())&&(m.filter=C.first)}},standalone:!0,features:[N],decls:14,vars:21,consts:[["dt1",""],[1,"card"],[1,"flex","justify-content-between"],[1,"text-4xl"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["pButton","","icon","pi pi-plus",1,"p-button-outlined","mr-1",3,"routerLink"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","25rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","10rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],["type","text",3,"field"]],template:function(o,m){if(o&1){let C=Q();a(0,"div",1)(1,"div",2)(2,"div")(3,"h5",3),d(4),l(5,"translate"),l(6,"uppercase"),r()(),a(7,"div")(8,"button",4),E("click",function(){T(C);let s=z(11);return B(m.clear(s))}),r(),f(9,"button",5),r()(),a(10,"p-table",6,0),E("onLazyLoad",function(s){return T(C),B(m.getDataPaged(s))}),b(12,Re,7,1,"ng-template",7)(13,ze,3,0,"ng-template",8),r()()}o&2&&(i(4),g(p(6,18,p(5,16,"pages.products"))),i(5),u("routerLink",A(20,Ce)),i(),u("value",m.stateValues().data)("paginator",!0)("loading",m.stateValues().loading)("rows",m.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",m.tablecon)("lazy",!0)("columns",m.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",m.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",m.stateValues().data&&m.stateValues().data.length>50?"both":"bottom"))},dependencies:[W,K,q,re,te,Y,ie,ne,oe,ee,Z,pe,le,G]})}}return t})();export{ct as default};
