import{a as Ce}from"./chunk-Y2IDAOKA.js";import{a as fe}from"./chunk-73TNVR2N.js";import{a as re,b as pe,c as se,d as de}from"./chunk-T6TXTWR2.js";import"./chunk-4O3W2NBE.js";import{c as te,d as ie,e as ne,g as oe,k as le}from"./chunk-ATVG6ELJ.js";import"./chunk-OGQHURAE.js";import{a as ue}from"./chunk-Z4WSEM76.js";import{b as _e}from"./chunk-6SW6JFWZ.js";import"./chunk-NBWCGY6J.js";import"./chunk-FO3D3WO2.js";import"./chunk-T5GPXTM4.js";import{o as ae,p as me,q as ce}from"./chunk-SDJQQ2F7.js";import"./chunk-44UL6WXM.js";import"./chunk-XMSLJEE3.js";import{Ha as K,Ia as J,Ja as W,La as X,Oa as Y,Pa as Z,Qa as ee,Z as G}from"./chunk-L6F5SHP5.js";import{h as N,k as H,w as q}from"./chunk-A5I2MG6G.js";import"./chunk-F2X3VGZZ.js";import{$a as _,Ab as M,Bb as R,Ca as o,Cb as L,Fb as O,Gb as c,Ha as C,Hb as u,Ib as x,Jb as z,Na as k,Pb as A,Ta as y,Xb as r,Yb as a,a as V,aa as h,ba as b,eb as j,fb as w,hb as F,ib as B,jb as E,jc as Q,kb as p,kc as U,lb as s,mb as m,oa as I,q as P,qb as $,ub as S,vb as l,yb as g}from"./chunk-4PTIY3UM.js";var ge=["dt1"],xe=["filter"],ve=e=>({color:e,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function he(e,i){e&1&&(p(0,"th",11)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2&&(_("pSortableColumn","id"),o(2),u(a(4,5,a(3,3,"labels.id"))),o(3),_("field","id"))}function be(e,i){if(e&1&&(p(0,"th",12)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;_("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.ci"))),o(3),_("field",t.field)}}function Se(e,i){if(e&1&&(p(0,"th",13)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.name"))),o(3),_("field",t.field)}}function ye(e,i){if(e&1&&(p(0,"th",13)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.app"))),o(3),_("field",t.field)}}function Te(e,i){if(e&1&&(p(0,"th",13)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.apm"))),o(3),_("field",t.field)}}function Ie(e,i){e&1&&(p(0,"th",14),c(1),r(2,"translate"),r(3,"uppercase"),s()),e&2&&(o(),u(a(3,3,a(2,1,"labels.telefono"))))}function we(e,i){if(e&1&&(p(0,"th",15)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.sexo"))),o(3),_("field",t.field)}}function Fe(e,i){if(e&1&&(p(0,"th",13)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.fnaci"))),o(3),_("field",t.field)}}function Be(e,i){if(e&1&&(p(0,"th",16)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels.email"))),o(3),_("field",t.field)}}function Ee(e,i){if(e&1&&(p(0,"th",14)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;o(2),u(a(4,4,a(3,2,"labels.telefono"))),o(3),_("field",t.field)}}function $e(e,i){if(e&1&&(p(0,"th",17)(1,"div",18),c(2),r(3,"translate"),r(4,"uppercase"),m(5,"p-sortIcon",19),s()()),e&2){let t=l().$implicit;g("pSortableColumn",t.field),o(2),u(a(4,5,a(3,3,"labels."+t.field))),o(3),_("field",t.field)}}function Ve(e,i){if(e&1&&y(0,he,6,7,"th",11)(1,be,6,7,"th",12)(2,Se,6,7,"th",13)(3,ye,6,7,"th",13)(4,Te,6,7,"th",13)(5,Ie,4,5,"th",14)(6,we,6,7,"th",15)(7,Fe,6,7,"th",13)(8,Be,6,7,"th",16)(9,Ee,6,6,"th",14)(10,$e,6,7,"th",17),e&2){let t,n=i.$implicit;w((t=n.field)==="id"?0:t==="ci"?1:t==="nombre"?2:t==="app"?3:t==="apm"?4:t==="telefono"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function Me(e,i){e&1&&m(0,"shipedge-filter-input",20)}function Re(e,i){e&1&&m(0,"shipedge-filter-input",21)}function Le(e,i){e&1&&m(0,"shipedge-filter-input",22)}function De(e,i){e&1&&m(0,"shipedge-filter-input",23)}function Pe(e,i){e&1&&m(0,"shipedge-filter-input",24)}function ke(e,i){e&1&&m(0,"shipedge-filter-input",25)}function je(e,i){e&1&&m(0,"shipedge-filter-input",26)}function Oe(e,i){e&1&&m(0,"shipedge-filter-input",27)}function ze(e,i){e&1&&m(0,"shipedge-filter-input",28)}function Ae(e,i){if(e&1&&m(0,"shipedge-filter-input",29),e&2){let t=l().$implicit;_("field",t.field)}}function Qe(e,i){if(e&1&&(p(0,"th",9),y(1,Me,1,0,"shipedge-filter-input",20)(2,Re,1,0,"shipedge-filter-input",21)(3,Le,1,0,"shipedge-filter-input",22)(4,De,1,0,"shipedge-filter-input",23)(5,Pe,1,0,"shipedge-filter-input",24)(6,ke,1,0,"shipedge-filter-input",25)(7,je,1,0,"shipedge-filter-input",26)(8,Oe,1,0,"shipedge-filter-input",27)(9,ze,1,0,"shipedge-filter-input",28)(10,Ae,1,1,"shipedge-filter-input",29),s()),e&2){let t,n=i.$implicit;o(),w((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function Ue(e,i){e&1&&(p(0,"th",10),c(1,"cargando"),s())}function Ne(e,i){if(e&1){let t=$();p(0,"tr")(1,"th")(2,"p-button",8),S("click",function(d){h(t);let v=l();return b(v.toggleMenu(d))}),s()(),B(3,Ve,11,1,null,null,F),s(),p(5,"tr"),B(6,Qe,11,1,"th",9,F,!1,Ue,2,0,"th",10),s()}if(e&2){let t=i.$implicit;o(2),_("rounded",!1)("text",!0),o(),E(t),o(3),E(t)}}function He(e,i){if(e&1&&c(0),e&2){let t=l(2).$implicit;x(" ",t.id," ")}}function qe(e,i){if(e&1&&c(0),e&2){let t=l(2).$implicit;z(" ",t.ci," ",t.ciExpedit," ")}}function Ge(e,i){if(e&1&&c(0),e&2){let t=l().$implicit,n=l().$implicit;x(" ",n[t.field]," ")}}function Ke(e,i){if(e&1&&c(0),e&2){let t=l().$implicit,n=l().$implicit;x(" ",n[t.field]," ")}}function Je(e,i){if(e&1&&c(0),e&2){let t=l().$implicit,n=l().$implicit;x(" ",n[t.field]," ")}}function We(e,i){if(e&1&&(m(0,"i",30),c(1)),e&2){let t=l().$implicit,n=l().$implicit,d=l();j("pi ",n[t.field]==="V"?"pi-mars":"pi-venus",""),_("ngStyle",A(5,ve,n[t.field]==="V"?"blue":"red")),o(),x(" ",d.getSexo(n[t.field])," ")}}function Xe(e,i){if(e&1&&c(0),e&2){let t=l().$implicit,n=l().$implicit;x(" ",n[t.field]," ")}}function Ye(e,i){if(e&1&&c(0),e&2){let t=l().$implicit,n=l().$implicit;x(" ",n[t.field]," ")}}function Ze(e,i){if(e&1&&(p(0,"td"),y(1,He,1,1)(2,qe,1,2)(3,Ge,1,1)(4,Ke,1,1)(5,Je,1,1)(6,We,2,7)(7,Xe,1,1)(8,Ye,1,1),s()),e&2){let t,n=i.$implicit;o(),w((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:t==="fnaci"?7:8)}}function et(e,i){if(e&1){let t=$();p(0,"tr")(1,"td")(2,"p-button",8),S("click",function(d){h(t);let v=l();return b(v.toggleMenu(d))}),s()(),B(3,Ze,9,1,"td",null,F),s()}if(e&2){let t=i.columns;o(2),_("rounded",!1)("text",!0),o(),E(t)}}var D=class e{constructor(i,t,n,d,v,T,tt){this.usersServ=i;this.clientServ=t;this.filterservice=n;this.translate=d;this.translateLanService=v;this.router=T;this.personasService=tt;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),U(()=>{this.clientServ.postClients(this.employeedto()).pipe(P(f=>(console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log(V({},this.employeedto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})}),this.usersServ.getExpedidoOptions().subscribe(f=>this.expedidoOptions=f)}table;filter;stateValues=I({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=I([]);employeedto=I({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=re.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo"];columns=this.allowedColumns;columnsSelectSignal=Q(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clients=[];expedidoOptions;ngOnInit(){}clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};toggleMenu=i=>{console.log(i)};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:V({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}add=()=>this.router.navigate(["/users/clientes/create"]);getSexo=i=>this.personasService.getSexo(i);static \u0275fac=function(t){return new(t||e)(C(ue),C(Ce),C(de),C(Y),C(ae),C(q),C(fe))};static \u0275cmp=k({type:e,selectors:[["app-clientes"]],viewQuery:function(t,n){if(t&1&&(M(ge,5),M(xe,5)),t&2){let d;R(d=L())&&(n.table=d.first),R(d=L())&&(n.filter=d.first)}},decls:13,vars:22,consts:[["dt1",""],[3,"header","subheader"],[1,"flex","justify-content-between"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["pButton","","label","Add","icon","pi pi-plus",1,"p-button-outlined","mr-1",3,"click"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],["icon","pi pi-ellipsis-v","severity","secondary",3,"click","rounded","text"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","id"],["field","ci"],["field","nombre"],["field","app"],["field","apm"],["field","sexo"],["field","fnaci"],["field","email"],["field","telefono"],["type","text",3,"field"],[3,"ngStyle"]],template:function(t,n){if(t&1){let d=$();p(0,"p-card",1),r(1,"translate"),r(2,"uppercase"),r(3,"translate"),p(4,"div",2),m(5,"div"),p(6,"div")(7,"button",3),S("click",function(){h(d);let T=O(10);return b(n.clear(T))}),s(),p(8,"button",4),S("click",function(){return h(d),b(n.add())}),s()()(),p(9,"p-table",5,0),S("onLazyLoad",function(T){return h(d),b(n.getDataPaged(T))}),y(11,Ne,9,3,"ng-template",6)(12,et,5,2,"ng-template",7),s()()}t&2&&(_("header",a(2,18,a(1,16,"pages.clients")))("subheader",a(3,20,"labels.admin_clients")),o(9),_("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[ce,me,G,ee,Z,W,K,J,H,le,te,ie,oe,ne,N,se,pe,_e,X],encapsulation:2})};export{D as default};
