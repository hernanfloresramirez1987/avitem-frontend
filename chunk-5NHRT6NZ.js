import{a as ne,b as re,c as ae}from"./chunk-TXUBHOO7.js";import{a as ie}from"./chunk-HRBA53FO.js";import{b as K,i as Q}from"./chunk-4RKZEGHK.js";import{a as W}from"./chunk-RYENVZNF.js";import"./chunk-XIHKMS4S.js";import{a as te}from"./chunk-PPUHNG7R.js";import{b as Z}from"./chunk-MCBXVOW3.js";import{s as X,t as Y,u as ee}from"./chunk-T56Y472H.js";import"./chunk-IS3GEP37.js";import{a as H}from"./chunk-BWVLPH3D.js";import{Na as q,Oa as J,b as G,c as O,d as F,e as z}from"./chunk-YNFKBHVH.js";import{k as L,l as V,m as $,t as A,x as U,z as k}from"./chunk-FWSUKWGO.js";import"./chunk-F2X3VGZZ.js";import{$ as w,Aa as n,Fa as d,Ma as R,Mb as i,N as h,Nb as a,Ob as M,Pb as B,Sa as v,T as I,Vb as j,_,cb as y,cc as m,dc as s,ec as P,fc as u,ib as E,ma as C,nb as e,ob as t,pb as x,sc as N,tb as D,yb as T,zb as S}from"./chunk-H3HIGMDG.js";import"./chunk-C6Q5SG76.js";var g=class r{#e=`${ee.URL_API}detalle-compras/`;http=I(A);getDetCompras=l=>this.http.get(`${this.#e}items/${l}`);static \u0275fac=function(o){return new(o||r)};static \u0275prov=h({token:r,factory:r.\u0275fac,providedIn:"root"})};var me=()=>({width:"100%"});function se(r,l){r&1&&(e(0,"div",15),i(1),m(2,"translate"),m(3,"capitalize"),t()),r&2&&(n(),a(s(3,3,s(2,1,"labels.details"))))}function de(r,l){r&1&&(e(0,"tr")(1,"th",16),i(2,"No"),t(),e(3,"th"),i(4,"Producto"),t(),e(5,"th",16),i(6,"Cantidad"),t(),e(7,"th",16),i(8,"Precio Unitario"),t(),e(9,"th",16),i(10,"Total Producto"),t()())}function ce(r,l){if(r&1&&(e(0,"tr"),x(1,"td")(2,"td")(3,"td"),e(4,"th",17)(5,"label",18),i(6),m(7,"translate"),t()(),e(8,"td",19),i(9),t()()),r&2){let o=S(2);n(6),a(s(7,2,"labels.precio_total")),n(3),a(o.itemRegister().total)}}function ue(r,l){if(r&1&&(e(0,"tr")(1,"td",16),i(2),t(),e(3,"td"),i(4),t(),e(5,"td",16),i(6),t(),e(7,"td",16),i(8),t(),e(9,"td",16),i(10),t()(),v(11,ce,10,4,"tr")),r&2){let o=l.$implicit,p=l.rowIndex,f=S();n(2),a(p+1),n(2),a(o.producto.nombre),n(2),a(o.cantidad),n(2),a(o.precioUnitario),n(2),a(o.compra.total),n(),E(p+1===f.detailView().length?11:-1)}}function fe(r,l){r&1&&x(0,"div",20)}var b=class r{constructor(l,o,p,f,oe,ve){this.comprasServ=l;this.detalleComprasServ=o;this.router=p;this.route=f;this.translateLanService=oe;this.translate=ve;this.id=this.route.snapshot.paramMap.get("id"),this.translateLanService.changeLanguage$.subscribe(c=>this.translate.use(c)),N(()=>{this.comprasServ.getOneCompra(Number(this.id)).subscribe(c=>this.itemRegister.set(c)),this.detalleComprasServ.getDetCompras(Number(this.id)).subscribe(c=>this.detailView.set(c))})}id=null;title="labels.detail_purchase";itemRegister=C({});detailView=C(null);redirectNew=()=>this.router.navigate(["/transactions/compras/"]);static \u0275fac=function(o){return new(o||r)(d(ie),d(g),d(k),d(U),d(z),d(G))};static \u0275cmp=R({type:r,selectors:[["app-return-details"]],decls:48,vars:29,consts:[["caption",""],["header",""],["body",""],["footer",""],[1,"flex","justify-content-between","w-full"],[1,"text-4xl","w-full"],["title","Nueva Compra","icon","pi pi-plus"],["title","Imprimir Compra","icon","pi pi-print"],["title","Imprimir Compra","icon","pi pi-arrow-down-left",3,"click"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","w-full"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"justify-content-left","align-items-center","gap-2","pb-2","lg:w-full","md:w-full","w-full"],[1,"flex","md:flex-row","flex-row","w-full","pt-2"],[3,"value","tableStyle","styleClass"],[1,"from-stone-400"],[2,"text-align","right"],[2,"text-align","right","font-weight","800"],[1,"w-25rem"],[2,"text-align","right","font-weight","700"],[1,"flex","gap-3","mt-1"]],template:function(o,p){if(o&1){let f=D();e(0,"p-card")(1,"div",4)(2,"div",5)(3,"b"),i(4),m(5,"translate"),m(6,"uppercase"),t()(),e(7,"p-buttongroup"),x(8,"p-button",6)(9,"p-button",7),e(10,"p-button",8),T("click",function(){return _(f),w(p.redirectNew())}),t()()(),e(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"b"),i(16),m(17,"translate"),t(),e(18,"div"),i(19),t()(),e(20,"div",12),i(21),m(22,"translate"),e(23,"div"),i(24),t()(),e(25,"div",12)(26,"b"),i(27),m(28,"translate"),t(),e(29,"div"),i(30),m(31,"date"),t()()(),e(32,"div",13)(33,"div",12)(34,"b"),i(35),m(36,"translate"),t(),e(37,"div"),i(38),t()()()()(),e(39,"p-table",14),v(40,se,4,5,"ng-template",null,0,u)(42,de,11,0,"ng-template",null,1,u)(44,ue,12,6,"ng-template",null,2,u),t(),v(46,fe,1,0,"ng-template",null,3,u),t()}o&2&&(n(4),B("",s(6,15,s(5,13,`${p.title}`))," No ",p.id,""),n(12),a(s(17,17,"labels.proveedor")),n(3),a(p.itemRegister().proveedor.empresa),n(2),M(" ",s(22,19,"labels.nit")," "),n(3),a(p.itemRegister().proveedor.nit),n(3),a(s(28,21,"labels.fechaCompra")),n(3),a(P(31,23,p.itemRegister().fechaCompra,"dd/MM/yyyy")),n(5),a(s(36,26,"labels.addres")),n(3),a(p.itemRegister().proveedor.direccionEmpresa),n(),y("value",p.detailView())("tableStyle",j(28,me))("styleClass","p-datatable-sm w-full pt-2"))},dependencies:[Y,X,Q,K,J,q,H,O,W,ae,F,$,L,V,Z,te,re,ne],encapsulation:2,changeDetection:0})};export{b as default};
