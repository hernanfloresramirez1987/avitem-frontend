import{a as Te}from"./chunk-6GNA35ER.js";import{a as be}from"./chunk-XDZORVT4.js";import{a as ye}from"./chunk-34R2RR7Q.js";import{a as he}from"./chunk-NINX4UDH.js";import{a as de,d as ue,e as fe,f as Ce,g as ge,h as ve}from"./chunk-N674FEQB.js";import"./chunk-JTXMDS4E.js";import"./chunk-2TFTJWQW.js";import"./chunk-GLG5OO3S.js";import{b as pe,c as se,d as me,e as ce,i as _e}from"./chunk-NHAPQC3W.js";import"./chunk-KFFE56HM.js";import{a as xe,b as Se}from"./chunk-QLWCHRGM.js";import"./chunk-G255QGHI.js";import"./chunk-NUGAOAR2.js";import{b as J,c as K,d as W,e as X}from"./chunk-6HYSLB2P.js";import{i as ae,j as re}from"./chunk-LC6JGRRQ.js";import"./chunk-2WKEWB2B.js";import{E as ie,F as ne,G as oe,H as le,j as Z,l as ee,s as te}from"./chunk-3T4WVZA5.js";import"./chunk-F2X3VGZZ.js";import{j as G}from"./chunk-THLIJB7Y.js";import{ea as Y}from"./chunk-AAQOC4TC.js";import{o as H,r as q}from"./chunk-F7YKD2CL.js";import{$ as S,Aa as o,Cb as v,Fa as g,Fb as R,Gb as L,Hb as A,Lb as z,Ma as O,Mb as _,Nb as f,Ob as y,Pb as N,Sa as T,Wb as Q,_ as x,cb as m,cc as r,dc as p,fc as w,hb as j,ib as F,kb as E,lb as M,ma as I,mb as B,n as D,nb as s,ob as a,pb as c,sc as V,tb as b,tc as U,yb as h,zb as l}from"./chunk-J6TCZN46.js";import{a as $}from"./chunk-C6Q5SG76.js";var we=["dt1"],Ie=["filter"],Fe=t=>({color:t,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function Ee(t,i){if(t&1){let e=b();s(0,"div",9)(1,"p-iconfield",10)(2,"p-inputgroup")(3,"p-button",11),r(4,"translate"),h("click",function(){x(e);let d=l(),C=z(5);return S(d.clear(C))}),a(),s(5,"p-button",12),h("click",function(){x(e);let d=l();return S(d.add())}),a(),c(6,"p-button",13),a()()()}t&2&&(o(3),m("label",p(4,4,"labels.clear"))("outlined",!0),o(2),m("outlined",!0),o(),m("outlined",!0))}function Me(t,i){t&1&&(s(0,"th",18)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2&&(m("pSortableColumn","id"),o(2),f(p(4,5,p(3,3,"labels.id"))),o(3),m("field","id"))}function Be(t,i){if(t&1&&(s(0,"th",19)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;m("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.ci"))),o(3),m("field",e.field)}}function Ve(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.name"))),o(3),m("field",e.field)}}function $e(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.app"))),o(3),m("field",e.field)}}function Re(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.apm"))),o(3),m("field",e.field)}}function Le(t,i){t&1&&(s(0,"th",21),_(1),r(2,"translate"),r(3,"uppercase"),a()),t&2&&(o(),f(p(3,3,p(2,1,"labels.telefono"))))}function Ae(t,i){if(t&1&&(s(0,"th",22)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.sexo"))),o(3),m("field",e.field)}}function ke(t,i){if(t&1&&(s(0,"th",20)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.fnaci"))),o(3),m("field",e.field)}}function Pe(t,i){if(t&1&&(s(0,"th",23)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels.email"))),o(3),m("field",e.field)}}function De(t,i){if(t&1&&(s(0,"th",21)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;o(2),f(p(4,4,p(3,2,"labels.telefono"))),o(3),m("field",e.field)}}function Oe(t,i){if(t&1&&(s(0,"th",24)(1,"div",25),_(2),r(3,"translate"),r(4,"uppercase"),c(5,"p-sortIcon",26),a()()),t&2){let e=l().$implicit;v("pSortableColumn",e.field),o(2),f(p(4,5,p(3,3,"labels."+e.field))),o(3),m("field",e.field)}}function je(t,i){if(t&1&&T(0,Me,6,7,"th",18)(1,Be,6,7,"th",19)(2,Ve,6,7,"th",20)(3,$e,6,7,"th",20)(4,Re,6,7,"th",20)(5,Le,4,5,"th",21)(6,Ae,6,7,"th",22)(7,ke,6,7,"th",20)(8,Pe,6,7,"th",23)(9,De,6,6,"th",21)(10,Oe,6,7,"th",24),t&2){let e,n=i.$implicit;F((e=n.field)==="id"?0:e==="ci"?1:e==="nombre"?2:e==="app"?3:e==="apm"?4:e==="telefono"?5:e==="sexo"?6:e==="fnaci"?7:e==="email"?8:e==="telefono"?9:10)}}function ze(t,i){t&1&&c(0,"appcommon-filter-input",27)}function Ne(t,i){t&1&&c(0,"appcommon-filter-input",28)}function Qe(t,i){t&1&&c(0,"appcommon-filter-input",29)}function Ue(t,i){t&1&&c(0,"appcommon-filter-input",30)}function He(t,i){t&1&&c(0,"appcommon-filter-input",31)}function qe(t,i){t&1&&c(0,"appcommon-filter-input",32)}function Ge(t,i){t&1&&c(0,"appcommon-filter-input",33)}function Je(t,i){t&1&&c(0,"appcommon-filter-input",34)}function Ke(t,i){t&1&&c(0,"appcommon-filter-input",35)}function We(t,i){if(t&1&&c(0,"appcommon-filter-input",36),t&2){let e=l().$implicit;m("field",e.field)}}function Xe(t,i){if(t&1&&(s(0,"th",16),T(1,ze,1,0,"appcommon-filter-input",27)(2,Ne,1,0,"appcommon-filter-input",28)(3,Qe,1,0,"appcommon-filter-input",29)(4,Ue,1,0,"appcommon-filter-input",30)(5,He,1,0,"appcommon-filter-input",31)(6,qe,1,0,"appcommon-filter-input",32)(7,Ge,1,0,"appcommon-filter-input",33)(8,Je,1,0,"appcommon-filter-input",34)(9,Ke,1,0,"appcommon-filter-input",35)(10,We,1,1,"appcommon-filter-input",36),a()),t&2){let e,n=i.$implicit;o(),F((e=n.field)==="id"?1:e==="ci"?2:e==="nombre"?3:e==="app"?4:e==="apm"?5:e==="sexo"?6:e==="fnaci"?7:e==="email"?8:e==="telefono"?9:10)}}function Ye(t,i){t&1&&(s(0,"th",17),_(1,"cargando"),a())}function Ze(t,i){if(t&1){let e=b();s(0,"tr")(1,"th",14)(2,"p-button",15),h("click",function(d){x(e);let C=l();return S(C.toggleMenu(d))}),a()(),M(3,je,11,1,null,null,E),a(),s(5,"tr"),M(6,Xe,11,1,"th",16,E,!1,Ye,2,0,"th",17),a()}if(t&2){let e=i.$implicit;o(2),m("rounded",!1)("text",!0),o(),B(e),o(3),B(e)}}function et(t,i){if(t&1&&_(0),t&2){let e=l(2).$implicit;y(" ",e.id," ")}}function tt(t,i){if(t&1&&_(0),t&2){let e=l(2).$implicit;N(" ",e.ci," ",e.ciExpedit," ")}}function it(t,i){if(t&1&&_(0),t&2){let e=l().$implicit,n=l().$implicit;y(" ",n[e.field]," ")}}function nt(t,i){if(t&1&&_(0),t&2){let e=l().$implicit,n=l().$implicit;y(" ",n[e.field]," ")}}function ot(t,i){if(t&1&&_(0),t&2){let e=l().$implicit,n=l().$implicit;y(" ",n[e.field]," ")}}function lt(t,i){if(t&1&&(c(0,"i",37),_(1)),t&2){let e=l().$implicit,n=l().$implicit,d=l();j("pi ",n[e.field]==="V"?"pi-mars":"pi-venus",""),m("ngStyle",Q(5,Fe,n[e.field]==="V"?"blue":"red")),o(),y(" ",d.getSexo(n[e.field])," ")}}function at(t,i){if(t&1&&_(0),t&2){let e=l().$implicit,n=l().$implicit;y(" ",n[e.field]," ")}}function rt(t,i){if(t&1&&_(0),t&2){let e=l().$implicit,n=l().$implicit;y(" ",n[e.field]," ")}}function pt(t,i){if(t&1&&(s(0,"td"),T(1,et,1,1)(2,tt,1,2)(3,it,1,1)(4,nt,1,1)(5,ot,1,1)(6,lt,2,7)(7,at,1,1)(8,rt,1,1),a()),t&2){let e,n=i.$implicit;o(),F((e=n.field)==="id"?1:e==="ci"?2:e==="nombre"?3:e==="app"?4:e==="apm"?5:e==="sexo"?6:e==="fnaci"?7:8)}}function st(t,i){if(t&1){let e=b();s(0,"tr")(1,"td")(2,"p-button",15),h("click",function(d){x(e);let C=l();return S(C.toggleMenu(d))}),a()(),M(3,pt,9,1,"td",null,E),a()}if(t&2){let e=i.columns;o(2),m("rounded",!1)("text",!0),o(),B(e)}}function mt(t,i){if(t&1){let e=b();s(0,"div",38)(1,"p-multiSelect",39),h("onChange",function(d){x(e);let C=l();return S(C.cargaColumnas(d))})("onSelectAllChange",function(d){x(e);let C=l();return S(C.selectAll(d))}),a()()}if(t&2){let e=l();o(),m("options",e.colsOptionsSelect)("ngModel",e.columnsSelectSignal())}}function ct(t,i){t&1&&(s(0,"tr")(1,"td",40),_(2,"No order found."),a()())}function _t(t,i){t&1&&(s(0,"tr")(1,"td",40),_(2,"Loading orders data. Please wait."),a()())}var k=class t{constructor(i,e,n,d,C,P,dt,ut){this.usersServ=i;this.clientServ=e;this.filterservice=n;this.translate=d;this.translateLanService=C;this.router=P;this.personasService=dt;this.arrayurilservice=ut;this.translateLanService.changeLanguage$.subscribe(u=>this.translate.use(u)),U(()=>{this.clientServ.postClients(this.employeedto()).pipe(D(u=>(console.log(888),console.log("console.log('', t):   ",u),{data:Array.isArray(u)?[...u]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:u=>{console.log($({},this.employeedto())),console.log(u),this.stateValues.set({data:u.data&&u.data.length>0?[...u.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:u=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:u})})}),this.usersServ.getExpedidoOptions().subscribe(u=>this.expedidoOptions=u)}table;filter;stateValues=I({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=I([]);employeedto=I({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=de.cantidadRegistros;stateIni=!1;keylocalColumn="clients_cols";allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo"];columns=this.allowedColumns;columnsSelectSignal=V(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));colsOptionsSelect=this.allowedColumns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)}));clients=[];expedidoOptions;clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};toggleMenu=i=>{console.log(i)};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(e=>e.field):[],rows:Number(i.rows)},filter:$({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}add=()=>this.router.navigate(["/users/clientes/create"]);getSexo=i=>this.personasService.getSexo(i);cargaColumnas(i){let e=this.arrayurilservice.selectOrderedArray(this.colsOptionsSelect,i.value);this.columnsSelectSignal=V(()=>e),localStorage.setItem(this.keylocalColumn,JSON.stringify(this.columnsSelectSignal()))}selectAll(i){let e=[];i.checked&&(e=this.allowedColumns),this.columnsSelectSignal=V(()=>e),localStorage.setItem(this.keylocalColumn,JSON.stringify(e))}static \u0275fac=function(e){return new(e||t)(g(be),g(Te),g(ve),g(J),g(X),g(G),g(ye),g(he))};static \u0275cmp=O({type:t,selectors:[["app-clientes"]],viewQuery:function(e,n){if(e&1&&(R(we,5),R(Ie,5)),e&2){let d;L(d=A())&&(n.table=d.first),L(d=A())&&(n.filter=d.first)}},decls:16,vars:22,consts:[["dt1",""],["caption",""],["paginatorleft",""],["emptymessage",""],["loadingbody",""],[3,"header","subheader"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","53vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end"],["iconPosition","left"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-user-plus","severity","primary",3,"click","outlined"],["pRipple","","icon","pi pi-ellipsis-v","severity","secondary",3,"outlined"],["rowspan","2"],["icon","pi pi-ellipsis-v","severity","secondary",3,"click","rounded","text"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","id"],["field","ci"],["field","nombre"],["field","app"],["field","apm"],["field","sexo"],["field","fnaci"],["field","email"],["field","telefono"],["type","text",3,"field"],[3,"ngStyle"],[1,"flex","align-items-center","justify-content-center"],["inputId","float-label","optionLabel","header","selectedItemsLabel","{0} columns selected","size","small","placeholder","Choose Columns",1,"p-input-icon-left",3,"onChange","onSelectAllChange","options","ngModel"],["colspan","8"]],template:function(e,n){if(e&1){let d=b();s(0,"p-card",5),r(1,"translate"),r(2,"uppercase"),r(3,"translate"),s(4,"p-table",6,0),h("onLazyLoad",function(P){return x(d),S(n.getDataPaged(P))}),T(6,Ee,7,6,"ng-template",null,1,w)(8,Ze,9,3,"ng-template",7)(9,st,5,2,"ng-template",8)(10,mt,2,2,"ng-template",null,2,w)(12,ct,3,0,"ng-template",null,3,w)(14,_t,3,0,"ng-template",null,4,w),a()()}e&2&&(m("header",p(2,18,p(1,16,"pages.clients")))("subheader",p(3,20,"labels.admin_clients")),o(4),m("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[re,ae,Y,W,K,ne,ie,q,_e,pe,se,ce,me,H,ge,Ce,Se,xe,le,oe,fe,ue,te,Z,ee],encapsulation:2})};export{k as default};
