import{b as we}from"./chunk-U6SNSFJW.js";import{a as be}from"./chunk-3GCIYZEP.js";import{a as _e}from"./chunk-R3RUQSCU.js";import{a as xe}from"./chunk-SXDJDIV4.js";import{b as ce}from"./chunk-JPRXYNKK.js";import{a as ve,b as ge}from"./chunk-6SW6JFWZ.js";import{a as ue}from"./chunk-7C7CYQMH.js";import{j as oe,k as ae,l as pe,q as me,r as se,s as de,t as fe,u as Ce}from"./chunk-O4MNLDLA.js";import"./chunk-44UL6WXM.js";import{a as ne,b as re}from"./chunk-XMSLJEE3.js";import{Ha as Z,Ia as ee,Ja as te,Oa as ie,Pa as le,Z as A,ka as U,la as C,na as $,oa as W,qa as z,sa as H,ta as J,va as K,xa as Q,ya as X,za as Y}from"./chunk-L6F5SHP5.js";import{k as O,w as P}from"./chunk-A5I2MG6G.js";import"./chunk-F2X3VGZZ.js";import{$a as s,A as M,Ca as e,Gb as p,Ha as x,Hb as d,Ib as _,Na as V,Ob as L,Ta as f,Xb as o,Yb as a,aa as B,ba as N,cb as R,fb as g,gb as j,ib as D,jb as q,kb as r,lb as t,mb as c,qb as G,ub as E,vb as S}from"./chunk-4PTIY3UM.js";var Ee=()=>({width:"100%"});function Se(l,i){l&1&&(r(0,"small",8),p(1,"Error en el CI."),t())}function ye(l,i){l&1&&(r(0,"small",8),p(1,"Error en el NIT."),t())}function Ie(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.ciExpedit"),"."))}function he(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.name"),"."))}function Fe(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.app"),"."))}function Te(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.apm"),"."))}function Be(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.direccion"),"."))}function Ne(l,i){if(l&1&&(c(0,"p-radioButton",30),r(1,"label",31),p(2),t()),l&2){let m=i.$implicit;s("inputId",m.key)("value",m)("formControlName","sexo"),e(),s("for",m.key),e(),d(m.name)}}function ke(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.fnaci"),"."))}function Me(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),_("Error en el ",a(2,1,"labels.email"),"."))}function Ve(l,i){if(l&1){let m=G();r(0,"div",32)(1,"p-button",33),o(2,"translate"),E("click",function(){B(m);let u=S();return N(u.cancel())}),t(),r(3,"p-button",34),o(4,"translate"),E("click",function(){B(m);let u=S();return N(u.cleanAll())}),t(),r(5,"p-button",35),o(6,"translate"),E("click",function(){B(m);let u=S();return N(u.save())}),t()()}if(l&2){let m=S();e(),s("label",a(2,4,"labels.cancel")),e(2),s("label",a(4,6,"labels.clean")),e(2),s("label",a(6,8,"labels.save"))("disabled",!m.registroForm.valid)}}var k=class l{constructor(i,m,n,u,b,w){this.clientServ=i;this.usersServ=m;this.translate=n;this.translateLanService=u;this.fb=b;this.router=w;this.translateLanService.changeLanguage$.subscribe(v=>this.translate.use(v)),this.usersServ.getExpedidoOptions().subscribe(v=>this.expedidoOptions=v),this.usersServ.getSexo().subscribe(v=>this.sexo=v),this.registroForm=this.fb.group({ci:["",[C.required,C.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[C.required]],ciComplement:[""],nombre:["",C.required],app:["",C.required],apm:[""],sexo:["",C.required],fnaci:["",C.required],direccion:["",C.required],telefono:["",[]],email:["",[C.required,C.email]],nit:[""]})}registroForm;expedidoOptions;sexo;checkComplementCI=!0;clienteRegister;ngOnInit(){this.registroForm.valueChanges.pipe(M(5e3)).subscribe(i=>{console.log("Errores:",i.errors);for(let m in this.registroForm.controls)console.log(`${m}:`,this.registroForm.get(m)?.errors)})}save=()=>this.saveCliente();saveCliente(){console.log(this.asignarValores()),this.clientServ.postSaveCliente(this.asignarValores()).subscribe(i=>{console.log(i),i.CodigoEstado==="201"&&this.router.navigate(["users/clientes"])})}asignarValores(){let i=this.registroForm.value,n=new Date(i.fnaci).toISOString().split("T")[0];return this.clienteRegister={p_ci:i.ci,p_ciExpedit:i.ciExpedit.code,p_ciComplement:i.ciComplement,p_nombre:i.nombre,p_app:i.app,p_apm:i.apm,p_sexo:i.sexo.key,p_fnaci:n,p_direccion:i.direccion,p_telefono:i.telefono,p_email:i.email,cli_nit:i.nit}}cleanAll(){confirm("\xBFEst\xE1s seguro de querer limpiar el formulario?")&&this.registroForm.reset()}cancel(){confirm("\xBFEst\xE1s seguro de querer cancelar el registro y salir del formulario?")&&this.router.navigate(["users/clientes"])}static \u0275fac=function(m){return new(m||l)(x(be),x(xe),x(ie),x(de),x(K),x(P))};static \u0275cmp=V({type:l,selectors:[["app-clientes-create"]],decls:80,vars:70,consts:[[3,"formGroup"],[3,"header","subheader"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","p-2","w-full"],[1,"flex","md:flex-row","flex-row","w-full","p-2"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","p-2","lg:w-full","md:w-full","w-full"],["for","ci",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName","fluid"],[2,"color","red"],["for","nit",1,"w-20rem"],["for","ServiceName",1,"w-15rem"],["type","text","pInputText","","placeholder","complemento",1,"w-full",3,"disabled","fluid"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click"],["for","expedition",1,"w-15rem"],["optionLabel","name","styleClass","w-full","placeholder","Select a Extension",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","pb-4","lg:w-full","md:w-full","w-full","p-2"],["for","name",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full","p-2"],["for","PublicPhone",1,"w-15rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["for","apm",1,"w-15rem"],["for","Web",1,"w-15rem"],["pInputText","","type","direccion",1,"w-full",3,"formControlName"],[1,"flex","md:flex-row","flex-row"],[1,"flex","justify-content-center","w-full","p-2"],["formControlName","fnaci","styleClass","w-full",1,"w-full","lg:w-full"],["pInputText","","type","tel","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],["pInputText","","type","email",1,"w-full",3,"formControlName"],["pTemplate","footer"],["styleClass","w-full",1,"w-full","lg:w-full",3,"inputId","value","formControlName"],[1,"ml-2","justify-content-center",3,"for"],[1,"flex","gap-3","mt-1"],["severity","danger","styleClass","w-full",1,"w-full",3,"click","label"],["severity","secondary","styleClass","w-full",1,"w-full",3,"click","label"],["styleClass","w-full",1,"w-full",3,"click","label","disabled"]],template:function(m,n){if(m&1&&(r(0,"form",0)(1,"p-card",1),o(2,"translate"),o(3,"uppercase"),o(4,"translate"),r(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),p(10),o(11,"translate"),t(),c(12,"input",7),f(13,Se,2,0,"small",8),t(),r(14,"div",5)(15,"label",9),p(16),o(17,"translate"),t(),c(18,"input",7),f(19,ye,2,0,"small",8),t(),r(20,"div",5)(21,"label",10),p(22),o(23,"translate"),t(),r(24,"p-inputGroup"),c(25,"input",11),r(26,"button",12),E("click",function(){return n.checkComplementCI=!n.checkComplementCI}),t()()(),r(27,"div",5)(28,"label",13),p(29),o(30,"translate"),t(),c(31,"p-select",14),f(32,Ie,3,3,"small",8),t()(),r(33,"div",15)(34,"div",16)(35,"label",17),p(36),o(37,"translate"),t(),c(38,"input",7),f(39,he,3,3,"small",8),t(),r(40,"div",18)(41,"label",19),p(42),o(43,"translate"),t(),c(44,"input",20),f(45,Fe,3,3,"small",8),t(),r(46,"div",18)(47,"label",21),p(48),o(49,"translate"),t(),c(50,"input",20),f(51,Te,3,3,"small",8),t(),r(52,"div",18)(53,"label",22),p(54),o(55,"translate"),t(),c(56,"input",23),f(57,Be,3,3,"small",8),t()(),r(58,"div",24)(59,"div",25),D(60,Ne,3,5,null,null,j),t(),r(62,"div",18)(63,"label",22),p(64),o(65,"translate"),t(),c(66,"p-datepicker",26),f(67,ke,3,3,"small",8),t(),r(68,"div",18)(69,"label",22),p(70),o(71,"translate"),t(),c(72,"input",27),t(),r(73,"div",18)(74,"label",22),p(75),o(76,"translate"),t(),c(77,"input",28),f(78,Me,3,3,"small",8),t()()()(),f(79,Ve,7,10,"ng-template",29),t()()),m&2){let u,b,w,v,y,I,h,F,T;s("formGroup",n.registroForm),e(),s("header",a(3,43,a(2,41,"labels.register_clients")))("subheader",a(4,45,"labels.forms_employees")),e(9),d(a(11,47,"labels.ci")),e(2),s("formControlName","ci")("fluid",!0),e(),g((u=n.registroForm.get("ci"))!=null&&u.invalid&&((u=n.registroForm.get("ci"))!=null&&u.touched)?13:-1),e(3),d(a(17,49,"labels.nit")),e(2),s("formControlName","nit")("fluid",!0),e(),g((b=n.registroForm.get("nit"))!=null&&b.invalid&&((b=n.registroForm.get("nit"))!=null&&b.touched)?19:-1),e(3),d(a(23,51,"labels.ciComplement")),e(3),s("disabled",n.checkComplementCI)("fluid",!0),e(4),d(a(30,53,"labels.ciExpedit")),e(2),R(L(69,Ee)),s("formControlName","ciExpedit")("options",n.expedidoOptions),e(),g((w=n.registroForm.get("ciExpedit"))!=null&&w.invalid&&((w=n.registroForm.get("ciExpedit"))!=null&&w.touched)?32:-1),e(4),d(a(37,55,"labels.name")),e(2),s("formControlName","nombre")("fluid",!0)("fluid",!0),e(),g((v=n.registroForm.get("nombre"))!=null&&v.invalid&&((v=n.registroForm.get("nombre"))!=null&&v.touched)?39:-1),e(3),d(a(43,57,"labels.app")),e(2),s("formControlName","app"),e(),g((y=n.registroForm.get("app"))!=null&&y.invalid&&((y=n.registroForm.get("app"))!=null&&y.touched)?45:-1),e(3),d(a(49,59,"labels.apm")),e(2),s("formControlName","apm"),e(),g((I=n.registroForm.get("apm"))!=null&&I.invalid&&((I=n.registroForm.get("apm"))!=null&&I.touched)?51:-1),e(3),d(a(55,61,"labels.direccion")),e(2),s("formControlName","direccion"),e(),g((h=n.registroForm.get("direccion"))!=null&&h.invalid&&((h=n.registroForm.get("direccion"))!=null&&h.touched)?57:-1),e(3),q(n.sexo),e(4),d(a(65,63,"labels.fnaci")),e(3),g((F=n.registroForm.get("fnaci"))!=null&&F.invalid&&((F=n.registroForm.get("fnaci"))!=null&&F.touched)?67:-1),e(3),d(a(71,65,"labels.telefono")),e(2),s("formControlName","telefono"),e(3),d(a(76,67,"labels.email")),e(2),s("formControlName","email"),e(),g((T=n.registroForm.get("email"))!=null&&T.invalid&&((T=n.registroForm.get("email"))!=null&&T.touched)?78:-1)}},dependencies:[Ce,fe,A,Q,z,U,$,W,H,J,se,me,pe,ae,Y,X,re,ne,we,te,Z,ee,ce,oe,ge,ve,_e,ue,le,O],encapsulation:2})};export{k as default};
