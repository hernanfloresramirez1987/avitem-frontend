import{a as E}from"./chunk-MA5HSBEB.js";import{a as q}from"./chunk-HHHLULWF.js";import{a as R}from"./chunk-EMFWWU7A.js";import{b as T}from"./chunk-4P3KGN2V.js";import{b as _}from"./chunk-32IWVC6R.js";import{b as x}from"./chunk-RQYLB3C7.js";import{a as I}from"./chunk-264SZV72.js";import{j as h,o as F,q as M}from"./chunk-6BBU5BDO.js";import"./chunk-3ZXNXC3M.js";import{b as S}from"./chunk-YV3LG3GG.js";import{Ja as C,Ta as b,la as r,va as f,xa as v,za as g}from"./chunk-SIBHBHQR.js";import{w as u}from"./chunk-RHZWWJMM.js";import"./chunk-F2X3VGZZ.js";import{A as c,Gb as d,Ha as t,Na as m,kb as p,lb as l}from"./chunk-4LBSLQEY.js";var n=class a{constructor(e,i,s,L,N,O){this.clientServ=e;this.usersServ=i;this.translate=s;this.translateLanService=L;this.fb=N;this.router=O;this.translateLanService.changeLanguage$.subscribe(o=>this.translate.use(o)),this.usersServ.getExpedidoOptions().subscribe(o=>this.expedidoOptions=o),this.usersServ.getSexo().subscribe(o=>this.sexo=o),this.registroForm=this.fb.group({ci:["",[r.required,r.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[r.required]],ciComplement:[""],nombre:["",r.required],app:["",r.required],apm:[""],sexo:["",r.required],fNaci:["",r.required],direccion:["",r.required],telefono:["",[]],email:["",[r.required,r.email]],nit:[""]})}registroForm;expedidoOptions;sexo;checkComplementCI=!0;clienteRegister;ngOnInit(){this.registroForm.valueChanges.pipe(c(5e3)).subscribe(e=>{console.log("Errores:",e.errors);for(let i in this.registroForm.controls)console.log(`${i}:`,this.registroForm.get(i)?.errors)})}saveCliente(){console.log(this.asignarValores()),this.clientServ.postSaveCliente(this.asignarValores()).subscribe(e=>{e.CodigoEstado==="201"&&this.router.navigate(["users/proveedores"])})}asignarValores(){let e=this.registroForm.value,s=new Date(e.fNaci).toISOString().split("T")[0];return this.clienteRegister={p_ci:e.ci,p_ciExpedit:e.ciExpedit.code,p_ciComplement:e.ciComplement,p_nombre:e.nombre,p_app:e.app,p_apm:e.apm,p_sexo:e.sexo.key,p_fnaci:s,p_direccion:e.direccion,p_telefono:e.telefono,p_email:e.email,cli_nit:e.nit}}static \u0275fac=function(i){return new(i||a)(t(E),t(q),t(b),t(F),t(f),t(u))};static \u0275cmp=m({type:a,selectors:[["app-clientes-create"]],decls:2,vars:0,template:function(i,s){i&1&&(p(0,"p"),d(1,"clientes-create works!"),l())},dependencies:[M,v,g,S,_,C,x,h,T,R,I],encapsulation:2})};export{n as default};
