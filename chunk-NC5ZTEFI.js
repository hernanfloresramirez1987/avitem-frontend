import{a as j}from"./chunk-MQBIXF4Y.js";import{a as T}from"./chunk-62QFYWUU.js";import{a as q}from"./chunk-R6ZE4VRU.js";import{b as _}from"./chunk-OVNQVQR5.js";import{a as E}from"./chunk-5D63LE4M.js";import{b}from"./chunk-ABYTDU5A.js";import{b as x,d as I}from"./chunk-ZEP5TYSZ.js";import{b as F}from"./chunk-AEP33MGT.js";import{K as C,Y as S,b as f,e as h,fa as M,h as i,q as v,s as g}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import{i as u}from"./chunk-NM3HJ4DI.js";import"./chunk-JAFPLUWG.js";import{D as a,Mb as l,Ta as r,Ub as d,ea as p,tb as c,ub as m}from"./chunk-PQPLRZS3.js";var Y=(()=>{class s{constructor(e,t,n,L,k,D){this.clientServ=e,this.usersServ=t,this.translate=n,this.translateLanService=L,this.fb=k,this.router=D,this.checkComplementCI=!0,this.translateLanService.changeLanguage$.subscribe(o=>this.translate.use(o)),this.usersServ.getExpedidoOptions().subscribe(o=>this.expedidoOptions=o),this.usersServ.getSexo().subscribe(o=>this.sexo=o),this.registroForm=this.fb.group({ci:["",[i.required,i.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[i.required]],ciComplement:[""],nombre:["",i.required],app:["",i.required],apm:[""],sexo:["",i.required],fNaci:["",i.required],direccion:["",i.required],telefono:["",[]],email:["",[i.required,i.email]],nit:[""]})}ngOnInit(){this.registroForm.valueChanges.pipe(a(5e3)).subscribe(e=>{console.log("Errores:",e.errors);for(let t in this.registroForm.controls)console.log(`${t}:`,this.registroForm.get(t)?.errors)})}saveCliente(){console.log(this.asignarValores()),this.clientServ.postSaveCliente(this.asignarValores()).subscribe(e=>{e.CodigoEstado==="201"&&this.router.navigate(["users/proveedores"])})}asignarValores(){let e=this.registroForm.value,n=new Date(e.fNaci).toISOString().split("T")[0];return this.clienteRegister={p_ci:e.ci,p_ciExpedit:e.ciExpedit.code,p_ciComplement:e.ciComplement,p_nombre:e.nombre,p_app:e.app,p_apm:e.apm,p_sexo:e.sexo.key,p_fnaci:n,p_direccion:e.direccion,p_telefono:e.telefono,p_email:e.email,cli_nit:e.nit}}static{this.\u0275fac=function(t){return new(t||s)(r(j),r(T),r(f),r(h),r(v),r(u))}}static{this.\u0275cmp=p({type:s,selectors:[["app-clientes-create"]],standalone:!0,features:[d],decls:2,vars:0,template:function(t,n){t&1&&(c(0,"p"),l(1,"clientes-create works!"),m())},dependencies:[I,g,C,b,M,S,x,E,_,q,F]})}}return s})();export{Y as default};
