import{a as me}from"./chunk-53ARNPTS.js";import{a as ae,b as le,c as pe,d as de}from"./chunk-AIUKHDUC.js";import"./chunk-UGFRYHF3.js";import{b as te,c as ie,d as oe,f as ne,j as re}from"./chunk-YOQYYWRA.js";import{c as se,d as ce}from"./chunk-PZTL2RAH.js";import"./chunk-AEP33MGT.js";import{G as Y,W as Z,Y as ee,b as J,c as K,d as W,e as X}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import{a as O,j as G}from"./chunk-NM3HJ4DI.js";import{s as q}from"./chunk-JAFPLUWG.js";import{$ as D,Bc as U,Cb as E,Db as c,Gb as g,Ib as $,Jb as R,Kb as k,Lb as N,Mb as d,Nb as h,Ob as f,Sa as i,Ta as x,Ub as A,V,Wb as L,a as w,bb as v,dc as l,ea as j,ec as p,hb as b,jb as u,kb as Q,oa as T,ob as S,pa as B,qb as y,rb as F,s as M,sb as I,tb as r,ub as a,vb as _,zb as z,zc as H}from"./chunk-PQPLRZS3.js";var ue=(()=>{class t{constructor(){this.#e="http://127.0.0.1:8080/api/templates/",this.http=D(O),this.postComponentsRedirecctions=e=>this.http.post(`${this.#e}postComponentsRedirecctions`,e),this.postComponents=e=>this.http.post(`${this.#e}getcomponents`,e)}#e;static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ge=["dt1"],xe=["filter"],_e=()=>["/inventory/products/create"];function he(t,n){t&1&&(r(0,"th",11)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2&&(u("pSortableColumn","id"),i(2),f("",p(4,5,p(3,3,"labels.id"))," "),i(3),u("field","id"))}function be(t,n){if(t&1&&(r(0,"th",14)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.nombre"))," "),i(3),u("field",e.field)}}function ve(t,n){if(t&1&&(r(0,"th",15)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;u("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.description"))," "),i(3),u("field",e.field)}}function Se(t,n){if(t&1&&(r(0,"th",16)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.cantidadStock"))," "),i(3),u("field",e.field)}}function ye(t,n){if(t&1&&(r(0,"th",17)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.fechaIngreso"))," "),i(3),u("field",e.field)}}function Fe(t,n){t&1&&(r(0,"th",18),d(1),l(2,"translate"),l(3,"uppercase"),a()),t&2&&(i(),f("",p(3,3,p(2,1,"labels.unidadMedida"))," "))}function Ie(t,n){if(t&1&&(r(0,"th",19)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.codigoProducto"))," "),i(3),u("field",e.field)}}function Pe(t,n){if(t&1&&(r(0,"th",17)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.state"))," "),i(3),u("field",e.field)}}function we(t,n){if(t&1&&(r(0,"th",14)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels.empresa"))," "),i(3),u("field",e.field)}}function Te(t,n){t&1&&(r(0,"th",18),d(1),l(2,"translate"),l(3,"uppercase"),a()),t&2&&(i(),f("",p(3,3,p(2,1,"labels.categoria"))," "))}function Be(t,n){if(t&1&&(r(0,"th",20)(1,"div",12),d(2),l(3,"translate"),l(4,"uppercase"),_(5,"p-sortIcon",13),a()()),t&2){let e=c().$implicit;g("pSortableColumn",e.field),i(2),f("",p(4,5,p(3,3,"labels."+e.field))," ii "),i(3),u("field",e.field)}}function Ee(t,n){if(t&1&&b(0,he,6,7)(1,be,6,7)(2,ve,6,7)(3,Se,6,7)(4,ye,6,7)(5,Fe,4,5)(6,Ie,6,7)(7,Pe,6,7)(8,we,6,7)(9,Te,4,5)(10,Be,6,7),t&2){let e,o=n.$implicit;S(0,(e=o.field)==="id"?0:e==="nombre"?1:e==="descripcion"?2:e==="cantidadStock"?3:e==="fechaIngreso"?4:e==="unidadMedida"?5:e==="codigoProducto"?6:e==="state"?7:e==="empresa"?8:e==="categoria"?9:10)}}function $e(t,n){if(t&1&&_(0,"shipedge-filter-input",21),t&2){let e=c().$implicit;u("field",e.field)}}function Re(t,n){t&1&&(r(0,"th",9),b(1,$e,1,1),a()),t&2&&(i(),S(1,1))}function ke(t,n){t&1&&(r(0,"th",10),d(1,"cargando"),a())}function Le(t,n){if(t&1&&(r(0,"tr"),F(1,Ee,11,1,null,null,y),a(),r(3,"tr"),F(4,Re,2,1,"th",9,y,!1,ke,2,0,"th",10),a()),t&2){let e=n.$implicit;i(),I(e),i(3),I(e)}}function Me(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c(2).$implicit;i(),h(e.id)}}function Ve(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c().$implicit,o=c().$implicit,m=c();Q("background-color",m.getColorBackground(o.color))("color",m.getColor(o.color)),i(),f("",o[e.field]," ")}}function De(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c().$implicit,o=c().$implicit;i(),h(o[e.field])}}function je(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c().$implicit,o=c().$implicit;i(),h(o[e.field])}}function Qe(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c().$implicit,o=c().$implicit;i(),h(o[e.field])}}function ze(t,n){if(t&1&&(r(0,"td"),d(1),a()),t&2){let e=c().$implicit,o=c().$implicit;i(),h(o[e.field])}}function Ne(t,n){if(t&1&&b(0,Me,2,1)(1,Ve,2,5)(2,De,2,1)(3,je,2,1)(4,Qe,2,1)(5,ze,2,1),t&2){let e,o=n.$implicit;S(0,(e=o.field)==="id"?0:e==="nombre"?1:e==="descripcion"?2:e==="codigoProducto"?3:e==="state"?4:5)}}function Ae(t,n){if(t&1&&(r(0,"tr"),F(1,Ne,6,1,null,null,y),a()),t&2){let e=n.columns;i(),I(e)}}var _t=(()=>{class t{constructor(e,o,m,C,P){this.productsServ=e,this.filterservice=o,this.translate=m,this.translateLanService=C,this.externapiServ=P,this.stateValues=v({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null}),this.searchTxt=v([]),this.productsdto=v({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}}),this.tablecon=ae.cantidadRegistros,this.stateIni=!1,this.allowedColumns=["id","nombre","codigoProducto","empresa","descripcion","cantidadStock","fechaIngreso","unidadMedida","state","categoria"],this.columns=this.allowedColumns,this.columnsSelectSignal=H(()=>this.columns.map(s=>({field:s,header:s.charAt(0).toUpperCase()+s.slice(1)}))),this.clear=s=>{this.productsdto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),s.clear()},this.translateLanService.changeLanguage$.subscribe(s=>this.translate.use(s)),U(()=>{this.productsServ.postProductsGet().pipe(M(s=>(console.log("console.log('', t):   ",s),{data:Array.isArray(s)?[...s]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:s=>{console.log(w({},this.productsdto())),console.log(s),this.stateValues.set({data:s.data&&s.data.length>0?[...s.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:s=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:s})})})}getDataPaged(e){e.filters&&this.stateIni!==!1&&this.productsdto.update(()=>({config:{populate_data:!1,page:(e.first||0)/Number(e.rows)+1,sort_field:e.multiSortMeta?e.multiSortMeta.filter(o=>o.field):[],rows:Number(e.rows)},filter:w({},this.filterservice.applyFilterNew(e.filters,this.productsdto().filter))})),this.stateIni=!0}getColorBackground(e){switch(e){case"Natural":return"#cccccc";case"Champan":return"#FBE7C6";case"Negro":return"#000000";case"Madera":return"#8B4513";default:return"#FFFFFF"}}getColor(e){switch(e){case"Natural":return"#000000";case"Champan":return"#000000";case"Negro":return"#FFFFFF";case"Madera":return"#FFFFFF";default:return"#FFFFFF"}}static{this.\u0275fac=function(o){return new(o||t)(x(me),x(de),x(J),x(X),x(ue))}}static{this.\u0275cmp=j({type:t,selectors:[["app-products"]],viewQuery:function(o,m){if(o&1&&($(ge,5),$(xe,5)),o&2){let C;R(C=k())&&(m.table=C.first),R(C=k())&&(m.filter=C.first)}},standalone:!0,features:[A],decls:13,vars:23,consts:[["dt1",""],[3,"header"],[1,"flex","justify-content-between"],["pButton","","icon","pi pi-file-pdf","title","Proforma",1,"p-button-outlined","mr-1",3,"routerLink"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["pButton","","icon","pi pi-plus",1,"p-button-outlined","mr-1",3,"routerLink"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","25rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","10rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],["type","text",3,"field"]],template:function(o,m){if(o&1){let C=z();r(0,"p-card",1),l(1,"translate"),l(2,"uppercase"),r(3,"div",2)(4,"div"),_(5,"button",3),a(),r(6,"div")(7,"button",4),E("click",function(){T(C);let s=N(10);return B(m.clear(s))}),a(),_(8,"button",5),a()(),r(9,"p-table",6,0),E("onLazyLoad",function(s){return T(C),B(m.getDataPaged(s))}),b(11,Le,7,1,"ng-template",7)(12,Ae,3,0,"ng-template",8),a()()}o&2&&(u("header",p(2,19,p(1,17,"pages.products"))),i(5),u("routerLink",L(21,_e)),i(3),u("routerLink",L(22,_e)),i(),u("value",m.stateValues().data)("paginator",!0)("loading",m.stateValues().loading)("rows",m.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",m.tablecon)("lazy",!0)("columns",m.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",m.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",m.stateValues().data&&m.stateValues().data.length>50?"both":"bottom"))},dependencies:[W,K,ce,se,Y,q,re,te,ie,ne,oe,ee,Z,pe,le,G]})}}return t})();export{_t as default};
