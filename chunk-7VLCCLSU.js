import{a as yt}from"./chunk-5YCX34YO.js";import{a as gt}from"./chunk-WJFSRUPL.js";import{a as vt,b as bt,c as Ct}from"./chunk-XGGRWNEE.js";import{b as mt,j as dt}from"./chunk-TVJF7RZC.js";import{b as ft}from"./chunk-ORVEN7RH.js";import{a as ut,b as _t}from"./chunk-DJJK47GW.js";import{a as ht}from"./chunk-3OYWIMEY.js";import{a as lt,b as st}from"./chunk-KXXVTBJT.js";import"./chunk-DXQWHOOQ.js";import{C as ce,G as at,H as rt,I as R,O as pe,Q as ct,R as pt,b as Be,c as Ne,d as Ae,e as He,g as Re,h as Ue,j as Ge,k as Ze,m as $e,n as ze,o as Qe,p as qe,q as Je,s as Ye,t as et,u as tt,v as y,x as nt,y as ot}from"./chunk-WJLTCSDU.js";import{b as ne,c as W,d as B,e as X,k as Ke,m as We,n as ee,o as Xe,p as oe}from"./chunk-KJOYQ7ZF.js";import{c as it,d as ae,f as te,h as re,i as le,k as se}from"./chunk-4YRY4IP2.js";import{g as Oe}from"./chunk-DL3TOWY3.js";import"./chunk-KCMXHSW5.js";import{d as Fe,k as je,m as Ve,p as Me,q as Le,s as Pe,t as Y,u as K}from"./chunk-JAFPLUWG.js";import{Cb as v,Db as d,Eb as z,Fb as Q,Gb as ye,Hb as ie,Ib as xe,Jb as q,Kb as J,Lb as Te,Mb as m,Nb as _,Oa as _e,Sa as o,Ta as u,Tb as Ie,Ub as Se,W as U,Wb as A,Xb as H,Ya as fe,Yb as Ee,_a as he,a as me,b as de,bb as ge,da as C,db as ve,dc as h,ea as L,ec as g,fa as G,fc as we,hb as p,ib as N,jb as l,kb as be,mb as Ce,nb as F,oa as I,ob as w,pa as S,sc as ke,tb as r,ub as a,vb as f,wa as ue,wb as P,xa as Z,xb as O,xc as E,yb as $,yc as De,zb as j}from"./chunk-PQPLRZS3.js";var kt=["*"],Tt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=L({type:t,selectors:[["p-buttonGroup"]],ngContentSelectors:kt,decls:2,vars:0,consts:[["role","group",1,"p-button-group","p-component"]],template:function(i,n){i&1&&(z(),r(0,"span",0),Q(1),a())},encapsulation:2,changeDetection:0})}return t})(),It=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=U({imports:[K]})}return t})();var Mt=["content"],Lt=[[["p-footer"]]],Pt=["p-footer"],Ot=t=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":t}),Bt=(t,s)=>({transform:t,transition:s}),Nt=t=>({value:"visible",params:t}),St=t=>({$implicit:t}),At=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function Ht(t,s){t&1&&$(0)}function Rt(t,s){if(t&1&&(P(0),p(1,Ht,1,0,"ng-container",7),O()),t&2){let e=d(3);o(),l("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",H(2,St,e.confirmation))}}function Ut(t,s){t&1&&$(0)}function Gt(t,s){if(t&1&&(r(0,"div",14),p(1,Ut,1,0,"ng-container",15),a()),t&2){let e=d(4);o(),l("ngTemplateOutlet",e.headerTemplate)}}function Zt(t,s){if(t&1&&(r(0,"span",19),m(1),a()),t&2){let e=d(5);l("id",e.ariaLabelledBy),o(),_(e.option("header"))}}function $t(t,s){if(t&1){let e=j();r(0,"button",20),v("click",function(n){I(e);let c=d(5);return S(c.close(n))})("keydown.enter",function(n){I(e);let c=d(5);return S(c.close(n))}),f(1,"TimesIcon"),a()}if(t&2){let e=d(5);l("ngClass",A(2,At)),N("aria-label",e.closeAriaLabel)}}function zt(t,s){if(t&1&&(r(0,"div",14),p(1,Zt,2,2,"span",16),r(2,"div",17),p(3,$t,2,3,"button",18),a()()),t&2){let e=d(4);o(),l("ngIf",e.option("header")),o(2),l("ngIf",e.closable)}}function Qt(t,s){if(t&1&&f(0,"i",3),t&2){let e=d(4);F(e.option("icon")),l("ngClass","p-confirm-dialog-icon")}}function qt(t,s){}function Jt(t,s){t&1&&p(0,qt,0,0,"ng-template")}function Yt(t,s){if(t&1&&(P(0),p(1,Jt,1,0,null,15),O()),t&2){let e=d(4);o(),l("ngTemplateOutlet",e.iconTemplate)}}function Kt(t,s){if(t&1&&f(0,"span",21),t&2){let e=d(4);l("innerHTML",e.option("message"),_e)}}function Wt(t,s){}function Xt(t,s){t&1&&p(0,Wt,0,0,"ng-template")}function ei(t,s){if(t&1&&(P(0),p(1,Xt,1,0,null,7),O()),t&2){let e=d(4);o(),l("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",H(2,St,e.confirmation))}}function ti(t,s){t&1&&$(0)}function ii(t,s){if(t&1&&(r(0,"div",22),Q(1),p(2,ti,1,0,"ng-container",15),a()),t&2){let e=d(4);o(2),l("ngTemplateOutlet",e.footerTemplate)}}function ni(t,s){if(t&1&&f(0,"i"),t&2){let e=d(7);F(e.option("rejectIcon"))}}function oi(t,s){t&1&&f(0,"TimesIcon",28),t&2&&l("styleClass","p-button-icon-left")}function ai(t,s){if(t&1&&(P(0),p(1,ni,1,2,"i",26)(2,oi,1,1,"TimesIcon",27),O()),t&2){let e=d(6);o(),l("ngIf",e.option("rejectIcon")),o(),l("ngIf",!e.option("rejectIcon"))}}function ri(t,s){}function li(t,s){t&1&&p(0,ri,0,0,"ng-template")}function si(t,s){if(t&1&&(r(0,"span",29),p(1,li,1,0,null,15),a()),t&2){let e=d(6);o(),l("ngTemplateOutlet",e.rejectIconTemplate)}}function ci(t,s){if(t&1){let e=j();r(0,"button",24),v("click",function(){I(e);let n=d(5);return S(n.reject())}),p(1,ai,3,2,"ng-container",11)(2,si,2,1,"span",25),a()}if(t&2){let e=d(5);F(e.option("rejectButtonStyleClass")),l("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),N("aria-label",e.rejectAriaLabel),o(),l("ngIf",!e.rejectIconTemplate),o(),l("ngIf",e.rejectIconTemplate)}}function pi(t,s){if(t&1&&f(0,"i"),t&2){let e=d(7);F(e.option("acceptIcon"))}}function mi(t,s){t&1&&f(0,"CheckIcon",28),t&2&&l("styleClass","p-button-icon-left")}function di(t,s){if(t&1&&(P(0),p(1,pi,1,2,"i",26)(2,mi,1,1,"CheckIcon",27),O()),t&2){let e=d(6);o(),l("ngIf",e.option("acceptIcon")),o(),l("ngIf",!e.option("acceptIcon"))}}function ui(t,s){}function _i(t,s){t&1&&p(0,ui,0,0,"ng-template")}function fi(t,s){if(t&1&&(r(0,"span",29),p(1,_i,1,0,null,15),a()),t&2){let e=d(6);o(),l("ngTemplateOutlet",e.acceptIconTemplate)}}function hi(t,s){if(t&1){let e=j();r(0,"button",24),v("click",function(){I(e);let n=d(5);return S(n.accept())}),p(1,di,3,2,"ng-container",11)(2,fi,2,1,"span",25),a()}if(t&2){let e=d(5);F(e.option("acceptButtonStyleClass")),l("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),N("aria-label",e.acceptAriaLabel),o(),l("ngIf",!e.acceptIconTemplate),o(),l("ngIf",e.acceptIconTemplate)}}function gi(t,s){if(t&1&&(r(0,"div",22),p(1,ci,3,7,"button",23)(2,hi,3,7,"button",23),a()),t&2){let e=d(4);o(),l("ngIf",e.option("rejectVisible")),o(),l("ngIf",e.option("acceptVisible"))}}function vi(t,s){if(t&1&&(p(0,Gt,2,1,"div",8)(1,zt,4,2,"div",8),r(2,"div",9,1),p(4,Qt,1,3,"i",10)(5,Yt,2,1,"ng-container",11)(6,Kt,1,1,"span",12)(7,ei,2,4,"ng-container",11),a(),p(8,ii,3,1,"div",13)(9,gi,3,2,"div",13)),t&2){let e=d(3);l("ngIf",e.headerTemplate),o(),l("ngIf",!e.headerTemplate),o(3),l("ngIf",!e.iconTemplate&&e.option("icon")),o(),l("ngIf",e.iconTemplate),o(),l("ngIf",!e.messageTemplate),o(),l("ngIf",e.messageTemplate),o(),l("ngIf",e.footer||e.footerTemplate),o(),l("ngIf",!e.footer&&!e.footerTemplate)}}function bi(t,s){if(t&1){let e=j();r(0,"div",5),v("@animation.start",function(n){I(e);let c=d(2);return S(c.onAnimationStart(n))})("@animation.done",function(n){I(e);let c=d(2);return S(c.onAnimationEnd(n))}),p(1,Rt,2,4,"ng-container",6)(2,vi,10,8,"ng-template",null,0,we),a()}if(t&2){let e=Te(3),i=d(2);F(i.styleClass),l("ngClass",H(9,Ot,i.rtl))("ngStyle",i.style)("@animation",H(14,Nt,Ee(11,Bt,i.transformOptions,i.transitionOptions))),N("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),o(),l("ngIf",i.headlessTemplate)("ngIfElse",e)}}function Ci(t,s){if(t&1&&(r(0,"div",3),p(1,bi,4,16,"div",4),a()),t&2){let e=d();F(e.maskStyleClass),l("ngClass",e.getMaskClass()),o(),l("ngIf",e.visible)}}var yi=le([te({transform:"{{transform}}",opacity:0}),ae("{{transition}}",te({transform:"none",opacity:1}))]),xi=le([ae("{{transition}}",te({transform:"{{transform}}",opacity:0}))]),Et=(()=>{class t{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new Z;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=ne();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,i,n,c,b,k,D){this.el=e,this.renderer=i,this.confirmationService=n,this.zone=c,this.cd=b,this.config=k,this.document=D,this.subscription=this.confirmationService.requireConfirmation$.subscribe(x=>{if(!x){this.hide();return}x.key===this.key&&(this.confirmation=x,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new Z,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new Z,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?ne()+"_header":null}option(e){let i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=y.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let i=this.getElementToFocus();i&&i.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return y.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return y.findSingle(this.container,".p-confirm-dialog-reject");case"close":return y.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return y.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):y.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&y.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&y.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",y.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(B.CANCEL),this.hide(B.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(W.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(n=>n===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{if(i.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===W.get(this.container)&&this.visible&&this.close(i),i.which===9&&this.focusTrap){i.preventDefault();let n=y.getFocusableElements(this.container);if(n&&n.length>0)if(!n[0].ownerDocument.activeElement)n[0].focus();else{let c=n.indexOf(n[0].ownerDocument.activeElement);i.shiftKey?c==-1||c===0?n[n.length-1].focus():n[c-1].focus():c==-1||c===n.length-1?n[0].focus():n[c+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&W.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(B.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(B.REJECT),this.hide(B.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(oe.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(oe.REJECT)}static \u0275fac=function(i){return new(i||t)(u(ue),u(fe),u(X),u(he),u(ke),u(Ke),u(Fe))};static \u0275cmp=L({type:t,selectors:[["p-confirmDialog"]],contentQueries:function(i,n,c){if(i&1&&(ie(c,We,5),ie(c,ee,4)),i&2){let b;q(b=J())&&(n.footer=b.first),q(b=J())&&(n.templates=b)}},viewQuery:function(i,n){if(i&1&&xe(Mt,5),i&2){let c;q(c=J())&&(n.contentViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[C.HasDecoratorInputTransform,"acceptVisible","acceptVisible",E],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[C.HasDecoratorInputTransform,"rejectVisible","rejectVisible",E],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[C.HasDecoratorInputTransform,"closeOnEscape","closeOnEscape",E],dismissableMask:[C.HasDecoratorInputTransform,"dismissableMask","dismissableMask",E],blockScroll:[C.HasDecoratorInputTransform,"blockScroll","blockScroll",E],rtl:[C.HasDecoratorInputTransform,"rtl","rtl",E],closable:[C.HasDecoratorInputTransform,"closable","closable",E],appendTo:"appendTo",key:"key",autoZIndex:[C.HasDecoratorInputTransform,"autoZIndex","autoZIndex",E],baseZIndex:[C.HasDecoratorInputTransform,"baseZIndex","baseZIndex",De],transitionOptions:"transitionOptions",focusTrap:[C.HasDecoratorInputTransform,"focusTrap","focusTrap",E],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[ve],ngContentSelectors:Pt,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(i,n){i&1&&(z(Lt),p(0,Ci,2,4,"div",2)),i&2&&l("ngIf",n.maskVisible)},dependencies:()=>[je,Ve,Le,Me,at,nt,ce,pe],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[it("animation",[re("void => visible",[se(yi)]),re("visible => void",[se(xi)])])]},changeDetection:0})}return t})(),wt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=G({type:t});static \u0275inj=U({imports:[K,R,ot,ce,pe,R,Xe]})}return t})();var Ii=()=>({width:"100%"}),Si=()=>({width:"100%"});function Ei(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Fecha de Compra."),a())}function wi(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Precio Total."),a())}function ki(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Proveedor Seleccionado."),a())}function Di(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Producto seleccionado."),a())}function Fi(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Fecha de Compra."),a())}function ji(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Precio de Compra."),a())}function Vi(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Precio de Venta."),a())}function Mi(t,s){t&1&&(r(0,"small",8),m(1,"Error en el Precio de Venta."),a())}function Li(t,s){t&1&&(r(0,"tr")(1,"th",29),m(2,"No"),a(),r(3,"th",30),m(4,"Producto"),a(),r(5,"th",31),m(6,"Cantidad"),a(),r(7,"th",31),m(8,"Precio Unitario"),a(),r(9,"th",31),m(10,"Precio Venta"),a(),r(11,"th",31),m(12,"Precio Total"),a(),r(13,"th",32),m(14,"Option"),a()())}function Pi(t,s){if(t&1){let e=j();r(0,"tr")(1,"td",33),m(2),a(),r(3,"td"),m(4),a(),r(5,"td",33),m(6),a(),r(7,"td",33),m(8),a(),r(9,"td",33),m(10),a(),r(11,"td",33),m(12),a(),r(13,"td",34)(14,"p-buttonGroup")(15,"p-button",35),h(16,"translate"),v("click",function(){let n=I(e).$implicit,c=d();return S(c.updateDetail(n))}),a(),r(17,"p-button",22),h(18,"translate"),v("click",function(){let n=I(e).$implicit,c=d();return S(c.deleteDetail(n))}),a()()()()}if(t&2){let e=s.$implicit,i=s.rowIndex,n=d();o(2),_(i+1),o(),be("background-color",n.getColorBackground(e.color))("color",n.getColor(e.color)),o(),_(e.name_product),o(2),_(e.cantidad),o(2),_(e.precioUnitario),o(2),_(e.precioVenta),o(2),_(e.cantidad*e.precioUnitario),o(3),l("title",g(16,12,"label.edit_detall")),o(2),l("title",g(18,14,"label.delet_detall"))}}var Pn=(()=>{class t{constructor(e,i,n,c,b,k,D,x,V,M){this.confirmationServ=e,this.comprasServ=i,this.productosServ=n,this.translate=c,this.proveedoresServ=b,this.translateLanService=k,this.fb=D,this.router=x,this.datePipe=V,this.toastServ=M,this.detailView=[],this.stateInputs=ge(!0),this.currentDate=this.datePipe.transform(new Date,"dd/MM/yyyy"),this.total=0,this.totalCompra=0,this.translateLanService.changeLanguage$.subscribe(T=>this.translate.use(T)),this.purchaseForm=this.fb.group({fechaCompra:[this.currentDate],total:[this.total],id_proveedor:["",[Ue.required]],cantidad:[""],precioUnitario:[""],precioVenta:[""],id_producto:[""]}),console.log(this.currentDate),this.proveedoresServ.postProveedoresSearch(null).subscribe({next:T=>this.proveedores=T,error:T=>console.error("Error al obtener proveedores:",T)})}addDetail(){if(!this.purchaseForm.value.id_producto){alert("Debe de seleccionar producto para agregarlo. Por favor seleccione uno.");return}let e=Number(this.purchaseForm.value.id_producto.id);if(this.detailView.some(n=>n.id_producto===e||this.purchaseForm.value.id_producto=="")){alert("Este producto ya ha sido agregado. Por favor selecciona otro.");return}this.detailView.push({cantidad:Number(this.purchaseForm.value.cantidad),precioUnitario:Number(this.purchaseForm.value.precioUnitario),precioVenta:Number(this.purchaseForm.value.precioVenta),id_producto:Number(this.purchaseForm.value.id_producto.id),name_product:this.purchaseForm.value.id_producto.nombre,color:this.purchaseForm.value.id_producto.color}),this.funcTotal(),this.cleanForms()}funcTotal(){this.total=this.detailView.reduce((e,i)=>{let n=Number(i.cantidad)||0,c=Number(i.precioUnitario)||0;return e+n*c},0)}cleanForms(){this.purchaseForm.patchValue({total:this.total,id_producto:"",cantidad:"",precioUnitario:"",precioVenta:""},{emitEvent:!1}),this.totalCompra=0}updateDetail(e){this.purchaseForm.patchValue({id_producto:"",cantidad:"",precioUnitario:""},{emitEvent:!0})}changeProvider(){this.productosServ.postProductscProveedor(this.purchaseForm.value.id_proveedor.id).subscribe(e=>{this.productos=e.map(i=>de(me({},i),{display:`${i.nombre} (${i.color})  , ${i.color} - ${i.unidadMedida}`})),console.log(e),this.stateInputs.set(!1)})}changeTotalCompra(){console.log("this.totalCompra: "),this.totalCompra=this.purchaseForm.value.cantidad*this.purchaseForm.value.precioUnitario}submitPurchase(){if(this.purchaseForm.valid){let e=this.asignarValores();console.log(e),e.detalle=JSON.stringify(e.detalle),this.confirm(e)}else console.error("Formulario inv\xE1lido")}asignarValores(){let e=this.purchaseForm.value;return console.log(String(this.datePipe.transform(this.getLastDateOfYear(new Date().getFullYear()),"yyyy-MM-dd"))),this.comprasRegister={fechaCompra:String(this.datePipe.transform(new Date,"yyyy-MM-dd")),total:this.total,id_proveedor:e.id_proveedor.id,detalle:this.detailView.map(i=>(console.log(i),{cantidad:i.cantidad,precioUnitario:i.precioUnitario,precioVenta:i.precioVenta,id_producto:i.id_producto})),fechaVencimiento:String(this.datePipe.transform(this.getLastDateOfYear(new Date().getFullYear()),"yyyy-MM-dd"))},console.log(`console.log(this.comprasRegister);
 `,this.comprasRegister),this.comprasRegister}getLastDateOfYear(e){return new Date(e,11,31)}notifySuccess(){this.toastServ.showSuccess("Operation Successful","The action was completed successfully.")}notifyError(){this.toastServ.showError("Operation Failed","An error occurred while processing the action.")}confirm(e){this.confirmationServ.confirm({message:"Are you sure you want to perform this action?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.comprasServ.postCompras(e).subscribe({next:i=>{console.log("Action confirmed!"),i.CodigoEstado==="201"?(this.notifySuccess(),console.log("hola"),this.router.navigate(["/transactions/compras"])):console.log(i)},error:i=>{console.error("Error al registrar la compra:",i)}})},reject:()=>{console.log("Action rejected!")}})}getColorBackground(e){switch(e){case"Natural":return"#cccccc";case"Champan":return"#FBE7C6";case"Negro":return"#000000";case"Madera":return"#8B4513";default:return"#FFFFFF"}}getColor(e){switch(e){case"Natural":return"#000000";case"Champan":return"#000000";case"Negro":return"#FFFFFF";case"Madera":return"#FFFFFF";default:return"#FFFFFF"}}deleteDetail(e){this.detailView=this.detailView.filter(i=>i!==e),this.funcTotal(),this.cleanForms()}updateData(){console.log("updateData() { } ")}static{this.\u0275fac=function(i){return new(i||t)(u(X),u(Ct),u(gt),u(Be),u(ht),u(He),u(Je),u(Oe),u(Y),u(yt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-purchase-create"]],standalone:!0,features:[Ie([Y]),Se],decls:77,vars:65,consts:[[3,"formGroup"],[3,"header"],[1,"flex","flex-column","md:flex-row","sm:flex-row","w-full"],[1,"align-items-left","justify-content-top","w-full"],[1,"flex","flex-column","md:flex-row","gap-2","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full"],[1,"w-25rem"],["dateFormat","dd/mm/yy","type","text","styleClass","w-full",1,"w-full",3,"formControlName"],[2,"color","red"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","px-2"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["optionLabel","empresa","styleClass","w-full","placeholder","Select un proveedor",1,"w-full","lg:w-full",3,"onChange","formControlName","options"],["optionLabel","display","placeholder","Seleccionar Producto","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","flex-column","md:flex-row","flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","px-2","lg:w-full"],["pInputText","","type","number",1,"w-full",3,"change","formControlName"],["pInputText","","type","number",1,"w-full",3,"formControlName"],["pInputText","","type","number","disabled","",1,"w-full",3,"value"],[1,"justify-content-center","align-items-center"],[1,""],[1,"flex","justify-content-between"],["icon","pi pi-plus","severity","primary",3,"click","title"],["icon","pi pi-trash","severity","danger",3,"click","title"],[3,"value","tableStyle","styleClass"],["pTemplate","header"],["pTemplate","body"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","secondary","styleClass","w-full",1,"w-full"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"],[2,"width","6%","text-align","right"],[2,"width","40%"],[2,"width","12%","text-align","right"],[2,"width","6%"],[2,"text-align","right"],[1,"flex","flex-wrap","justify-content-left"],["icon","pi pi-pencil","severity","warning",3,"click","title"]],template:function(i,n){if(i&1&&(f(0,"p-toast")(1,"p-confirmDialog"),r(2,"form",0)(3,"p-card",1),h(4,"translate"),h(5,"uppercase"),r(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),m(11),h(12,"translate"),a(),f(13,"p-calendar",7),p(14,Ei,2,0,"small",8),a(),r(15,"div",9)(16,"label",6),m(17),h(18,"translate"),a(),f(19,"input",10),p(20,wi,2,0,"small",8),a(),r(21,"div",9)(22,"label",6),m(23),h(24,"translate"),a(),r(25,"p-dropdown",11),v("onChange",function(){return n.changeProvider()}),a(),p(26,ki,2,0,"small",8),a(),r(27,"div",5)(28,"label",6),m(29),h(30,"translate"),a(),f(31,"p-dropdown",12),p(32,Di,2,0,"small",8),a()(),f(33,"hr"),r(34,"div",13)(35,"div",14)(36,"label",6),m(37),h(38,"translate"),a(),r(39,"input",15),v("change",function(){return n.changeTotalCompra()}),a(),p(40,Fi,2,0,"small",8),a(),r(41,"div",14)(42,"label",6),m(43),h(44,"translate"),a(),r(45,"input",15),v("change",function(){return n.changeTotalCompra()}),a(),p(46,ji,2,0,"small",8),a(),r(47,"div",14)(48,"label",6),m(49),h(50,"translate"),a(),f(51,"input",16),p(52,Vi,2,0,"small",8),a(),r(53,"div",14)(54,"label",6),m(55),h(56,"translate"),a(),f(57,"input",17),p(58,Mi,2,0,"small",8),a(),r(59,"div",18)(60,"label",19),m(61),h(62,"translate"),a(),r(63,"div",20)(64,"p-buttonGroup")(65,"p-button",21),h(66,"translate"),v("click",function(){return n.addDetail()}),a(),r(67,"p-button",22),h(68,"translate"),v("click",function(){return n.updateData()}),a()()()()(),r(69,"h4"),m(70,"Detalles"),a(),r(71,"p-table",23),p(72,Li,15,0,"ng-template",24)(73,Pi,19,16,"ng-template",25),a(),r(74,"div",26),f(75,"p-button",27),r(76,"p-button",28),v("click",function(){return n.submitPurchase()}),a()()()()()()),i&2){let c,b,k,D,x,V,M,T;o(2),l("formGroup",n.purchaseForm),o(),l("header",g(5,39,g(4,37,"labels.register_purchases"))),o(8),_(g(12,41,"purcharses.fechaCompra")),o(2),l("formControlName","fechaCompra"),o(),w(14,(c=n.purchaseForm.get("fechaCompra"))!=null&&c.invalid&&((c=n.purchaseForm.get("fechaCompra"))!=null&&c.touched)?14:-1),o(3),_(g(18,43,"purcharses.precio_total")),o(2),l("formControlName","total"),o(),w(20,(b=n.purchaseForm.get("total"))!=null&&b.invalid&&((b=n.purchaseForm.get("total"))!=null&&b.touched)?20:-1),o(3),_(g(24,45,"purcharses.proveedor")),o(2),Ce(A(63,Ii)),l("formControlName","id_proveedor")("options",n.proveedores),o(),w(26,(k=n.purchaseForm.get("id_proveedor"))!=null&&k.invalid&&((k=n.purchaseForm.get("id_proveedor"))!=null&&k.touched)?26:-1),o(3),_(g(30,47,"purcharses.producto")),o(2),l("formControlName","id_producto")("options",n.productos),o(),w(32,(D=n.purchaseForm.get("id_producto"))!=null&&D.invalid&&((D=n.purchaseForm.get("id_producto"))!=null&&D.touched)?32:-1),o(5),_(g(38,49,"purcharses.cantidad")),o(2),l("formControlName","cantidad"),o(),w(40,(x=n.purchaseForm.get("cantidad"))!=null&&x.invalid&&((x=n.purchaseForm.get("cantidad"))!=null&&x.touched)?40:-1),o(3),_(g(44,51,"purcharses.precioCompra")),o(2),l("formControlName","precioUnitario"),o(),w(46,(V=n.purchaseForm.get("precioUnitario"))!=null&&V.invalid&&((V=n.purchaseForm.get("precioUnitario"))!=null&&V.touched)?46:-1),o(3),_(g(50,53,"purcharses.precioVenta")),o(2),l("formControlName","precioVenta"),o(),w(52,(M=n.purchaseForm.get("precioVenta"))!=null&&M.invalid&&((M=n.purchaseForm.get("precioVenta"))!=null&&M.touched)?52:-1),o(3),_(g(56,55,"purcharses.totalCompra")),o(2),ye("value",n.totalCompra),o(),w(58,(T=n.purchaseForm.get("totaCompra"))!=null&&T.invalid&&((T=n.purchaseForm.get("totaCompra"))!=null&&T.touched)?58:-1),o(3),_(g(62,57,"purcharses.options")),o(4),l("title",g(66,59,"label.add_detall")),o(2),l("title",g(68,61,"label.delet_detall")),o(4),l("value",n.detailView)("tableStyle",A(64,Si))("styleClass","p-datatable-sm"),o(5),l("disabled",n.purchaseForm.invalid&&n.detailView.length>0)}},dependencies:[Ye,$e,Re,ze,Ge,Ze,Qe,qe,_t,ut,ee,Ae,Ne,tt,et,pt,ct,ft,R,rt,Pe,st,lt,It,Tt,dt,mt,bt,vt,wt,Et]})}}return t})();export{Pn as default};
