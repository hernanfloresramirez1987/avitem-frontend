import{a as be}from"./chunk-YDOT7O4I.js";import{a as me}from"./chunk-4O3W2NBE.js";import{a as _e}from"./chunk-HES5XV4O.js";import{a as fe}from"./chunk-GLTYJCAK.js";import{j as le,k as de,l as pe,q as se,r as ce,s as ue,t as ve,u as ge,v as N}from"./chunk-O3DLFHTK.js";import"./chunk-44UL6WXM.js";import{Ia as re,Ja as oe,Oa as ne,Pa as ae,Z as $,ka as z,la as b,na as J,oa as K,qa as Q,sa as W,ta as X,va as Y,wa as Z,xa as ee,ya as te,za as ie}from"./chunk-L6F5SHP5.js";import{k as G,l as T,r as M,w as U,x as H}from"./chunk-A5I2MG6G.js";import"./chunk-F2X3VGZZ.js";import{$a as c,Ca as e,Gb as p,Ha as u,Hb as m,Ib as C,Na as R,Nb as O,Ob as q,P as y,Ta as f,V as E,Xb as a,Yb as l,aa as L,ba as k,fb as _,kb as n,lb as i,mb as v,qb as A,ub as j,vb as F}from"./chunk-4PTIY3UM.js";var B=class t{#e=N.URL_API;http=E(M);getAllCategolias=()=>this.http.get(`${this.#e}categorias`);static \u0275fac=function(s){return new(s||t)};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var D=class t{#e=N.URL_API;http=E(M);getAllColores=()=>this.http.get(`${this.#e}colores`);static \u0275fac=function(s){return new(s||t)};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var xe=()=>["/labels/products"];function Pe(t,r){t&1&&(n(0,"small",9),p(1,"Error en el Nombre."),i())}function Ie(t,r){t&1&&(n(0,"small",9),p(1,"Error en el Descripcion."),i())}function we(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.fechaIngreso"),"."))}function ye(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.unidadMedida"),"."))}function Ee(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.id_color"),"."))}function Fe(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.codigoProducto"),"."))}function Te(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.id_proveedor"),"."))}function Me(t,r){t&1&&(n(0,"span",9),p(1),a(2,"translate"),i()),t&2&&(e(),C("Error en el ",l(2,1,"labels.id_categoria"),"."))}function Ne(t,r){if(t&1){let s=A();n(0,"div",24),v(1,"p-button",25),n(2,"p-button",26),j("click",function(){L(s);let g=F();return k(g.cleanAll())}),i(),n(3,"p-button",27),j("click",function(){L(s);let g=F();return k(g.saveProcto())}),i()()}if(t&2){let s=F();e(),c("routerLink",q(2,xe)),e(2),c("disabled",!s.registroForm.valid)}}var V=class t{constructor(r,s,o,g,h,S,x,P,I){this.categoriasServ=r;this.coloresServi=s;this.proveedoresServ=o;this.productosServ=g;this.translate=h;this.translateLanService=S;this.fb=x;this.router=P;this.datePipe=I;this.translateLanService.changeLanguage$.subscribe(d=>this.translate.use(d)),this.currentDate=this.datePipe.transform(new Date,"dd/MM/yyyy")||"",this.registroForm=this.fb.group({nombre:["",[b.required]],descripcion:[""],fechaIngreso:[this.currentDate,b.required],unidadMedida:["",b.required],codigoProducto:["",b.required],id_color:["",b.required],id_proveedor:["",b.required],id_categoria:["",b.required]}),this.productosServ.getUnidsMedida().subscribe(d=>this.unidades=d),this.proveedoresServ.postProveedoresSearch(this.proveedorDto).subscribe({next:d=>this.proveedores=d,error:d=>console.error("Error al obtener proveedores:",d)}),this.categoriasServ.getAllCategolias().subscribe({next:d=>this.categorias=d,error:d=>console.error("Error al obtener categorias:",d)}),this.coloresServi.getAllColores().subscribe({next:d=>{this.colores=d,console.log(this.colores)},error:d=>console.error("Error al obtener proveedores:",d)})}registroForm;categorias;colores;unidades;proveedores;proveedorDto;productoRegister;currentDate;getColorBackground(r){switch(r){case"Nat":return"gray";case"Cha":return"#FBE7C6";case"Neg":return"#000000";case"Mad":return"#8B4513";default:return"#FFFFFF"}}saveProcto(){console.log(this.asignarValores()),this.productosServ.postSaveProduct(this.asignarValores()).subscribe(r=>{r.CodigoEstado==="201"&&this.router.navigate(["inventory/products"])})}asignarValores(){let r=this.registroForm.value,o=new Date(r.fechaIngreso).toISOString().split("T")[0];return this.productoRegister={p_nombre:r.nombre,p_descripcion:r.descripcion,p_cantidadStock:0,p_fechaIngreso:o,p_unidadMedida:r.unidadMedida.medida,p_codigoProducto:r.codigoProducto,p_idProveedor:Number(r.id_proveedor.id),p_idCategoria:Number(r.id_color.id),p_idColor:Number(r.id_categoria.id),p_state:1}}cleanAll(){this.registroForm.patchValue({total:"",nombre:"",descripcion:"",fechaIngreso:new Date,unidadMedida:"",codigoProducto:"",id_color:"",id_proveedor:"",id_categoria:""},{emitEvent:!1})}static \u0275fac=function(s){return new(s||t)(u(B),u(D),u(_e),u(be),u(ne),u(ue),u(Y),u(U),u(T))};static \u0275cmp=R({type:t,selectors:[["app-product-create"]],features:[O([T])],decls:70,vars:64,consts:[[3,"formGroup"],[3,"header"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-12","p-2","w-full"],[1,"row-auto"],[1,"flex","md:flex-row","flex-row","w-full","p-2"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","p-2","lg:w-full","md:w-full","w-full"],["for","nombre"],["pInputText","","type","text",1,"w-full",3,"formControlName","fluid"],[2,"color","red"],["for","nit"],["for","fechaIngreso",1,"w-15rem"],["styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],["for","unidadMedida",1,"w-15rem"],["optionLabel","medida","styleClass","w-full","placeholder","Seleccionar una Unidad",1,"w-full","lg:w-full",3,"options","formControlName"],["for","color",1,"w-15rem"],["optionLabel","color","styleClass","w-full","placeholder","Seleccionar un Color",1,"w-full","lg:w-full",3,"options","formControlName"],["for","codigoProducto",1,"w-15rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["for","proveedor",1,"w-15rem"],["optionLabel","empresa","styleClass","w-full","placeholder","Select un Proveedor",1,"w-full","lg:w-full",3,"formControlName","options","editable"],["for","LastName",1,"w-15rem"],["optionLabel","nombre","styleClass","w-full","placeholder","Select una Categoria",1,"w-full","lg:w-full",3,"formControlName","options","editable"],["pTemplate","footer"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","danger","styleClass","w-full",1,"w-full",3,"routerLink"],["label","Limpiar","severity","secondary","styleClass","w-full",1,"w-full",3,"click"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"]],template:function(s,o){if(s&1&&(n(0,"form",0)(1,"p-card",1),a(2,"translate"),a(3,"uppercase"),n(4,"div",2)(5,"div",3)(6,"h6"),p(7),a(8,"translate"),a(9,"uppercase"),i(),n(10,"div",4)(11,"div",5)(12,"div",6)(13,"label",7),p(14),a(15,"translate"),i(),v(16,"input",8),f(17,Pe,2,0,"small",9),i(),n(18,"div",6)(19,"label",10),p(20),a(21,"translate"),i(),v(22,"input",8),f(23,Ie,2,0,"small",9),i()(),n(24,"div",5)(25,"div",6)(26,"label",11),p(27),a(28,"translate"),i(),v(29,"p-datepicker",12),f(30,we,3,3,"span",9),i(),n(31,"div",6)(32,"label",13),p(33),a(34,"translate"),i(),v(35,"p-select",14),f(36,ye,3,3,"span",9),i()()()(),n(37,"div",3)(38,"h6"),p(39),a(40,"translate"),a(41,"uppercase"),i(),n(42,"div",4)(43,"div",5)(44,"div",6)(45,"label",15),p(46),a(47,"translate"),i(),v(48,"p-select",16),f(49,Ee,3,3,"span",9),i(),n(50,"div",6)(51,"label",17),p(52),a(53,"translate"),i(),v(54,"input",18),f(55,Fe,3,3,"span",9),i()(),n(56,"div",5)(57,"div",6)(58,"label",19),p(59),a(60,"translate"),i(),v(61,"p-select",20),f(62,Te,3,3,"span",9),i(),n(63,"div",6)(64,"label",21),p(65),a(66,"translate"),i(),v(67,"p-select",22),f(68,Me,3,3,"span",9),i()()()()(),f(69,Ne,4,3,"ng-template",23),i()()),s&2){let g,h,S,x,P,I,d,w;c("formGroup",o.registroForm),e(),c("header",l(3,38,l(2,36,"pages.register_product"))),e(6),m(l(9,42,l(8,40,"labels.detail_people"))),e(7),m(l(15,44,"labels.nombre")),e(2),c("formControlName","nombre")("fluid",!0),e(),_((g=o.registroForm.get("nombre"))!=null&&g.invalid&&((g=o.registroForm.get("nombre"))!=null&&g.touched)?17:-1),e(3),m(l(21,46,"labels.descripcion")),e(2),c("formControlName","descripcion")("fluid",!0),e(),_((h=o.registroForm.get("descripcion"))!=null&&h.invalid&&((h=o.registroForm.get("descripcion"))!=null&&h.touched)?23:-1),e(4),m(l(28,48,"labels.fechaIngreso")),e(2),c("formControlName","fechaIngreso"),e(),_((S=o.registroForm.get("fechaIngreso"))!=null&&S.invalid&&((S=o.registroForm.get("fechaIngreso"))!=null&&S.touched)?30:-1),e(3),m(l(34,50,"labels.unidadMedida")),e(2),c("options",o.unidades)("formControlName","unidadMedida"),e(),_((x=o.registroForm.get("unidadMedida"))!=null&&x.invalid&&((x=o.registroForm.get("unidadMedida"))!=null&&x.touched)?36:-1),e(3),m(l(41,54,l(40,52,"labels.detail_people"))),e(7),m(l(47,56,"labels.color")),e(2),c("options",o.colores)("formControlName","id_color"),e(),_((P=o.registroForm.get("id_color"))!=null&&P.invalid&&((P=o.registroForm.get("id_color"))!=null&&P.touched)?49:-1),e(3),m(l(53,58,"labels.codigoProducto")),e(2),c("formControlName","codigoProducto"),e(),_((I=o.registroForm.get("codigoProducto"))!=null&&I.invalid&&((I=o.registroForm.get("codigoProducto"))!=null&&I.touched)?55:-1),e(4),m(l(60,60,"labels.id_proveedor")),e(2),c("formControlName","id_proveedor")("options",o.proveedores)("editable",!0),e(),_((d=o.registroForm.get("id_proveedor"))!=null&&d.invalid&&((d=o.registroForm.get("id_proveedor"))!=null&&d.touched)?62:-1),e(3),m(l(66,62,"labels.id_categoria")),e(2),c("formControlName","id_categoria")("options",o.categorias)("editable",!0),e(),_((w=o.registroForm.get("id_categoria"))!=null&&w.invalid&&((w=o.registroForm.get("id_categoria"))!=null&&w.touched)?68:-1)}},dependencies:[ge,ve,$,ee,Q,z,J,K,W,X,ie,te,ce,se,oe,re,pe,de,le,fe,ae,G,me,Z,H],styles:[".color-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 10px;color:#fff;border-radius:4px}"]})};export{V as default};
