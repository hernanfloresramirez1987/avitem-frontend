import{a as be}from"./chunk-VE3YB3QC.js";import{b as we}from"./chunk-GV5YMGWN.js";import{a as xe}from"./chunk-KZPYSA73.js";import{a as ge}from"./chunk-MNYFTS7H.js";import{b as ce}from"./chunk-IZGIIBK5.js";import{a as ue}from"./chunk-GKRCAYHA.js";import{a as ve,b as _e}from"./chunk-3A2ES3G4.js";import{a as me,b as se}from"./chunk-6JGNIX7Q.js";import{j as oe,k as ae,l as pe,q as de,r as fe,s as Ce}from"./chunk-57TFHGI3.js";import"./chunk-5ETL6J2F.js";import{a as ne,b as re}from"./chunk-WFOMRWAE.js";import{Ha as Z,Ia as ee,Ja as te,Oa as ie,Pa as le,Z as A,ka as U,la as C,na as $,oa as W,qa as z,sa as H,ta as J,va as K,xa as Q,ya as X,za as Y}from"./chunk-TBXDAASS.js";import{k as O,x as P}from"./chunk-SWNQVGCQ.js";import"./chunk-F2X3VGZZ.js";import{$a as s,A as M,Ca as e,Gb as p,Ha as x,Hb as c,Ib as g,Na as V,Ob as L,Ta as f,Xb as o,Yb as a,aa as T,ba as N,cb as R,fb as _,gb as j,ib as D,jb as q,kb as r,lb as t,mb as d,qb as G,ub as E,vb as S}from"./chunk-4PTIY3UM.js";var Ee=()=>({width:"100%"});function Se(l,i){l&1&&(r(0,"small",8),p(1,"Error en el CI."),t())}function ye(l,i){l&1&&(r(0,"small",8),p(1,"Error en el CI."),t())}function Ie(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.ciExpedit"),"."))}function he(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.name"),"."))}function Fe(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.app"),"."))}function Be(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.apm"),"."))}function Te(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.direccion"),"."))}function Ne(l,i){if(l&1&&(d(0,"p-radioButton",30),r(1,"label",31),p(2),t()),l&2){let m=i.$implicit;s("inputId",m.key)("value",m)("formControlName","sexo"),e(),s("for",m.key),e(),c(m.name)}}function ke(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.fnaci"),"."))}function Me(l,i){l&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),l&2&&(e(),g("Error en el ",a(2,1,"labels.email"),"."))}function Ve(l,i){if(l&1){let m=G();r(0,"div",32)(1,"p-button",33),o(2,"translate"),E("click",function(){T(m);let u=S();return N(u.cancel())}),t(),r(3,"p-button",34),o(4,"translate"),E("click",function(){T(m);let u=S();return N(u.cleanAll())}),t(),r(5,"p-button",35),o(6,"translate"),E("click",function(){T(m);let u=S();return N(u.save())}),t()()}if(l&2){let m=S();e(),s("label",a(2,4,"labels.cancel")),e(2),s("label",a(4,6,"labels.clean")),e(2),s("label",a(6,8,"labels.save"))("disabled",!m.registroForm.valid)}}var k=class l{constructor(i,m,n,u,b,w){this.clientServ=i;this.usersServ=m;this.translate=n;this.translateLanService=u;this.fb=b;this.router=w;this.translateLanService.changeLanguage$.subscribe(v=>this.translate.use(v)),this.usersServ.getExpedidoOptions().subscribe(v=>this.expedidoOptions=v),this.usersServ.getSexo().subscribe(v=>this.sexo=v),this.registroForm=this.fb.group({ci:["",[C.required,C.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[C.required]],ciComplement:[""],nombre:["",C.required],app:["",C.required],apm:[""],sexo:["",C.required],fnaci:["",C.required],direccion:["",C.required],telefono:["",[]],email:["",[C.required,C.email]],nit:[""]})}registroForm;expedidoOptions;sexo;checkComplementCI=!0;clienteRegister;ngOnInit(){this.registroForm.valueChanges.pipe(M(5e3)).subscribe(i=>{console.log("Errores:",i.errors);for(let m in this.registroForm.controls)console.log(`${m}:`,this.registroForm.get(m)?.errors)})}save=()=>this.saveCliente();saveCliente(){console.log(this.asignarValores()),this.clientServ.postSaveCliente(this.asignarValores()).subscribe(i=>{console.log(i),i.CodigoEstado==="201"&&this.router.navigate(["users/clientes"])})}asignarValores(){let i=this.registroForm.value,n=new Date(i.fnaci).toISOString().split("T")[0];return this.clienteRegister={p_ci:i.ci,p_ciExpedit:i.ciExpedit.code,p_ciComplement:i.ciComplement,p_nombre:i.nombre,p_app:i.app,p_apm:i.apm,p_sexo:i.sexo.key,p_fnaci:n,p_direccion:i.direccion,p_telefono:i.telefono,p_email:i.email,cli_nit:i.nit}}cleanAll(){confirm("\xBFEst\xE1s seguro de querer limpiar el formulario?")&&this.registroForm.reset()}cancel(){confirm("\xBFEst\xE1s seguro de querer cancelar el registro y salir del formulario?")&&this.router.navigate(["users/clientes"])}static \u0275fac=function(m){return new(m||l)(x(be),x(xe),x(ie),x(de),x(K),x(P))};static \u0275cmp=V({type:l,selectors:[["app-clientes-create"]],decls:84,vars:75,consts:[[3,"formGroup"],[3,"header","subheader"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","p-2","w-full","basis-[60%]"],[1,"flex","md:flex-row","flex-row","w-full","p-2"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","p-2","lg:w-full","md:w-full","w-full"],["for","ci",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName","fluid"],[2,"color","red"],["for","nit",1,"w-20rem"],["for","ServiceName",1,"w-15rem"],["type","text","pInputText","","placeholder","complemento",1,"w-full",3,"disabled","fluid"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click"],["for","expedition",1,"w-15rem"],["optionLabel","name","styleClass","w-full","placeholder","Select a Extension",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","pb-4","lg:w-full","md:w-full","w-full","p-2"],["for","name",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full","p-2"],["for","PublicPhone",1,"w-15rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],["for","apm",1,"w-15rem"],["for","Web",1,"w-15rem"],["pInputText","","type","direccion",1,"w-full",3,"formControlName"],[1,"flex","md:flex-row","flex-row"],[1,"flex","justify-content-left","w-full","p-2"],["formControlName","fnaci","styleClass","w-full",1,"w-full","lg:w-full"],["pInputText","","type","tel","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],["pInputText","","type","email",1,"w-full",3,"formControlName"],["pTemplate","footer"],["styleClass","w-full",1,"w-full","lg:w-full",3,"inputId","value","formControlName"],[1,"ml-2","justify-content-center",3,"for"],[1,"flex","gap-3","mt-1"],["severity","danger","styleClass","w-full",1,"w-full",3,"click","label"],["severity","secondary","styleClass","w-full",1,"w-full",3,"click","label"],["styleClass","w-full",1,"w-full",3,"click","label","disabled"]],template:function(m,n){if(m&1&&(r(0,"form",0)(1,"p-card",1),o(2,"translate"),o(3,"uppercase"),o(4,"translate"),r(5,"div",2)(6,"div",3)(7,"h6"),p(8),o(9,"translate"),o(10,"uppercase"),t(),r(11,"div",4)(12,"div",5)(13,"label",6),p(14),o(15,"translate"),t(),d(16,"input",7),f(17,Se,2,0,"small",8),t(),r(18,"div",5)(19,"label",9),p(20),o(21,"translate"),t(),d(22,"input",7),f(23,ye,2,0,"small",8),t(),r(24,"div",5)(25,"label",10),p(26),o(27,"translate"),t(),r(28,"p-inputGroup"),d(29,"input",11),r(30,"button",12),E("click",function(){return n.checkComplementCI=!n.checkComplementCI}),t()()(),r(31,"div",5)(32,"label",13),p(33),o(34,"translate"),t(),d(35,"p-select",14),f(36,Ie,3,3,"small",8),t()(),r(37,"div",15)(38,"div",16)(39,"label",17),p(40),o(41,"translate"),t(),d(42,"input",7),f(43,he,3,3,"small",8),t(),r(44,"div",18)(45,"label",19),p(46),o(47,"translate"),t(),d(48,"input",20),f(49,Fe,3,3,"small",8),t(),r(50,"div",18)(51,"label",21),p(52),o(53,"translate"),t(),d(54,"input",20),f(55,Be,3,3,"small",8),t(),r(56,"div",18)(57,"label",22),p(58),o(59,"translate"),t(),d(60,"input",23),f(61,Te,3,3,"small",8),t()(),r(62,"div",24)(63,"div",25),D(64,Ne,3,5,null,null,j),t(),r(66,"div",18)(67,"label",22),p(68),o(69,"translate"),t(),d(70,"p-datepicker",26),f(71,ke,3,3,"small",8),t(),r(72,"div",18)(73,"label",22),p(74),o(75,"translate"),t(),d(76,"input",27),t(),r(77,"div",18)(78,"label",22),p(79),o(80,"translate"),t(),d(81,"input",28),f(82,Me,3,3,"small",8),t()()()(),f(83,Ve,7,10,"ng-template",29),t()()),m&2){let u,b,w,v,y,I,h,F,B;s("formGroup",n.registroForm),e(),s("header",a(3,44,a(2,42,"labels.register_clients")))("subheader",a(4,46,"labels.admin_employees")),e(7),c(a(10,50,a(9,48,"labels.detail_people"))),e(6),c(a(15,52,"labels.ci")),e(2),s("formControlName","ci")("fluid",!0),e(),_((u=n.registroForm.get("ci"))!=null&&u.invalid&&((u=n.registroForm.get("ci"))!=null&&u.touched)?17:-1),e(3),c(a(21,54,"labels.nit")),e(2),s("formControlName","nit")("fluid",!0),e(),_((b=n.registroForm.get("nit"))!=null&&b.invalid&&((b=n.registroForm.get("nit"))!=null&&b.touched)?23:-1),e(3),c(a(27,56,"labels.ciComplement")),e(3),s("disabled",n.checkComplementCI)("fluid",!0),e(4),c(a(34,58,"labels.ciExpedit")),e(2),R(L(74,Ee)),s("formControlName","ciExpedit")("options",n.expedidoOptions),e(),_((w=n.registroForm.get("ciExpedit"))!=null&&w.invalid&&((w=n.registroForm.get("ciExpedit"))!=null&&w.touched)?36:-1),e(4),c(a(41,60,"labels.name")),e(2),s("formControlName","nombre")("fluid",!0)("fluid",!0),e(),_((v=n.registroForm.get("nombre"))!=null&&v.invalid&&((v=n.registroForm.get("nombre"))!=null&&v.touched)?43:-1),e(3),c(a(47,62,"labels.app")),e(2),s("formControlName","app"),e(),_((y=n.registroForm.get("app"))!=null&&y.invalid&&((y=n.registroForm.get("app"))!=null&&y.touched)?49:-1),e(3),c(a(53,64,"labels.apm")),e(2),s("formControlName","apm"),e(),_((I=n.registroForm.get("apm"))!=null&&I.invalid&&((I=n.registroForm.get("apm"))!=null&&I.touched)?55:-1),e(3),c(a(59,66,"labels.direccion")),e(2),s("formControlName","direccion"),e(),_((h=n.registroForm.get("direccion"))!=null&&h.invalid&&((h=n.registroForm.get("direccion"))!=null&&h.touched)?61:-1),e(3),q(n.sexo),e(4),c(a(69,68,"labels.fnaci")),e(3),_((F=n.registroForm.get("fnaci"))!=null&&F.invalid&&((F=n.registroForm.get("fnaci"))!=null&&F.touched)?71:-1),e(3),c(a(75,70,"labels.telefono")),e(2),s("formControlName","telefono"),e(3),c(a(80,72,"labels.email")),e(2),s("formControlName","email"),e(),_((B=n.registroForm.get("email"))!=null&&B.invalid&&((B=n.registroForm.get("email"))!=null&&B.touched)?82:-1)}},dependencies:[Ce,fe,A,Q,z,U,$,W,H,J,se,me,pe,ae,Y,X,re,ne,we,te,Z,ee,ce,oe,_e,ve,ge,ue,le,O],encapsulation:2})};export{k as default};
