import{a as ge}from"./chunk-XHYAFPP4.js";import{a as Ee}from"./chunk-H2EXFJYA.js";import{a as we}from"./chunk-R6ZE4VRU.js";import{a as Ce,b as _e}from"./chunk-OVNQVQR5.js";import{b as ye}from"./chunk-NL3GR4WL.js";import{a as le,b as oe}from"./chunk-ABYTDU5A.js";import{a as ve,b as xe}from"./chunk-7F3ROMIE.js";import{a as me,b as de}from"./chunk-XRCNOI5B.js";import{b as fe}from"./chunk-AEP33MGT.js";import{G as ie,J as ne,K as re,W as ae,X as pe,Y as se,b as W,c as z,e as H,ea as ue,fa as ce,g as J,h as u,j as K,k as Q,m as X,o as Y,p as Z,q as ee,s as te}from"./chunk-GGYH7DSO.js";import"./chunk-4YRY4IP2.js";import{i as O,j as $}from"./chunk-NM3HJ4DI.js";import{s as A}from"./chunk-JAFPLUWG.js";import{Cb as T,D as M,Db as F,Mb as p,Nb as d,Ob as g,Sa as e,Ta as w,Ub as R,Wb as U,dc as o,ea as q,ec as a,hb as x,jb as s,mb as V,oa as k,ob as C,pa as j,pb as L,rb as D,sb as G,tb as r,ub as t,vb as m,zb as P}from"./chunk-PQPLRZS3.js";var be=()=>({width:"100%"}),he=()=>["/inventory/products"];function Se(i,v){i&1&&(r(0,"small",8),p(1,"Error en el CI."),t())}function Ie(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.ciExpedit"),"."))}function Be(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.name"),"."))}function Ne(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.app"),"."))}function Te(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.apm"),"."))}function Fe(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.direccion"),"."))}function ke(i,v){if(i&1&&(m(0,"p-radioButton",43),r(1,"label",44),p(2),t()),i&2){let n=v.$implicit;s("inputId",n.key)("value",n)("formControlName","sexo"),e(),s("for",n.key),e(),d(n.name)}}function je(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.fnaci"),"."))}function Ue(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.email"),"."))}function Me(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.username"),"."))}function qe(i,v){i&1&&(r(0,"small",8),p(1),o(2,"translate"),t()),i&2&&(e(),g("Error en el ",a(2,1,"users.password"),"."))}function Ve(i,v){if(i&1){let n=P();r(0,"div",45),m(1,"p-button",46),r(2,"p-button",47),T("click",function(){k(n);let l=F();return j(l.cleanAll())}),t(),r(3,"p-button",48),T("click",function(){k(n);let l=F();return j(l.saveEmployee())}),t()()}if(i&2){let n=F();e(),s("routerLink",U(2,he)),e(2),s("disabled",!n.registroForm.valid)}}var ut=(()=>{class i{constructor(n,f,l,_,y,E){this.employeeServ=n,this.usersServ=f,this.translate=l,this.translateLanService=_,this.fb=y,this.router=E,this.checkComplementCI=!0,this.translateLanService.changeLanguage$.subscribe(c=>this.translate.use(c)),this.usersServ.getExpedidoOptions().subscribe(c=>this.expedidoOptions=c),this.usersServ.getSexo().subscribe(c=>this.sexo=c),this.usersServ.getTipo().subscribe(c=>this.tipo=c),this.usersServ.getCargo().subscribe(c=>this.cargo=c),this.usersServ.getRol().subscribe(c=>this.rol=c),this.registroForm=this.fb.group({ci:["",[u.required,u.pattern(/^[0-9]{6,10}$/)]],ciExpedit:["",[u.required]],ciComplement:[""],nombre:["",u.required],app:["",u.required],apm:[""],sexo:["",u.required],fNaci:["",u.required],direccion:["",u.required],telefono:["",[]],email:["",[u.required,u.email]],idTipo:[,[u.required]],idCargo:[,[u.required]],fechaIngreso:[new Date,u.required],salario:[""],username:["",[u.required,u.minLength(3)]],rol:["",u.required],password:["",[u.required,u.minLength(8)]],reppit_password:["",u.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let f=n.get("password")?.value,l=n.get("reppit_password")?.value;return f===l?null:{passwordsMismatch:!0}}ngOnInit(){this.registroForm.valueChanges.pipe(M(5e3)).subscribe(n=>{console.log("Errores:",n.errors);for(let f in this.registroForm.controls)console.log(`${f}:`,this.registroForm.get(f)?.errors)})}saveEmployee(){console.log(this.asignarValores()),this.employeeServ.postSaveEmployee(this.asignarValores()).subscribe(n=>{n.CodigoEstado==="201"&&this.router.navigate(["users/empleados"])})}asignarValores(){let n=this.registroForm.value;return this.employeRegister={u_username:n.username,u_password:n.password,u_rol:n.rol.code,p_ci:n.ci,p_ciExpedit:n.ciExpedit.code,p_ciComplement:n.ciComplement,p_nombre:n.nombre,p_app:n.app,p_apm:n.apm,p_sexo:n.sexo.key,p_fnaci:n.fNaci,p_direccion:n.direccion,p_telefono:n.telefono,p_email:n.email,e_idtipo:n.idTipo.code,e_idcargo:n.idCargo.code,e_fing:n.fechaIngreso,e_salario:n.salario}}cleanAll(){}static{this.\u0275fac=function(f){return new(f||i)(w(ge),w(Ee),w(W),w(H),w(ee),w(O))}}static{this.\u0275cmp=q({type:i,selectors:[["app-users-create"]],standalone:!0,features:[R],decls:127,vars:106,consts:[[3,"formGroup"],[3,"header"],[1,"flex","flex-column","md:flex-row","sm:flex-row"],[1,"align-items-left","justify-content-top","pr-2"],[1,"flex","flex-column","md:flex-row","flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full"],["for","ci",1,"w-20rem"],["pInputText","","type","text",1,"w-full",3,"formControlName"],[2,"color","red"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","px-2","pb-4"],["for","ServiceName",1,"w-15rem"],["type","text","pInputText","","placeholder","complemento",3,"disabled"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","w-full"],["for","expedition",1,"w-15rem"],["optionLabel","name","styleClass","w-full","placeholder","Select a Extension",1,"w-full","lg:w-full",3,"formControlName","options"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","lg:w-full","md:w-full"],["for","DirectPhone",1,"w-15rem"],[1,"flex","flex-column","flex-row","md:flex-row"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","pr-1"],["for","PublicPhone",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","pl-1"],["for","apm",1,"w-15rem"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","w-full"],["for","Web",1,"w-15rem"],["pInputText","","type","direccion",1,"w-full",3,"formControlName"],[1,"flex","justify-content-left","w-full"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4","px-2","w-full"],["styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],[1,"flex","flex-wrap","justify-content-left","align-items-center","gap-2","pb-4"],["pInputText","","type","tel","styleClass","w-full",1,"w-full","lg:w-full",3,"formControlName"],["pInputText","","type","email",1,"w-full",3,"formControlName"],[1,"w-full","md:w-6","flex","flex-column","align-items-left","justify-content-top","pl-2"],["for","username",1,"w-15rem"],["for","password",1,"w-15rem"],["pInputText","","type","password",1,"w-full",3,"formControlName"],["for","repit password",1,"w-15rem"],["for","LastName",1,"w-15rem"],[1,"flex","flex-column","align-items-left","justify-content-top","px-2"],["for","type",1,"w-15rem"],["for","Type",1,"w-15rem"],["for","salary",1,"w-15rem"],["pTemplate","footer"],["styleClass","w-full",1,"w-full","lg:w-full",3,"inputId","value","formControlName"],[1,"ml-2","justify-content-center",3,"for"],[1,"flex","gap-3","mt-1"],["label","Cancel","severity","danger","styleClass","w-full",1,"w-full",3,"routerLink"],["label","Limpiar","severity","secondary","styleClass","w-full",1,"w-full",3,"click"],["label","Save","styleClass","w-full",1,"w-full",3,"click","disabled"]],template:function(f,l){if(f&1&&(r(0,"form",0)(1,"p-card",1),o(2,"translate"),o(3,"uppercase"),r(4,"div",2)(5,"div",3)(6,"h6"),p(7),o(8,"translate"),o(9,"uppercase"),t(),r(10,"div",4)(11,"div",5)(12,"label",6),p(13),o(14,"translate"),t(),m(15,"input",7),x(16,Se,2,0,"small",8),t(),r(17,"div",9)(18,"label",10),p(19),o(20,"translate"),t(),r(21,"p-inputGroup"),m(22,"input",11),r(23,"button",12),T("click",function(){return l.checkComplementCI=!l.checkComplementCI}),t()()(),r(24,"div",13)(25,"label",14),p(26),o(27,"translate"),t(),m(28,"p-dropdown",15),x(29,Ie,3,3,"small",8),t()(),r(30,"div",4)(31,"div",16)(32,"label",17),p(33),o(34,"translate"),t(),m(35,"input",7),x(36,Be,3,3,"small",8),t()(),r(37,"div",18)(38,"div",19)(39,"label",20),p(40),o(41,"translate"),t(),m(42,"input",7),x(43,Ne,3,3,"small",8),t(),r(44,"div",21)(45,"label",22),p(46),o(47,"translate"),t(),m(48,"input",7),x(49,Te,3,3,"small",8),t()(),r(50,"div",18)(51,"div",23)(52,"label",24),p(53),o(54,"translate"),t(),m(55,"input",25),x(56,Fe,3,3,"small",8),t()(),r(57,"div",4)(58,"div",26),D(59,ke,3,5,null,null,L),t(),r(61,"div",27)(62,"label",24),p(63),o(64,"translate"),t(),m(65,"p-calendar",28),x(66,je,3,3,"small",8),t(),r(67,"div",29)(68,"label",24),p(69),o(70,"translate"),t(),m(71,"input",30),t()(),r(72,"div",18)(73,"div",23)(74,"label",24),p(75),o(76,"translate"),t(),m(77,"input",31),x(78,Ue,3,3,"small",8),t()()(),r(79,"div",32)(80,"h6"),p(81),o(82,"translate"),o(83,"uppercase"),t(),r(84,"div",29)(85,"label",33),p(86),o(87,"translate"),t(),m(88,"input",7),x(89,Me,3,3,"small",8),t(),r(90,"div",29)(91,"label",34),p(92),o(93,"translate"),t(),m(94,"input",35),x(95,qe,3,3,"small",8),t(),r(96,"div",29)(97,"label",36),p(98),o(99,"translate"),t(),m(100,"input",35),t(),r(101,"div",29)(102,"label",37),p(103),o(104,"translate"),t(),m(105,"p-dropdown",15),t()(),r(106,"div",38)(107,"h6"),p(108),o(109,"translate"),o(110,"uppercase"),t(),r(111,"div",29)(112,"label",39),p(113),o(114,"translate"),t(),m(115,"p-dropdown",15),t(),r(116,"div",29)(117,"label",40),p(118),o(119,"translate"),t(),m(120,"p-dropdown",15),t(),r(121,"div",29)(122,"label",41),p(123),o(124,"translate"),t(),m(125,"input",7),t()()(),x(126,Ve,4,3,"ng-template",42),t()()),f&2){let _,y,E,c,b,h,S,I,B,N;s("formGroup",l.registroForm),e(),s("header",a(3,57,a(2,55,"labels.register_employee"))),e(6),d(a(9,61,a(8,59,"users.detail_people"))),e(6),d(a(14,63,"users.ci")),e(2),s("formControlName","ci"),e(),C(16,(_=l.registroForm.get("ci"))!=null&&_.invalid&&((_=l.registroForm.get("ci"))!=null&&_.touched)?16:-1),e(3),d(a(20,65,"users.ciComplement")),e(3),s("disabled",l.checkComplementCI),e(4),d(a(27,67,"users.ciExpedit")),e(2),V(U(105,be)),s("formControlName","ciExpedit")("options",l.expedidoOptions),e(),C(29,(y=l.registroForm.get("ciExpedit"))!=null&&y.invalid&&((y=l.registroForm.get("ciExpedit"))!=null&&y.touched)?29:-1),e(4),d(a(34,69,"users.name")),e(2),s("formControlName","nombre"),e(),C(36,(E=l.registroForm.get("nombre"))!=null&&E.invalid&&((E=l.registroForm.get("nombre"))!=null&&E.touched)?36:-1),e(4),g("",a(41,71,"users.app"),"e"),e(2),s("formControlName","app"),e(),C(43,(c=l.registroForm.get("app"))!=null&&c.invalid&&((c=l.registroForm.get("app"))!=null&&c.touched)?43:-1),e(3),d(a(47,73,"users.apm")),e(2),s("formControlName","apm"),e(),C(49,(b=l.registroForm.get("apm"))!=null&&b.invalid&&((b=l.registroForm.get("apm"))!=null&&b.touched)?49:-1),e(4),d(a(54,75,"users.direccion")),e(2),s("formControlName","direccion"),e(),C(56,(h=l.registroForm.get("direccion"))!=null&&h.invalid&&((h=l.registroForm.get("direccion"))!=null&&h.touched)?56:-1),e(3),G(l.sexo),e(4),d(a(64,77,"users.fnaci")),e(2),s("formControlName","fNaci"),e(),C(66,(S=l.registroForm.get("fNaci"))!=null&&S.invalid&&((S=l.registroForm.get("fNaci"))!=null&&S.touched)?66:-1),e(3),d(a(70,79,"users.telefono")),e(2),s("formControlName","telefono"),e(4),d(a(76,81,"users.email")),e(2),s("formControlName","email"),e(),C(78,(I=l.registroForm.get("email"))!=null&&I.invalid&&((I=l.registroForm.get("email"))!=null&&I.touched)?78:-1),e(3),d(a(83,85,a(82,83,"users.detail_user"))),e(5),d(a(87,87,"users.username")),e(2),s("formControlName","username"),e(),C(89,(B=l.registroForm.get("username"))!=null&&B.invalid&&((B=l.registroForm.get("username"))!=null&&B.touched)?89:-1),e(3),d(a(93,89,"users.password")),e(2),s("formControlName","password"),e(),C(95,(N=l.registroForm.get("password"))!=null&&N.invalid&&((N=l.registroForm.get("password"))!=null&&N.touched)?95:-1),e(3),d(a(99,91,"users.reppit_password")),e(2),s("formControlName","reppit_password"),e(3),d(a(104,93,"users.rol")),e(2),s("formControlName","rol")("options",l.rol),e(3),d(a(110,97,a(109,95,"users.detail_employee"))),e(5),d(a(114,99,"users.type")),e(2),s("formControlName","idTipo")("options",l.tipo),e(3),d(a(119,101,"users.position")),e(2),s("formControlName","idCargo")("options",l.cargo),e(3),g("",a(124,103,"users.salary"),"Country"),e(2),s("formControlName","salario")}},dependencies:[xe,ve,ie,te,X,J,K,Q,Y,Z,re,ne,oe,le,ce,ue,se,ae,pe,de,me,ye,_e,Ce,we,fe,z,A,$]})}}return i})();export{ut as default};
