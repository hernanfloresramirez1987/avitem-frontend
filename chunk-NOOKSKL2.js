import{a as ge}from"./chunk-MU3LYIWP.js";import{a as Ce}from"./chunk-23LHER44.js";import{a as pe,f as me,g as se,h as ue}from"./chunk-DTEYWA75.js";import{b as ne,c as oe,d as le,e as ae,i as re}from"./chunk-DIEVPZYL.js";import"./chunk-3BDIH3CX.js";import"./chunk-XOMGHBR6.js";import"./chunk-EQMBDBSY.js";import{a as xe}from"./chunk-MWAJJYJ3.js";import"./chunk-YNNLY5YU.js";import{a as de,b as fe}from"./chunk-GJU253VK.js";import{s as ce,t as _e}from"./chunk-XV6XWGU3.js";import"./chunk-RPFCKF43.js";import"./chunk-VLOQAXLM.js";import{Na as Z,Oa as ee,Pa as te,Qa as ie,b as K,c as J,ca as Y,d as W,e as X}from"./chunk-Z4B5FZRR.js";import{A as G,h as H,k as q}from"./chunk-PZZ6QWDK.js";import"./chunk-F2X3VGZZ.js";import{$ as b,Aa as o,Cb as x,Fa as C,Fb as V,Gb as R,Hb as M,Lb as z,Ma as k,Mb as _,Nb as u,Ob as g,Pb as A,Sa as h,Wb as O,_ as y,cb as s,cc as a,dc as r,fc as Q,hb as j,ib as w,kb as F,lb as B,ma as I,mb as E,n as D,nb as c,ob as p,pb as m,rc as U,sc as N,tb as T,yb as S,zb as l}from"./chunk-H3HIGMDG.js";import{a as $}from"./chunk-C6Q5SG76.js";var ve=["dt1"],ye=["filter"],be=e=>({color:e,"font-weight":"bold","font-size":"1.25rem","align-items":"center","justify-content":"center"});function Se(e,i){if(e&1){let t=T();c(0,"div",6)(1,"p-iconfield",7)(2,"p-inputgroup")(3,"p-button",8),a(4,"translate"),S("click",function(){y(t);let d=l(),v=z(5);return b(d.clear(v))}),p(),c(5,"p-button",9),S("click",function(){y(t);let d=l();return b(d.add())}),p(),_(6,"\xA0 "),m(7,"p-button",10),p()()()}e&2&&(o(3),s("label",r(4,4,"labels.clear"))("outlined",!0),o(2),s("outlined",!0),o(2),s("outlined",!0))}function he(e,i){e&1&&(c(0,"th",14)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2&&(s("pSortableColumn","id"),o(2),u(r(4,5,r(3,3,"labels.id"))),o(3),s("field","id"))}function Te(e,i){if(e&1&&(c(0,"th",15)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;s("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.ci"))),o(3),s("field",t.field)}}function Ie(e,i){if(e&1&&(c(0,"th",16)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.name"))),o(3),s("field",t.field)}}function we(e,i){if(e&1&&(c(0,"th",16)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.app"))),o(3),s("field",t.field)}}function Fe(e,i){if(e&1&&(c(0,"th",16)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.apm"))),o(3),s("field",t.field)}}function Be(e,i){e&1&&(c(0,"th",17),_(1),a(2,"translate"),a(3,"uppercase"),p()),e&2&&(o(),u(r(3,3,r(2,1,"labels.telefono"))))}function Ee(e,i){if(e&1&&(c(0,"th",18)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.sexo"))),o(3),s("field",t.field)}}function $e(e,i){if(e&1&&(c(0,"th",16)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.fnaci"))),o(3),s("field",t.field)}}function Ve(e,i){if(e&1&&(c(0,"th",19)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels.email"))),o(3),s("field",t.field)}}function Re(e,i){if(e&1&&(c(0,"th",17)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;o(2),u(r(4,4,r(3,2,"labels.telefono"))),o(3),s("field",t.field)}}function Me(e,i){if(e&1&&(c(0,"th",20)(1,"div",21),_(2),a(3,"translate"),a(4,"uppercase"),m(5,"p-sortIcon",22),p()()),e&2){let t=l().$implicit;x("pSortableColumn",t.field),o(2),u(r(4,5,r(3,3,"labels."+t.field))),o(3),s("field",t.field)}}function Le(e,i){if(e&1&&h(0,he,6,7,"th",14)(1,Te,6,7,"th",15)(2,Ie,6,7,"th",16)(3,we,6,7,"th",16)(4,Fe,6,7,"th",16)(5,Be,4,5,"th",17)(6,Ee,6,7,"th",18)(7,$e,6,7,"th",16)(8,Ve,6,7,"th",19)(9,Re,6,6,"th",17)(10,Me,6,7,"th",20),e&2){let t,n=i.$implicit;w((t=n.field)==="id"?0:t==="ci"?1:t==="nombre"?2:t==="app"?3:t==="apm"?4:t==="telefono"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function Pe(e,i){e&1&&m(0,"appcommon-filter-input",23)}function De(e,i){e&1&&m(0,"appcommon-filter-input",24)}function ke(e,i){e&1&&m(0,"appcommon-filter-input",25)}function je(e,i){e&1&&m(0,"appcommon-filter-input",26)}function ze(e,i){e&1&&m(0,"appcommon-filter-input",27)}function Ae(e,i){e&1&&m(0,"appcommon-filter-input",28)}function Oe(e,i){e&1&&m(0,"appcommon-filter-input",29)}function Qe(e,i){e&1&&m(0,"appcommon-filter-input",30)}function Ue(e,i){e&1&&m(0,"appcommon-filter-input",31)}function Ne(e,i){if(e&1&&m(0,"appcommon-filter-input",32),e&2){let t=l().$implicit;s("field",t.field)}}function He(e,i){if(e&1&&(c(0,"th",12),h(1,Pe,1,0,"appcommon-filter-input",23)(2,De,1,0,"appcommon-filter-input",24)(3,ke,1,0,"appcommon-filter-input",25)(4,je,1,0,"appcommon-filter-input",26)(5,ze,1,0,"appcommon-filter-input",27)(6,Ae,1,0,"appcommon-filter-input",28)(7,Oe,1,0,"appcommon-filter-input",29)(8,Qe,1,0,"appcommon-filter-input",30)(9,Ue,1,0,"appcommon-filter-input",31)(10,Ne,1,1,"appcommon-filter-input",32),p()),e&2){let t,n=i.$implicit;o(),w((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function qe(e,i){e&1&&(c(0,"th",13),_(1,"cargando"),p())}function Ge(e,i){if(e&1){let t=T();c(0,"tr")(1,"th")(2,"p-button",11),S("click",function(d){y(t);let v=l();return b(v.toggleMenu(d))}),p()(),B(3,Le,11,1,null,null,F),p(),c(5,"tr"),B(6,He,11,1,"th",12,F,!1,qe,2,0,"th",13),p()}if(e&2){let t=i.$implicit;o(2),s("rounded",!1)("text",!0),o(),E(t),o(3),E(t)}}function Ke(e,i){if(e&1&&_(0),e&2){let t=l(2).$implicit;g(" ",t.id," ")}}function Je(e,i){if(e&1&&_(0),e&2){let t=l(2).$implicit;A(" ",t.ci," ",t.ciExpedit," ")}}function We(e,i){if(e&1&&_(0),e&2){let t=l().$implicit,n=l().$implicit;g(" ",n[t.field]," ")}}function Xe(e,i){if(e&1&&_(0),e&2){let t=l().$implicit,n=l().$implicit;g(" ",n[t.field]," ")}}function Ye(e,i){if(e&1&&_(0),e&2){let t=l().$implicit,n=l().$implicit;g(" ",n[t.field]," ")}}function Ze(e,i){if(e&1&&(m(0,"i",33),_(1)),e&2){let t=l().$implicit,n=l().$implicit,d=l();j("pi ",n[t.field]==="V"?"pi-mars":"pi-venus",""),s("ngStyle",O(5,be,n[t.field]==="V"?"blue":"red")),o(),g(" ",d.getSexo(n[t.field])," ")}}function et(e,i){if(e&1&&_(0),e&2){let t=l().$implicit,n=l().$implicit;g(" ",n[t.field]," ")}}function tt(e,i){if(e&1&&_(0),e&2){let t=l().$implicit,n=l().$implicit;g(" ",n[t.field]," ")}}function it(e,i){if(e&1&&(c(0,"td"),h(1,Ke,1,1)(2,Je,1,2)(3,We,1,1)(4,Xe,1,1)(5,Ye,1,1)(6,Ze,2,7)(7,et,1,1)(8,tt,1,1),p()),e&2){let t,n=i.$implicit;o(),w((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:t==="fnaci"?7:8)}}function nt(e,i){if(e&1){let t=T();c(0,"tr")(1,"td")(2,"p-button",11),S("click",function(d){y(t);let v=l();return b(v.toggleMenu(d))}),p()(),B(3,it,9,1,"td",null,F),p()}if(e&2){let t=i.columns;o(2),s("rounded",!1)("text",!0),o(),E(t)}}var L=class e{constructor(i,t,n,d,v,P,ot){this.usersServ=i;this.clientServ=t;this.filterservice=n;this.translate=d;this.translateLanService=v;this.router=P;this.personasService=ot;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),N(()=>{this.clientServ.postClients(this.employeedto()).pipe(D(f=>(console.log(888),console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log($({},this.employeedto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})}),this.usersServ.getExpedidoOptions().subscribe(f=>this.expedidoOptions=f)}table;filter;stateValues=I({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=I([]);employeedto=I({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=pe.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo"];columns=this.allowedColumns;columnsSelectSignal=U(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clients=[];expedidoOptions;clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};toggleMenu=i=>{console.log(i)};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:$({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}add=()=>this.router.navigate(["/users/clientes/create"]);getSexo=i=>this.personasService.getSexo(i);static \u0275fac=function(t){return new(t||e)(C(xe),C(ge),C(ue),C(K),C(X),C(G),C(Ce))};static \u0275cmp=k({type:e,selectors:[["app-clientes"]],viewQuery:function(t,n){if(t&1&&(V(ve,5),V(ye,5)),t&2){let d;R(d=M())&&(n.table=d.first),R(d=M())&&(n.filter=d.first)}},decls:10,vars:22,consts:[["dt1",""],["caption",""],[3,"header","subheader"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end"],["iconPosition","left"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-user-plus","severity","primary",1,"pr-1",3,"click","outlined"],["pRipple","","icon","pi pi-ellipsis-v","severity","secondary",3,"outlined"],["icon","pi pi-ellipsis-v","severity","secondary",3,"click","rounded","text"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","id"],["field","ci"],["field","nombre"],["field","app"],["field","apm"],["field","sexo"],["field","fnaci"],["field","email"],["field","telefono"],["type","text",3,"field"],[3,"ngStyle"]],template:function(t,n){if(t&1){let d=T();c(0,"p-card",2),a(1,"translate"),a(2,"uppercase"),a(3,"translate"),c(4,"p-table",3,0),S("onLazyLoad",function(P){return y(d),b(n.getDataPaged(P))}),h(6,Se,8,6,"ng-template",null,1,Q)(8,Ge,9,3,"ng-template",4)(9,nt,5,2,"ng-template",5),p()()}t&2&&(s("header",r(2,18,r(1,16,"pages.clients")))("subheader",r(3,20,"labels.admin_clients")),o(4),s("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[_e,ce,Y,W,J,ee,Z,q,re,ne,oe,ae,le,H,se,me,fe,de,ie,te],encapsulation:2})};export{L as default};
