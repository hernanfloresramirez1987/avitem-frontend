import{a as fe}from"./chunk-MR6HFMJU.js";import{a as le,b as se,c as de,d as _e}from"./chunk-IEB462TK.js";import{c as te,d as ie,e as oe,g as ne,h as re,i as ae,k as pe}from"./chunk-PGY6YP4V.js";import"./chunk-3LPAT246.js";import"./chunk-C7HYCF2I.js";import"./chunk-GEUOGBMH.js";import"./chunk-KQNSBIFE.js";import{s as ce}from"./chunk-Z55D476B.js";import{a as me,b as ue}from"./chunk-B2DF4FH5.js";import"./chunk-MHDBCHB7.js";import"./chunk-QAUJW5P3.js";import{A as K,B as W,C as X}from"./chunk-NE5GSNAT.js";import{da as J,oa as Y,pa as Z,qa as ee}from"./chunk-6X2GXSHH.js";import{c as q,h as G}from"./chunk-54PYN3B4.js";import{r as U}from"./chunk-JTR3XAHS.js";import"./chunk-F2X3VGZZ.js";import{$a as d,Ab as R,Bb as k,Ca as n,Cb as M,Fb as N,Gb as s,Ha as g,Hb as x,Ib as _,Na as A,P as j,Ta as b,V as z,Xb as l,Yb as c,a as E,aa as v,ab as H,ba as h,fb as y,hb as P,ib as F,jb as T,jc as Q,kb as a,kc as O,lb as r,mb as u,oa as S,q as D,qb as $,ub as I,vb as p,yb as C}from"./chunk-4PTIY3UM.js";var w=class e{#e="http://127.0.0.1:8080/api/templates/";http=z(q);postComponentsRedirecctions=i=>this.http.post(`${this.#e}postComponentsRedirecctions`,i);postComponents=i=>this.http.post(`${this.#e}getcomponents`,i);static \u0275fac=function(t){return new(t||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var ge=["dt1"],be=["filter"];function ve(e,i){if(e&1){let t=$();a(0,"div",6)(1,"p-button",7),l(2,"translate"),I("click",function(){v(t);let m=p(),B=N(5);return h(m.clear(B))}),r(),a(3,"p-button",8),I("click",function(){v(t);let m=p();return h(m.add())}),r()()}e&2&&(n(),d("label",c(2,3,"labels.clear"))("outlined",!0),n(2),d("outlined",!0))}function he(e,i){e&1&&(a(0,"th",14)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2&&(d("pSortableColumn","id"),n(2),_("",c(4,5,c(3,3,"labels.id"))," "),n(3),d("field","id"))}function Se(e,i){if(e&1&&(a(0,"th",15)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.nombre"))," "),n(3),d("field",t.field)}}function ye(e,i){if(e&1&&(a(0,"th",16)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;d("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.description"))," "),n(3),d("field",t.field)}}function Pe(e,i){if(e&1&&(a(0,"th",17)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.cantidadStock"))," "),n(3),d("field",t.field)}}function Fe(e,i){if(e&1&&(a(0,"th",18)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.fechaIngreso"))," "),n(3),d("field",t.field)}}function Te(e,i){e&1&&(a(0,"th",19),s(1),l(2,"translate"),l(3,"uppercase"),r()),e&2&&(n(),_("",c(3,3,c(2,1,"labels.unidadMedida"))," "))}function Ie(e,i){if(e&1&&(a(0,"th",20)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.codigoProducto"))," "),n(3),d("field",t.field)}}function we(e,i){if(e&1&&(a(0,"th",18)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.state"))," "),n(3),d("field",t.field)}}function Be(e,i){if(e&1&&(a(0,"th",15)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels.empresa"))," "),n(3),d("field",t.field)}}function Ee(e,i){e&1&&(a(0,"th",19),s(1),l(2,"translate"),l(3,"uppercase"),r()),e&2&&(n(),_("",c(3,3,c(2,1,"labels.categoria"))," "))}function $e(e,i){if(e&1&&(a(0,"th",21)(1,"div",22),s(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",23),r()()),e&2){let t=p().$implicit;C("pSortableColumn",t.field),n(2),_("",c(4,5,c(3,3,"labels."+t.field))," "),n(3),d("field",t.field)}}function Re(e,i){if(e&1&&b(0,he,6,7,"th",14)(1,Se,6,7,"th",15)(2,ye,6,7,"th",16)(3,Pe,6,7,"th",17)(4,Fe,6,7,"th",18)(5,Te,4,5,"th",19)(6,Ie,6,7,"th",20)(7,we,6,7,"th",18)(8,Be,6,7,"th",15)(9,Ee,4,5,"th",19)(10,$e,6,7,"th",21),e&2){let t,o=i.$implicit;y((t=o.field)==="id"?0:t==="nombre"?1:t==="descripcion"?2:t==="cantidadStock"?3:t==="fechaIngreso"?4:t==="unidadMedida"?5:t==="codigoProducto"?6:t==="state"?7:t==="empresa"?8:t==="categoria"?9:10)}}function ke(e,i){if(e&1&&u(0,"shipedge-filter-input",24),e&2){let t=p().$implicit;d("field",t.field)}}function Me(e,i){e&1&&(a(0,"th",12),b(1,ke,1,1,"shipedge-filter-input",24),r()),e&2&&(n(),y(1))}function Le(e,i){e&1&&(a(0,"th",13),s(1,"cargando"),r())}function Ve(e,i){if(e&1&&(a(0,"tr")(1,"th",9),u(2,"button",10)(3,"p-tableHeaderCheckbox",11),r(),F(4,Re,11,1,null,null,P),r(),a(6,"tr"),F(7,Me,2,1,"th",12,P,!1,Le,2,0,"th",13),r()),e&2){let t=i.$implicit;n(4),T(t),n(3),T(t)}}function De(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function je(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit,m=p();H("background-color",m.getColorBackground(o.color)),n(),_("",o[t.field]," ")}}function ze(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function Ae(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function He(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function Ne(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function Qe(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function Oe(e,i){if(e&1&&(a(0,"td"),s(1),r()),e&2){let t=p().$implicit,o=p().$implicit;n(),x(o[t.field])}}function Ue(e,i){if(e&1&&b(0,De,2,1,"td")(1,je,2,3,"td",28)(2,ze,2,1,"td")(3,Ae,2,1,"td")(4,He,2,1,"td")(5,Ne,2,1,"td")(6,Qe,2,1,"td")(7,Oe,2,1,"td"),e&2){let t,o=i.$implicit;y((t=o.field)==="id"?0:t==="nombre"?1:t==="descripcion"?2:t==="codigoProducto"?3:t==="state"?4:t==="empresa"?5:t==="categoria"?6:7)}}function qe(e,i){if(e&1&&(a(0,"tr")(1,"td",25),u(2,"button",26)(3,"p-tableCheckbox",27),r(),F(4,Ue,8,1,null,null,P),r()),e&2){let t=i.$implicit,o=i.columns;n(3),d("value",t),n(),T(o)}}var L=class e{constructor(i,t,o,m,B,V){this.productsServ=i;this.filterservice=t;this.translate=o;this.translateLanService=m;this.externapiServ=B;this.router=V;this.translateLanService.changeLanguage$.subscribe(f=>this.translate.use(f)),O(()=>{this.productsServ.postProductsGet().pipe(D(f=>(console.log("console.log('', t):   ",f),{data:Array.isArray(f)?[...f]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:f=>{console.log(E({},this.productsdto())),console.log(f),this.stateValues.set({data:f.data&&f.data.length>0?[...f.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:f=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:f})})})}table;filter;stateValues=S({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=S([]);productsdto=S({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=le.cantidadRegistros;stateIni=!1;allowedColumns=["id","nombre","codigoProducto","empresa","descripcion","cantidadStock","fechaIngreso","unidadMedida","state","categoria"];columns=this.allowedColumns;columnsSelectSignal=Q(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clear=i=>{this.productsdto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.productsdto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:E({},this.filterservice.applyFilterNew(i.filters,this.productsdto().filter))})),this.stateIni=!0}getColorBackground(i){switch(i){case"Natural":return"#cccccc";case"Champan":return"#FBE7C6";case"Negro":return"#000000";case"Madera":return"#8B4513";default:return"#FFFFFF"}}getColor(i){switch(i){case"Natural":return"#000000";case"Champan":return"#000000";case"Negro":return"#FFFFFF";case"Madera":return"#FFFFFF";default:return"#FFFFFF"}}add=()=>{this.router.navigate(["/inventory/products/create"])};static \u0275fac=function(t){return new(t||e)(g(fe),g(_e),g(Y),g(ce),g(w),g(G))};static \u0275cmp=A({type:e,selectors:[["app-products"]],viewQuery:function(t,o){if(t&1&&(R(ge,5),R(be,5)),t&2){let m;k(m=M())&&(o.table=m.first),k(m=M())&&(o.filter=m.first)}},decls:9,vars:22,consts:[["dt1",""],[3,"header","subheader"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-wrap","justify-content-end"],["icon","pi pi-filter-slash",3,"click","label","outlined"],["icon","pi pi-plus","severity","primary",1,"pr-1",3,"click","outlined"],["rowspan","2"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","pt-2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","25rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","10rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["type","text",3,"field"],[1,"flex","py-4"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","pt-5"],[1,"p-2",3,"value"],[3,"backgroundColor"]],template:function(t,o){if(t&1){let m=$();a(0,"p-card",1),l(1,"translate"),l(2,"uppercase"),l(3,"translate"),a(4,"p-table",2,0),I("onLazyLoad",function(V){return v(m),h(o.getDataPaged(V))}),b(6,ve,4,5,"ng-template",3)(7,Ve,10,1,"ng-template",4)(8,qe,6,1,"ng-template",5),r()()}t&2&&(d("header",c(2,18,c(1,16,"pages.products")))("subheader",c(3,20,"labels.admin_products")),n(4),d("value",o.stateValues().data)("paginator",!0)("loading",o.stateValues().loading)("rows",o.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",o.tablecon)("lazy",!0)("columns",o.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",o.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",o.stateValues().data&&o.stateValues().data.length>50?"both":"bottom"))},dependencies:[ee,Z,ue,me,J,U,pe,te,ie,ne,oe,re,ae,X,K,W,de,se],encapsulation:2})};export{L as default};
