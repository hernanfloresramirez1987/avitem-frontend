import{b as pe}from"./chunk-E6UMFRL3.js";import{a as Z,b as ee,c as te,d as ie,e as ne,f as ae,g as oe,h as le,i as re}from"./chunk-TRU2XWKK.js";import"./chunk-UNDUGNLZ.js";import{C as W,S as X,U as Y,b as O,c as K,d as G,e as J}from"./chunk-IE3H7VCA.js";import"./chunk-CIYWZG3H.js";import"./chunk-NMGI7OHJ.js";import{s as N}from"./chunk-DQQKSOUK.js";import{Ab as V,Bb as s,Eb as w,Gb as k,Hb as A,Ib as M,Jb as j,Kb as _,Lb as y,Mb as g,Nb as q,Sa as l,Sb as Q,Ta as v,V as L,a as B,bb as S,bc as m,cc as c,ea as P,hb as b,jb as x,oa as E,ob as T,pa as $,qb as I,rb as F,s as D,sb as U,tb as d,ub as p,vb as C,wc as z,yc as H,zb as R}from"./chunk-2SHBWNGG.js";var se={cantidadRegistros:[15,30,60,100,200,300,500]};var me=(()=>{class t{constructor(){}applyFilterNew(e,i){for(let r in e){let o=r,n=e[o];if(Array.isArray(n))i[o]=n;else if(Array.isArray(n.value)){let f=n.matchMode||"",u=n.value.map(h=>h.id)||"";i[o]={match_mode:f,value:u},n.value!==null&&(i[o]={match_mode:f,value:u})}else i[o]={match_mode:n.matchMode,value:n.value||""},n.value}return i}applyFilter(e,i){for(let r in e){let o=r,n,f=u=>{i[o].match_mode=u.matchMode||"",u.value&&Array.isArray(u.value)?n=u.value.map(h=>h.id):n=u.value||""};Array.isArray(e[o])?e[o].forEach(u=>f(u)):f(e[o]),i[o].value=n}return i}preparaFiltersChip(e,i){let r;if(r=[],e){for(let o in e)if(e[o].value){let n=e[o].value;if(Array.isArray(n)){let u="id";i&&(u=i[o].campo),n=n.map(h=>h[u]).join(",")}let f={};f.valor=n,f.key=o,r.push(f)}}return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var de=["dt1"],fe=["filter"];function ue(t,a){t&1&&(d(0,"th",12)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2&&(x("pSortableColumn","id"),l(2),y(c(4,5,c(3,3,"labels.id"))),l(3),x("field","id"))}function xe(t,a){if(t&1&&(d(0,"th",12)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2){let e=s().$implicit;x("pSortableColumn",e.field),l(2),y(c(4,5,c(3,3,"labels.ci"))),l(3),x("field",e.field)}}function Ce(t,a){if(t&1&&(d(0,"th",15)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2){let e=s().$implicit;w("pSortableColumn",e.field),l(2),y(c(4,5,c(3,3,"labels.nombre"))),l(3),x("field",e.field)}}function ge(t,a){if(t&1&&(d(0,"th",15)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2){let e=s().$implicit;w("pSortableColumn",e.field),l(2),y(c(4,5,c(3,3,"labels.app"))),l(3),x("field",e.field)}}function ye(t,a){if(t&1&&(d(0,"th",15)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2){let e=s().$implicit;w("pSortableColumn",e.field),l(2),y(c(4,5,c(3,3,"labels.apm"))),l(3),x("field",e.field)}}function he(t,a){t&1&&(d(0,"th",16),_(1),m(2,"translate"),m(3,"uppercase"),p()),t&2&&(l(),g("",c(3,3,c(2,1,"labels.telefono"))," "))}function ve(t,a){t&1&&(d(0,"th",16),_(1),m(2,"translate"),m(3,"uppercase"),p()),t&2&&(l(),g("",c(3,3,c(2,1,"labels.email"))," "))}function be(t,a){t&1&&(d(0,"th",16),_(1),m(2,"translate"),m(3,"uppercase"),p()),t&2&&(l(),g("",c(3,3,c(2,1,"labels.telefono"))," "))}function we(t,a){if(t&1&&(d(0,"th",12)(1,"div",13),_(2),m(3,"translate"),m(4,"uppercase"),C(5,"p-sortIcon",14),p()()),t&2){let e=s().$implicit;w("pSortableColumn",e.field),l(2),y(c(4,5,c(3,3,"labels."+e.field))),l(3),x("field",e.field)}}function Se(t,a){if(t&1&&b(0,ue,6,7)(1,xe,6,7)(2,Ce,6,7)(3,ge,6,7)(4,ye,6,7)(5,he,4,5)(6,ve,4,5)(7,be,4,5)(8,we,6,7),t&2){let e,i=a.$implicit;T(0,(e=i.field)==="id"?0:e==="ci"?1:e==="nombre"?2:e==="app"?3:e==="apm"?4:e==="telefono"?5:e==="email"?6:e==="telefono"?7:8)}}function Te(t,a){t&1&&C(0,"shipedge-filter-input",17)}function Ie(t,a){t&1&&C(0,"shipedge-filter-input",18)}function Fe(t,a){}function Ue(t,a){if(t&1&&C(0,"shipedge-filter-input",19),t&2){let e=s().$implicit;x("field",e.field)}}function Be(t,a){if(t&1&&(d(0,"th",10),b(1,Te,1,0)(2,Ie,1,0)(3,Fe,0,0)(4,Ue,1,1),p()),t&2){let e,i=a.$implicit;l(),T(1,(e=i.field)==="bin_qty_max"?1:e==="bin_qty_min"?2:e==="image"?3:4)}}function Ee(t,a){t&1&&(d(0,"th",11),_(1,"cargando"),p())}function $e(t,a){if(t&1&&(d(0,"tr")(1,"th",8),C(2,"p-tableHeaderCheckbox",9),p(),F(3,Se,9,1,null,null,I),p(),d(5,"tr"),F(6,Be,5,1,"th",10,I,!1,Ee,2,0,"th",11),p()),t&2){let e=a.$implicit;l(3),U(e),l(3),U(e)}}function Ve(t,a){if(t&1&&_(0),t&2){let e=s(2).$implicit;g(" ",e.id," ")}}function ke(t,a){if(t&1&&_(0),t&2){let e=s(2).$implicit;q(" ",e.ci," ",e.ciExpedit," ")}}function Ae(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function Me(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function De(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function Le(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function Pe(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function Re(t,a){if(t&1&&_(0),t&2){let e=s().$implicit,i=s().$implicit;g(" ",i[e.field]," ")}}function je(t,a){if(t&1&&(d(0,"td"),b(1,Ve,1,1)(2,ke,1,2)(3,Ae,1,1)(4,Me,1,1)(5,De,1,1)(6,Le,1,1)(7,Pe,1,1)(8,Re,1,1),p()),t&2){let e,i=a.$implicit;l(),T(1,(e=i.field)==="id"?1:e==="ci"?2:e==="nombre"?3:e==="app"?4:e==="apm"?5:e==="sexo"?6:e==="fnaci"?7:8)}}function qe(t,a){if(t&1&&(d(0,"tr")(1,"td",20),C(2,"p-tableCheckbox",21),p(),F(3,je,9,1,"td",null,I),p()),t&2){let e=a.$implicit,i=a.columns;l(2),x("value",e),l(),U(i)}}var lt=(()=>{class t{constructor(e,i,r,o){this.employeeServ=e,this.filterservice=i,this.translate=r,this.translateLanService=o,this.stateValues=S({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null}),this.searchTxt=S([]),this.employeedto=S({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}}),this.tablecon=se.cantidadRegistros,this.stateIni=!1,this.allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","idcargo","salario","direccion","telefono","email"],this.columns=this.allowedColumns,this.columnsSelectSignal=z(()=>this.columns.map(n=>({field:n,header:n.charAt(0).toUpperCase()+n.slice(1)}))),this.clear=n=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),n.clear()},this.translateLanService.changeLanguage$.subscribe(n=>this.translate.use(n)),H(()=>{this.employeeServ.postEmployees(this.employeedto()).pipe(D(n=>(console.log("console.log('', t):   ",n),{data:Array.isArray(n)?[...n]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:n=>{console.log(B({},this.employeedto())),console.log(n),this.stateValues.set({data:n.data&&n.data.length>0?[...n.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:n=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:n})})})}getEmployees(){}getDataPaged(e){e.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(e.first||0)/Number(e.rows)+1,sort_field:e.multiSortMeta?e.multiSortMeta.filter(i=>i.field):[],rows:Number(e.rows)},filter:B({},this.filterservice.applyFilterNew(e.filters,this.employeedto().filter))})),this.stateIni=!0}static{this.\u0275fac=function(i){return new(i||t)(v(pe),v(me),v(O),v(J))}}static{this.\u0275cmp=P({type:t,selectors:[["app-users"]],viewQuery:function(i,r){if(i&1&&(k(de,5),k(fe,5)),i&2){let o;A(o=M())&&(r.table=o.first),A(o=M())&&(r.filter=o.first)}},standalone:!0,features:[Q],decls:13,vars:19,consts:[["dt1",""],[1,"card"],[1,"flex","justify-content-between"],[1,"text-4xl"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],["rowspan","2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["field","bin_qty_max"],["field","bin_qty_min"],["type","text",3,"field"],[1,"flex","py-4"],[1,"p-2",3,"value"]],template:function(i,r){if(i&1){let o=R();d(0,"div",1)(1,"div",2)(2,"div")(3,"h5",3),_(4),m(5,"translate"),m(6,"uppercase"),p()(),d(7,"div")(8,"button",4),V("click",function(){E(o);let f=j(10);return $(r.clear(f))}),p()()(),d(9,"p-table",5,0),V("onLazyLoad",function(f){return E(o),$(r.getDataPaged(f))}),b(11,$e,9,1,"ng-template",6)(12,qe,5,1,"ng-template",7),p()()}i&2&&(l(4),y(c(6,17,c(5,15,"pages.employees"))),l(5),x("value",r.stateValues().data)("paginator",!0)("loading",r.stateValues().loading)("rows",r.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",r.tablecon)("lazy",!0)("columns",r.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",r.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",r.stateValues().data&&r.stateValues().data.length>50?"both":"bottom"))},dependencies:[G,K,N,oe,Z,W,ee,ie,te,ne,ae,Y,X,re,le]})}}return t})();export{lt as default};
