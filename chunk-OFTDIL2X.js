import{a as se}from"./chunk-JXSWDMRP.js";import{a as ae,b as re}from"./chunk-WIRE6G66.js";import{a as ne,b as me}from"./chunk-3WV3ZJ7R.js";import"./chunk-4O3W2NBE.js";import"./chunk-GNONCHDB.js";import{b as W,c as X,d as Y,f as Z,g as ee,h as te,j as ie}from"./chunk-XUHDHR7E.js";import"./chunk-OGQHURAE.js";import"./chunk-6J2HNO37.js";import"./chunk-XHPGIUYW.js";import"./chunk-5XVCGBHY.js";import{o as oe,p as le,q as pe}from"./chunk-DXZH3M7L.js";import"./chunk-44UL6WXM.js";import"./chunk-XMSLJEE3.js";import{Ha as H,Ja as O,La as N,Oa as K,Pa as G,Qa as J,Z as Q}from"./chunk-L6F5SHP5.js";import{k as z,w as q}from"./chunk-A5I2MG6G.js";import"./chunk-F2X3VGZZ.js";import{$a as f,Ab as U,Bb as B,Ca as o,Cb as $,Fb as k,Gb as m,Ha as x,Ib as c,Jb as P,Na as M,Ta as g,Xb as a,Yb as r,a as F,aa as b,ba as y,eb as V,fb as v,hb as S,ib as T,jb as I,jc as j,kb as p,kc as A,lb as s,mb as d,oa as h,q as L,qb as D,ub as w,vb as l,yb as C}from"./chunk-4PTIY3UM.js";var ce=["dt1"],de=["filter"];function _e(e,i){e&1&&(p(0,"th",12)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2&&(f("pSortableColumn","id"),o(2),c("",r(4,5,r(3,3,"labels.id"))," "),o(3),f("field","id"))}function fe(e,i){if(e&1&&(p(0,"th",13)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;f("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.ci"))," "),o(3),f("field",t.field)}}function ue(e,i){if(e&1&&(p(0,"th",14)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.name"))," "),o(3),f("field",t.field)}}function Ce(e,i){if(e&1&&(p(0,"th",14)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.app"))," "),o(3),f("field",t.field)}}function xe(e,i){if(e&1&&(p(0,"th",14)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.apm"))," "),o(3),f("field",t.field)}}function ge(e,i){e&1&&(p(0,"th",15),m(1),a(2,"translate"),a(3,"uppercase"),s()),e&2&&(o(),c("",r(3,3,r(2,1,"labels.telefono"))," "))}function be(e,i){if(e&1&&(p(0,"th",16)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.sexo"))," "),o(3),f("field",t.field)}}function ye(e,i){if(e&1&&(p(0,"th",14)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.fnaci"))," "),o(3),f("field",t.field)}}function he(e,i){if(e&1&&(p(0,"th",17)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels.email"))," "),o(3),f("field",t.field)}}function ve(e,i){e&1&&(p(0,"th",15),m(1),a(2,"translate"),a(3,"uppercase"),s()),e&2&&(o(),c("",r(3,3,r(2,1,"labels.telefono"))," "))}function Se(e,i){if(e&1&&(p(0,"th",18)(1,"div",19),m(2),a(3,"translate"),a(4,"uppercase"),d(5,"p-sortIcon",20),s()()),e&2){let t=l().$implicit;C("pSortableColumn",t.field),o(2),c("",r(4,5,r(3,3,"labels."+t.field))," "),o(3),f("field",t.field)}}function Te(e,i){if(e&1&&g(0,_e,6,7,"th",12)(1,fe,6,7,"th",13)(2,ue,6,7,"th",14)(3,Ce,6,7,"th",14)(4,xe,6,7,"th",14)(5,ge,4,5,"th",15)(6,be,6,7,"th",16)(7,ye,6,7,"th",14)(8,he,6,7,"th",17)(9,ve,4,5,"th",15)(10,Se,6,7,"th",18),e&2){let t,n=i.$implicit;v((t=n.field)==="id"?0:t==="ci"?1:t==="nombre"?2:t==="app"?3:t==="apm"?4:t==="telefono"?5:t==="sexo"?6:t==="fnaci"?7:t==="email"?8:t==="telefono"?9:10)}}function Ie(e,i){e&1&&d(0,"shipedge-filter-input",21)}function we(e,i){e&1&&d(0,"shipedge-filter-input",22)}function Ee(e,i){}function Fe(e,i){if(e&1&&d(0,"shipedge-filter-input",23),e&2){let t=l().$implicit;f("field",t.field)}}function Ue(e,i){if(e&1&&(p(0,"th",10),g(1,Ie,1,0,"shipedge-filter-input",21)(2,we,1,0,"shipedge-filter-input",22)(3,Ee,0,0)(4,Fe,1,1,"shipedge-filter-input",23),s()),e&2){let t,n=i.$implicit;o(),v((t=n.field)==="bin_qty_max"?1:t==="bin_qty_min"?2:t==="image"?3:4)}}function Be(e,i){e&1&&(p(0,"th",11),m(1,"cargando"),s())}function $e(e,i){if(e&1&&(p(0,"tr")(1,"th",8),d(2,"p-tableHeaderCheckbox",9),s(),T(3,Te,11,1,null,null,S),s(),p(5,"tr"),T(6,Ue,5,1,"th",10,S,!1,Be,2,0,"th",11),s()),e&2){let t=i.$implicit;o(3),I(t),o(3),I(t)}}function Re(e,i){if(e&1&&m(0),e&2){let t=l(2).$implicit;c(" ",t.id," ")}}function Le(e,i){if(e&1&&m(0),e&2){let t=l(2).$implicit;P(" ",t.ci," ",t.ciExpedit," ")}}function Me(e,i){if(e&1&&m(0),e&2){let t=l().$implicit,n=l().$implicit;c(" ",n[t.field]," ")}}function Ve(e,i){if(e&1&&m(0),e&2){let t=l().$implicit,n=l().$implicit;c(" ",n[t.field]," ")}}function De(e,i){if(e&1&&m(0),e&2){let t=l().$implicit,n=l().$implicit;c(" ",n[t.field]," ")}}function ke(e,i){if(e&1&&(d(0,"i"),m(1),d(2,"i",26),m(3)),e&2){let t=l().$implicit,n=l().$implicit;V("pi ",(n[t.field]==="V","pi-mars"),""),o(),c("====== ",n[t.field]," "),o(2),c(" ",n[t.field]==="V"?"pi-varon":"pi-mujer"," ")}}function Pe(e,i){if(e&1&&m(0),e&2){let t=l().$implicit,n=l().$implicit;c(" ",n[t.field]," ")}}function je(e,i){if(e&1&&m(0),e&2){let t=l().$implicit,n=l().$implicit;c(" ",n[t.field]," ")}}function Ae(e,i){if(e&1&&(p(0,"td"),g(1,Re,1,1)(2,Le,1,2)(3,Me,1,1)(4,Ve,1,1)(5,De,1,1)(6,ke,4,5)(7,Pe,1,1)(8,je,1,1),s()),e&2){let t,n=i.$implicit;o(),v((t=n.field)==="id"?1:t==="ci"?2:t==="nombre"?3:t==="app"?4:t==="apm"?5:t==="sexo"?6:t==="fnaci"?7:8)}}function ze(e,i){if(e&1&&(p(0,"tr")(1,"td",24),d(2,"p-tableCheckbox",25),s(),T(3,Ae,9,1,"td",null,S),s()),e&2){let t=i.$implicit,n=i.columns;o(2),f("value",t),o(),I(n)}}var R=class e{constructor(i,t,n,u,E){this.employeeServ=i;this.filterservice=t;this.translate=n;this.translateLanService=u;this.router=E;this.translateLanService.changeLanguage$.subscribe(_=>this.translate.use(_)),A(()=>{this.employeeServ.postEmployees(this.employeedto()).pipe(L(_=>(console.log("console.log('', t):   ",_),{data:Array.isArray(_)?[..._]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:_=>{console.log(F({},this.employeedto())),console.log(_),this.stateValues.set({data:_.data&&_.data.length>0?[..._.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:_=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:_})})})}table;filter;stateValues=h({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=h([]);employeedto=h({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=ne.cantidadRegistros;stateIni=!1;allowedColumns=["id","ci","nombre","app","apm","sexo","fnaci","idtipo","idcargo","salario","direccion","telefono","email"];columns=this.allowedColumns;columnsSelectSignal=j(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));getEmployees(){}clear=i=>{this.employeedto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.employeedto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:F({},this.filterservice.applyFilterNew(i.filters,this.employeedto().filter))})),this.stateIni=!0}add=()=>this.router.navigate(["/users/empleados/create"]);static \u0275fac=function(t){return new(t||e)(x(se),x(me),x(K),x(oe),x(q))};static \u0275cmp=M({type:e,selectors:[["app-users"]],viewQuery:function(t,n){if(t&1&&(U(ce,5),U(de,5)),t&2){let u;B(u=$())&&(n.table=u.first),B(u=$())&&(n.filter=u.first)}},decls:12,vars:19,consts:[["dt1",""],[3,"header"],[1,"flex","justify-content-between"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["pButton","","label","Add","icon","pi pi-plus",1,"p-button-outlined","mr-1",3,"click"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],["rowspan","2"],[1,"pb-0","px-2"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","12rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["field","bin_qty_max"],["field","bin_qty_min"],["type","text",3,"field"],[1,"flex","py-4"],[1,"p-2",3,"value"],[1,"pi","pi-check"]],template:function(t,n){if(t&1){let u=D();p(0,"p-card",1),a(1,"translate"),a(2,"uppercase"),p(3,"div",2),d(4,"div"),p(5,"div")(6,"button",3),w("click",function(){b(u);let _=k(9);return y(n.clear(_))}),s(),p(7,"button",4),w("click",function(){return b(u),y(n.add())}),s()()(),p(8,"p-table",5,0),w("onLazyLoad",function(_){return b(u),y(n.getDataPaged(_))}),g(10,$e,9,1,"ng-template",6)(11,ze,5,1,"ng-template",7),s()()}t&2&&(f("header",r(2,17,r(1,15,"pages.employees"))),o(8),f("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[J,G,pe,le,Q,z,ie,W,X,Z,Y,ee,te,O,H,re,ae,N],encapsulation:2})};export{R as default};
