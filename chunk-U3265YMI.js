import{a as me}from"./chunk-ZW6TFR5U.js";import{a as le,b as pe}from"./chunk-WIRE6G66.js";import{a as re,b as de}from"./chunk-3WV3ZJ7R.js";import"./chunk-4O3W2NBE.js";import"./chunk-GNONCHDB.js";import{b as ee,c as te,d as ie,f as oe,j as ne}from"./chunk-XUHDHR7E.js";import"./chunk-OGQHURAE.js";import"./chunk-6J2HNO37.js";import"./chunk-XHPGIUYW.js";import"./chunk-5XVCGBHY.js";import{o as ae,p as se,q as ce}from"./chunk-DXZH3M7L.js";import"./chunk-44UL6WXM.js";import"./chunk-XMSLJEE3.js";import{Ha as J,Ja as W,Oa as X,Pa as Y,Qa as Z,Z as K}from"./chunk-L6F5SHP5.js";import{k as U,r as q,x as G}from"./chunk-A5I2MG6G.js";import"./chunk-F2X3VGZZ.js";import{$a as d,Ab as E,Bb as $,Ca as o,Cb as L,Fb as Q,Gb as c,Ha as g,Hb as x,Ib as _,Na as z,Ob as R,P as D,Ta as v,V as j,Xb as l,Yb as p,a as I,aa as T,ab as A,ba as w,fb as h,hb as S,ib as y,jb as F,jc as H,kb as r,kc as O,lb as a,mb as u,oa as b,q as V,qb as N,ub as B,vb as s,yb as C}from"./chunk-4PTIY3UM.js";var P=class e{#e="http://127.0.0.1:8080/api/templates/";http=j(q);postComponentsRedirecctions=i=>this.http.post(`${this.#e}postComponentsRedirecctions`,i);postComponents=i=>this.http.post(`${this.#e}getcomponents`,i);static \u0275fac=function(t){return new(t||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ce=["dt1"],ge=["filter"],ue=()=>["/inventory/products/create"];function xe(e,i){e&1&&(r(0,"th",11)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2&&(d("pSortableColumn","id"),o(2),_("",p(4,5,p(3,3,"labels.id"))," "),o(3),d("field","id"))}function ve(e,i){if(e&1&&(r(0,"th",12)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.nombre"))," "),o(3),d("field",t.field)}}function be(e,i){if(e&1&&(r(0,"th",13)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;d("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.description"))," "),o(3),d("field",t.field)}}function he(e,i){if(e&1&&(r(0,"th",14)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.cantidadStock"))," "),o(3),d("field",t.field)}}function Se(e,i){if(e&1&&(r(0,"th",15)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.fechaIngreso"))," "),o(3),d("field",t.field)}}function ye(e,i){e&1&&(r(0,"th",16),c(1),l(2,"translate"),l(3,"uppercase"),a()),e&2&&(o(),_("",p(3,3,p(2,1,"labels.unidadMedida"))," "))}function Fe(e,i){if(e&1&&(r(0,"th",17)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.codigoProducto"))," "),o(3),d("field",t.field)}}function Pe(e,i){if(e&1&&(r(0,"th",15)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.state"))," "),o(3),d("field",t.field)}}function Ie(e,i){if(e&1&&(r(0,"th",12)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels.empresa"))," "),o(3),d("field",t.field)}}function Te(e,i){e&1&&(r(0,"th",16),c(1),l(2,"translate"),l(3,"uppercase"),a()),e&2&&(o(),_("",p(3,3,p(2,1,"labels.categoria"))," "))}function we(e,i){if(e&1&&(r(0,"th",18)(1,"div",19),c(2),l(3,"translate"),l(4,"uppercase"),u(5,"p-sortIcon",20),a()()),e&2){let t=s().$implicit;C("pSortableColumn",t.field),o(2),_("",p(4,5,p(3,3,"labels."+t.field))," "),o(3),d("field",t.field)}}function Be(e,i){if(e&1&&v(0,xe,6,7,"th",11)(1,ve,6,7,"th",12)(2,be,6,7,"th",13)(3,he,6,7,"th",14)(4,Se,6,7,"th",15)(5,ye,4,5,"th",16)(6,Fe,6,7,"th",17)(7,Pe,6,7,"th",15)(8,Ie,6,7,"th",12)(9,Te,4,5,"th",16)(10,we,6,7,"th",18),e&2){let t,n=i.$implicit;h((t=n.field)==="id"?0:t==="nombre"?1:t==="descripcion"?2:t==="cantidadStock"?3:t==="fechaIngreso"?4:t==="unidadMedida"?5:t==="codigoProducto"?6:t==="state"?7:t==="empresa"?8:t==="categoria"?9:10)}}function Ee(e,i){if(e&1&&u(0,"shipedge-filter-input",21),e&2){let t=s().$implicit;d("field",t.field)}}function $e(e,i){e&1&&(r(0,"th",9),v(1,Ee,1,1,"shipedge-filter-input",21),a()),e&2&&(o(),h(1))}function Le(e,i){e&1&&(r(0,"th",10),c(1,"cargando"),a())}function Re(e,i){if(e&1&&(r(0,"tr"),y(1,Be,11,1,null,null,S),a(),r(3,"tr"),y(4,$e,2,1,"th",9,S,!1,Le,2,0,"th",10),a()),e&2){let t=i.$implicit;o(),F(t),o(3),F(t)}}function Me(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s(2).$implicit;o(),x(t.id)}}function ke(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s().$implicit,n=s().$implicit,f=s();A("background-color",f.getColorBackground(n.color))("color",f.getColor(n.color)),o(),_("",n[t.field]," ")}}function Ve(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s().$implicit,n=s().$implicit;o(),x(n[t.field])}}function De(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s().$implicit,n=s().$implicit;o(),x(n[t.field])}}function je(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s().$implicit,n=s().$implicit;o(),x(n[t.field])}}function ze(e,i){if(e&1&&(r(0,"td"),c(1),a()),e&2){let t=s().$implicit,n=s().$implicit;o(),x(n[t.field])}}function Ae(e,i){if(e&1&&v(0,Me,2,1,"td")(1,ke,2,5,"td",22)(2,Ve,2,1,"td")(3,De,2,1,"td")(4,je,2,1,"td")(5,ze,2,1,"td"),e&2){let t,n=i.$implicit;h((t=n.field)==="id"?0:t==="nombre"?1:t==="descripcion"?2:t==="codigoProducto"?3:t==="state"?4:5)}}function Ne(e,i){if(e&1&&(r(0,"tr"),y(1,Ae,6,1,null,null,S),a()),e&2){let t=i.columns;o(),F(t)}}var M=class e{constructor(i,t,n,f,k){this.productsServ=i;this.filterservice=t;this.translate=n;this.translateLanService=f;this.externapiServ=k;this.translateLanService.changeLanguage$.subscribe(m=>this.translate.use(m)),O(()=>{this.productsServ.postProductsGet().pipe(V(m=>(console.log("console.log('', t):   ",m),{data:Array.isArray(m)?[...m]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null}))).subscribe({next:m=>{console.log(I({},this.productsdto())),console.log(m),this.stateValues.set({data:m.data&&m.data.length>0?[...m.data]:[],page:0,rows:0,total_records:0,loaded:!0,loading:!1,error:null})},error:m=>this.stateValues.set({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:m})})})}table;filter;stateValues=b({data:[],page:0,rows:0,total_records:0,loaded:!1,loading:!0,error:null});searchTxt=b([]);productsdto=b({config:{populate_data:!0,page:1,rows:15,sort_field:[]},filter:{}});tablecon=re.cantidadRegistros;stateIni=!1;allowedColumns=["id","nombre","codigoProducto","empresa","descripcion","cantidadStock","fechaIngreso","unidadMedida","state","categoria"];columns=this.allowedColumns;columnsSelectSignal=H(()=>this.columns.map(i=>({field:i,header:i.charAt(0).toUpperCase()+i.slice(1)})));clear=i=>{this.productsdto.set({config:{populate_data:!1,page:1,rows:15,sort_field:[]},filter:{}}),i.clear()};getDataPaged(i){i.filters&&this.stateIni!==!1&&this.productsdto.update(()=>({config:{populate_data:!1,page:(i.first||0)/Number(i.rows)+1,sort_field:i.multiSortMeta?i.multiSortMeta.filter(t=>t.field):[],rows:Number(i.rows)},filter:I({},this.filterservice.applyFilterNew(i.filters,this.productsdto().filter))})),this.stateIni=!0}getColorBackground(i){switch(i){case"Natural":return"#cccccc";case"Champan":return"#FBE7C6";case"Negro":return"#000000";case"Madera":return"#8B4513";default:return"#FFFFFF"}}getColor(i){switch(i){case"Natural":return"#000000";case"Champan":return"#000000";case"Negro":return"#FFFFFF";case"Madera":return"#FFFFFF";default:return"#FFFFFF"}}static \u0275fac=function(t){return new(t||e)(g(me),g(de),g(X),g(ae),g(P))};static \u0275cmp=z({type:e,selectors:[["app-products"]],viewQuery:function(t,n){if(t&1&&(E(Ce,5),E(ge,5)),t&2){let f;$(f=L())&&(n.table=f.first),$(f=L())&&(n.filter=f.first)}},decls:13,vars:23,consts:[["dt1",""],[3,"header"],[1,"flex","justify-content-between"],["pButton","","icon","pi pi-file-pdf","title","Proforma",1,"p-button-outlined","mr-1",3,"routerLink"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mr-1",3,"click"],["pButton","","icon","pi pi-plus",1,"p-button-outlined","mr-1",3,"routerLink"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} employees","styleClass","p-datatable-sm","responsiveLayout","scroll","scrollHeight","60vh",3,"onLazyLoad","value","paginator","loading","rows","rowHover","rowsPerPageOptions","lazy","columns","reorderableColumns","totalRecords","sortMode","customSort","scrollable","paginatorPosition"],["pTemplate","header"],["pTemplate","body"],[2,"min-width","11rem"],[2,"min-width","12rem"],["pReorderableColumn","",2,"min-width","1rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","20rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","25rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","10rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem",3,"pSortableColumn"],["pReorderableColumn","",2,"min-width","15rem"],["pReorderableColumn","",2,"min-width","2rem",3,"pSortableColumn"],["pReorderableColumn","",3,"pSortableColumn"],[1,"flex","justify-content-between","align-items-left"],[3,"field"],["type","text",3,"field"],[3,"backgroundColor","color"]],template:function(t,n){if(t&1){let f=N();r(0,"p-card",1),l(1,"translate"),l(2,"uppercase"),r(3,"div",2)(4,"div"),u(5,"button",3),a(),r(6,"div")(7,"button",4),B("click",function(){T(f);let m=Q(10);return w(n.clear(m))}),a(),u(8,"button",5),a()(),r(9,"p-table",6,0),B("onLazyLoad",function(m){return T(f),w(n.getDataPaged(m))}),v(11,Re,7,1,"ng-template",7)(12,Ne,3,0,"ng-template",8),a()()}t&2&&(d("header",p(2,19,p(1,17,"pages.products"))),o(5),d("routerLink",R(21,ue)),o(3),d("routerLink",R(22,ue)),o(),d("value",n.stateValues().data)("paginator",!0)("loading",n.stateValues().loading)("rows",n.stateValues().data.length)("rowHover",!0)("rowsPerPageOptions",n.tablecon)("lazy",!0)("columns",n.columnsSelectSignal())("reorderableColumns",!0)("totalRecords",n.stateValues().total_records)("sortMode","multiple")("customSort",!0)("scrollable",!0)("paginatorPosition",n.stateValues().data&&n.stateValues().data.length>50?"both":"bottom"))},dependencies:[Z,Y,ce,se,K,U,ne,ee,te,oe,ie,W,J,pe,le,G],encapsulation:2})};export{M as default};
