import{a as ie,b as ne}from"./chunk-OBVE7QEL.js";import{a as te}from"./chunk-2LRB4YVM.js";import{a as X}from"./chunk-2IF7ZH3D.js";import{b as Q,i as W}from"./chunk-MWQF4XXQ.js";import"./chunk-4LF5IOFW.js";import{a as ee}from"./chunk-43HW3753.js";import{b as Y}from"./chunk-LZJM6ABZ.js";import{a as Z}from"./chunk-G255QGHI.js";import{a as H}from"./chunk-UYIDI6XF.js";import{b as k,c as G,d as O,e as F}from"./chunk-IJWSAIOW.js";import{i as J,j as K}from"./chunk-QXMRRD5J.js";import"./chunk-L5WP44S2.js";import{E as z,F as q}from"./chunk-TLDPOR5N.js";import{d as U,h as $,j as A}from"./chunk-NU7MKXHP.js";import"./chunk-F2X3VGZZ.js";import"./chunk-S5MQWB2L.js";import{r as L,s as P,t as V}from"./chunk-OF6IZINW.js";import{$ as w,Aa as i,Fa as d,Ma as R,Mb as n,N as I,Nb as a,Pb as T,Sa as v,T as h,Vb as M,_,cb as E,cc as p,dc as l,ec as j,fc as u,ib as y,ma as g,nb as e,ob as t,pb as b,sc as N,tb as B,yb as D,zb as C}from"./chunk-H3HIGMDG.js";import"./chunk-C6Q5SG76.js";var x=class r{#e=`${Z.URL_API}detalle-compras/`;http=h(U);getDetCompras=m=>this.http.get(`${this.#e}items/${m}`);static \u0275fac=function(o){return new(o||r)};static \u0275prov=I({token:r,factory:r.\u0275fac,providedIn:"root"})};var le=()=>({width:"100%"});function oe(r,m){r&1&&(e(0,"tr",15)(1,"th"),n(2),p(3,"translate"),p(4,"uppercase"),t()()),r&2&&(i(2),a(l(4,3,l(3,1,"labels.details"))))}function me(r,m){r&1&&(e(0,"tr")(1,"th",16),n(2,"No"),t(),e(3,"th"),n(4),p(5,"translate"),p(6,"uppercase"),t(),e(7,"th",16),n(8),p(9,"translate"),p(10,"uppercase"),t(),e(11,"th",16),n(12),p(13,"translate"),p(14,"uppercase"),t(),e(15,"th",16),n(16),p(17,"translate"),p(18,"uppercase"),t()()),r&2&&(i(4),a(l(6,6,l(5,4,"labels.producto"))),i(4),a(l(10,10,l(9,8,"labels.cantidad"))),i(4),a(l(14,14,l(13,12,"labels.precioUnitario"))),i(4),a(l(18,18,l(17,16,"labels.precio_total"))))}function se(r,m){if(r&1&&(e(0,"tr")(1,"td",17)(2,"label"),n(3),p(4,"translate"),p(5,"uppercase"),t()(),e(6,"td",18),n(7),t()()),r&2){let o=C(2);i(3),a(l(5,4,l(4,2,"labels.precio_total"))),i(4),a(o.itemRegister().total)}}function de(r,m){if(r&1&&(e(0,"tr")(1,"td",16),n(2),t(),e(3,"td"),n(4),t(),e(5,"td",16),n(6),t(),e(7,"td",16),n(8),t(),e(9,"td",16),n(10),t()(),v(11,se,8,6,"tr")),r&2){let o=m.$implicit,s=m.rowIndex,f=C();i(2),a(s+1),i(2),a(o.producto.nombre),i(2),a(o.cantidad),i(2),a(o.precioUnitario),i(2),a(o.cantidad*o.precioUnitario),i(),y(s+1===f.detailView().length?11:-1)}}function ce(r,m){r&1&&b(0,"div",19)}var S=class r{constructor(m,o,s,f,ae,ue){this.comprasServ=m;this.detalleComprasServ=o;this.router=s;this.route=f;this.translateLanService=ae;this.translate=ue;this.id=this.route.snapshot.paramMap.get("id"),this.translateLanService.changeLanguage$.subscribe(c=>this.translate.use(c)),N(()=>{this.comprasServ.getOneCompra(Number(this.id)).subscribe(c=>this.itemRegister.set(c)),this.detalleComprasServ.getDetCompras(Number(this.id)).subscribe(c=>this.detailView.set(c))})}id=null;title="labels.detail_purchase";itemRegister=g({});detailView=g(null);redirectNew=()=>this.router.navigate(["/transactions/compras/"]);static \u0275fac=function(o){return new(o||r)(d(te),d(x),d(A),d($),d(F),d(k))};static \u0275cmp=R({type:r,selectors:[["app-return-details"]],decls:49,vars:29,consts:[["caption",""],["header",""],["body",""],["footer",""],[1,"flex","justify-content-between","w-full"],[1,"text-4xl","w-full"],["title","Nueva Compra","icon","pi pi-plus"],["title","Imprimir Compra","icon","pi pi-print"],["title","Imprimir Compra","icon","pi pi-arrow-down-left",3,"click"],[1,"flex","md:flex-row","sm:flex-row"],[1,"col-12","md:col-7","w-full"],[1,"flex","md:flex-row","flex-row","w-full"],[1,"justify-content-left","align-items-center","gap-2","pb-2","lg:w-full","md:w-full","w-full"],[1,"flex","md:flex-row","flex-row","w-full","pt-2"],[3,"value","tableStyle","styleClass"],[1,"from-stone-400"],[2,"text-align","right"],["colspan","4",2,"text-align","right","font-weight","800"],[2,"text-align","right","font-weight","800"],[1,"flex","gap-3","mt-1"]],template:function(o,s){if(o&1){let f=B();e(0,"p-card")(1,"div",4)(2,"div",5)(3,"b"),n(4),p(5,"translate"),p(6,"uppercase"),t()(),e(7,"p-buttongroup"),b(8,"p-button",6)(9,"p-button",7),e(10,"p-button",8),D("click",function(){return _(f),w(s.redirectNew())}),t()()(),e(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"b"),n(16),p(17,"translate"),t(),e(18,"div"),n(19),t()(),e(20,"div",12)(21,"b"),n(22),p(23,"translate"),t(),e(24,"div"),n(25),t()(),e(26,"div",12)(27,"b"),n(28),p(29,"translate"),t(),e(30,"div"),n(31),p(32,"date"),t()()(),e(33,"div",13)(34,"div",12)(35,"b"),n(36),p(37,"translate"),t(),e(38,"div"),n(39),t()()()()(),e(40,"p-table",14),v(41,oe,5,5,"ng-template",null,0,u)(43,me,19,20,"ng-template",null,1,u)(45,de,12,6,"ng-template",null,2,u),t(),v(47,ce,1,0,"ng-template",null,3,u),t()}o&2&&(i(4),T("",l(6,15,l(5,13,`${s.title}`))," No ",s.id,""),i(12),a(l(17,17,"labels.proveedor")),i(3),a(s.itemRegister().proveedor.empresa),i(3),a(l(23,19,"labels.nit")),i(3),a(s.itemRegister().proveedor.nit),i(3),a(l(29,21,"labels.fechaCompra")),i(3),a(j(32,23,s.itemRegister().fechaCompra,"dd/MM/yyyy")),i(5),a(l(37,26,"labels.addres")),i(3),a(s.itemRegister().proveedor.direccionEmpresa),i(),E("value",s.detailView())("tableStyle",M(28,le))("styleClass","p-datatable-sm w-full pt-2"))},dependencies:[K,J,W,Q,q,z,H,G,X,O,V,L,P,Y,ee,ne,ie],encapsulation:2,changeDetection:0})};export{S as default};
